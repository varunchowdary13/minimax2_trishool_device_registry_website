var $0=Object.defineProperty;var ef=(x,m,g)=>m in x?$0(x,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):x[m]=g;var d1=(x,m,g)=>ef(x,typeof m!="symbol"?m+"":m,g);function j1(x,m){for(var g=0;g<m.length;g++){const A=m[g];if(typeof A!="string"&&!Array.isArray(A)){for(const I in A)if(I!=="default"&&!(I in x)){const C=Object.getOwnPropertyDescriptor(A,I);C&&Object.defineProperty(x,I,C.get?C:{enumerable:!0,get:()=>A[I]})}}}return Object.freeze(Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}))}(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const I of document.querySelectorAll('link[rel="modulepreload"]'))A(I);new MutationObserver(I=>{for(const C of I)if(C.type==="childList")for(const O of C.addedNodes)O.tagName==="LINK"&&O.rel==="modulepreload"&&A(O)}).observe(document,{childList:!0,subtree:!0});function g(I){const C={};return I.integrity&&(C.integrity=I.integrity),I.referrerPolicy&&(C.referrerPolicy=I.referrerPolicy),I.crossOrigin==="use-credentials"?C.credentials="include":I.crossOrigin==="anonymous"?C.credentials="omit":C.credentials="same-origin",C}function A(I){if(I.ep)return;I.ep=!0;const C=g(I);fetch(I.href,C)}})();var _l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function z1(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x.default:x}var ru={exports:{}},po={},iu={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1;function tf(){if(h1)return qe;h1=1;var x=Symbol.for("react.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),O=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),N=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),M=Symbol.iterator;function le(U){return U===null||typeof U!="object"?null:(U=M&&U[M]||U["@@iterator"],typeof U=="function"?U:null)}var xe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},be=Object.assign,ae={};function he(U,K,je){this.props=U,this.context=K,this.refs=ae,this.updater=je||xe}he.prototype.isReactComponent={},he.prototype.setState=function(U,K){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,K,"setState")},he.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function Me(){}Me.prototype=he.prototype;function Te(U,K,je){this.props=U,this.context=K,this.refs=ae,this.updater=je||xe}var re=Te.prototype=new Me;re.constructor=Te,be(re,he.prototype),re.isPureReactComponent=!0;var Se=Array.isArray,ct=Object.prototype.hasOwnProperty,Ce={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function Ue(U,K,je){var ke,et={},ce=null,dt=null;if(K!=null)for(ke in K.ref!==void 0&&(dt=K.ref),K.key!==void 0&&(ce=""+K.key),K)ct.call(K,ke)&&!$.hasOwnProperty(ke)&&(et[ke]=K[ke]);var Ve=arguments.length-2;if(Ve===1)et.children=je;else if(1<Ve){for(var ht=Array(Ve),Kt=0;Kt<Ve;Kt++)ht[Kt]=arguments[Kt+2];et.children=ht}if(U&&U.defaultProps)for(ke in Ve=U.defaultProps,Ve)et[ke]===void 0&&(et[ke]=Ve[ke]);return{$$typeof:x,type:U,key:ce,ref:dt,props:et,_owner:Ce.current}}function ie(U,K){return{$$typeof:x,type:U.type,key:K,ref:U.ref,props:U.props,_owner:U._owner}}function mn(U){return typeof U=="object"&&U!==null&&U.$$typeof===x}function Pt(U){var K={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(je){return K[je]})}var Oe=/\/+/g;function Xe(U,K){return typeof U=="object"&&U!==null&&U.key!=null?Pt(""+U.key):K.toString(36)}function ft(U,K,je,ke,et){var ce=typeof U;(ce==="undefined"||ce==="boolean")&&(U=null);var dt=!1;if(U===null)dt=!0;else switch(ce){case"string":case"number":dt=!0;break;case"object":switch(U.$$typeof){case x:case m:dt=!0}}if(dt)return dt=U,et=et(dt),U=ke===""?"."+Xe(dt,0):ke,Se(et)?(je="",U!=null&&(je=U.replace(Oe,"$&/")+"/"),ft(et,K,je,"",function(Kt){return Kt})):et!=null&&(mn(et)&&(et=ie(et,je+(!et.key||dt&&dt.key===et.key?"":(""+et.key).replace(Oe,"$&/")+"/")+U)),K.push(et)),1;if(dt=0,ke=ke===""?".":ke+":",Se(U))for(var Ve=0;Ve<U.length;Ve++){ce=U[Ve];var ht=ke+Xe(ce,Ve);dt+=ft(ce,K,je,ht,et)}else if(ht=le(U),typeof ht=="function")for(U=ht.call(U),Ve=0;!(ce=U.next()).done;)ce=ce.value,ht=ke+Xe(ce,Ve++),dt+=ft(ce,K,je,ht,et);else if(ce==="object")throw K=String(U),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return dt}function Z(U,K,je){if(U==null)return U;var ke=[],et=0;return ft(U,ke,"","",function(ce){return K.call(je,ce,et++)}),ke}function it(U){if(U._status===-1){var K=U._result;K=K(),K.then(function(je){(U._status===0||U._status===-1)&&(U._status=1,U._result=je)},function(je){(U._status===0||U._status===-1)&&(U._status=2,U._result=je)}),U._status===-1&&(U._status=0,U._result=K)}if(U._status===1)return U._result.default;throw U._result}var ve={current:null},de={transition:null},_e={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:de,ReactCurrentOwner:Ce};function ge(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:Z,forEach:function(U,K,je){Z(U,function(){K.apply(this,arguments)},je)},count:function(U){var K=0;return Z(U,function(){K++}),K},toArray:function(U){return Z(U,function(K){return K})||[]},only:function(U){if(!mn(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},qe.Component=he,qe.Fragment=g,qe.Profiler=I,qe.PureComponent=Te,qe.StrictMode=A,qe.Suspense=B,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,qe.act=ge,qe.cloneElement=function(U,K,je){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ke=be({},U.props),et=U.key,ce=U.ref,dt=U._owner;if(K!=null){if(K.ref!==void 0&&(ce=K.ref,dt=Ce.current),K.key!==void 0&&(et=""+K.key),U.type&&U.type.defaultProps)var Ve=U.type.defaultProps;for(ht in K)ct.call(K,ht)&&!$.hasOwnProperty(ht)&&(ke[ht]=K[ht]===void 0&&Ve!==void 0?Ve[ht]:K[ht])}var ht=arguments.length-2;if(ht===1)ke.children=je;else if(1<ht){Ve=Array(ht);for(var Kt=0;Kt<ht;Kt++)Ve[Kt]=arguments[Kt+2];ke.children=Ve}return{$$typeof:x,type:U.type,key:et,ref:ce,props:ke,_owner:dt}},qe.createContext=function(U){return U={$$typeof:O,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:C,_context:U},U.Consumer=U},qe.createElement=Ue,qe.createFactory=function(U){var K=Ue.bind(null,U);return K.type=U,K},qe.createRef=function(){return{current:null}},qe.forwardRef=function(U){return{$$typeof:P,render:U}},qe.isValidElement=mn,qe.lazy=function(U){return{$$typeof:W,_payload:{_status:-1,_result:U},_init:it}},qe.memo=function(U,K){return{$$typeof:N,type:U,compare:K===void 0?null:K}},qe.startTransition=function(U){var K=de.transition;de.transition={};try{U()}finally{de.transition=K}},qe.unstable_act=ge,qe.useCallback=function(U,K){return ve.current.useCallback(U,K)},qe.useContext=function(U){return ve.current.useContext(U)},qe.useDebugValue=function(){},qe.useDeferredValue=function(U){return ve.current.useDeferredValue(U)},qe.useEffect=function(U,K){return ve.current.useEffect(U,K)},qe.useId=function(){return ve.current.useId()},qe.useImperativeHandle=function(U,K,je){return ve.current.useImperativeHandle(U,K,je)},qe.useInsertionEffect=function(U,K){return ve.current.useInsertionEffect(U,K)},qe.useLayoutEffect=function(U,K){return ve.current.useLayoutEffect(U,K)},qe.useMemo=function(U,K){return ve.current.useMemo(U,K)},qe.useReducer=function(U,K,je){return ve.current.useReducer(U,K,je)},qe.useRef=function(U){return ve.current.useRef(U)},qe.useState=function(U){return ve.current.useState(U)},qe.useSyncExternalStore=function(U,K,je){return ve.current.useSyncExternalStore(U,K,je)},qe.useTransition=function(){return ve.current.useTransition()},qe.version="18.3.1",qe}var g1;function xu(){return g1||(g1=1,iu.exports=tf()),iu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x1;function nf(){if(x1)return po;x1=1;var x=xu(),m=Symbol.for("react.element"),g=Symbol.for("react.fragment"),A=Object.prototype.hasOwnProperty,I=x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C={key:!0,ref:!0,__self:!0,__source:!0};function O(P,B,N){var W,M={},le=null,xe=null;N!==void 0&&(le=""+N),B.key!==void 0&&(le=""+B.key),B.ref!==void 0&&(xe=B.ref);for(W in B)A.call(B,W)&&!C.hasOwnProperty(W)&&(M[W]=B[W]);if(P&&P.defaultProps)for(W in B=P.defaultProps,B)M[W]===void 0&&(M[W]=B[W]);return{$$typeof:m,type:P,key:le,ref:xe,props:M,_owner:I.current}}return po.Fragment=g,po.jsx=O,po.jsxs=O,po}var p1;function rf(){return p1||(p1=1,ru.exports=nf()),ru.exports}var V=rf(),ue=xu();const W1=z1(ue),sf=j1({__proto__:null,default:W1},[ue]);var Rl={},su={exports:{}},Fn={},ou={exports:{}},lu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m1;function of(){return m1||(m1=1,function(x){function m(de,_e){var ge=de.length;de.push(_e);e:for(;0<ge;){var U=ge-1>>>1,K=de[U];if(0<I(K,_e))de[U]=_e,de[ge]=K,ge=U;else break e}}function g(de){return de.length===0?null:de[0]}function A(de){if(de.length===0)return null;var _e=de[0],ge=de.pop();if(ge!==_e){de[0]=ge;e:for(var U=0,K=de.length,je=K>>>1;U<je;){var ke=2*(U+1)-1,et=de[ke],ce=ke+1,dt=de[ce];if(0>I(et,ge))ce<K&&0>I(dt,et)?(de[U]=dt,de[ce]=ge,U=ce):(de[U]=et,de[ke]=ge,U=ke);else if(ce<K&&0>I(dt,ge))de[U]=dt,de[ce]=ge,U=ce;else break e}}return _e}function I(de,_e){var ge=de.sortIndex-_e.sortIndex;return ge!==0?ge:de.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var C=performance;x.unstable_now=function(){return C.now()}}else{var O=Date,P=O.now();x.unstable_now=function(){return O.now()-P}}var B=[],N=[],W=1,M=null,le=3,xe=!1,be=!1,ae=!1,he=typeof setTimeout=="function"?setTimeout:null,Me=typeof clearTimeout=="function"?clearTimeout:null,Te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function re(de){for(var _e=g(N);_e!==null;){if(_e.callback===null)A(N);else if(_e.startTime<=de)A(N),_e.sortIndex=_e.expirationTime,m(B,_e);else break;_e=g(N)}}function Se(de){if(ae=!1,re(de),!be)if(g(B)!==null)be=!0,it(ct);else{var _e=g(N);_e!==null&&ve(Se,_e.startTime-de)}}function ct(de,_e){be=!1,ae&&(ae=!1,Me(Ue),Ue=-1),xe=!0;var ge=le;try{for(re(_e),M=g(B);M!==null&&(!(M.expirationTime>_e)||de&&!Pt());){var U=M.callback;if(typeof U=="function"){M.callback=null,le=M.priorityLevel;var K=U(M.expirationTime<=_e);_e=x.unstable_now(),typeof K=="function"?M.callback=K:M===g(B)&&A(B),re(_e)}else A(B);M=g(B)}if(M!==null)var je=!0;else{var ke=g(N);ke!==null&&ve(Se,ke.startTime-_e),je=!1}return je}finally{M=null,le=ge,xe=!1}}var Ce=!1,$=null,Ue=-1,ie=5,mn=-1;function Pt(){return!(x.unstable_now()-mn<ie)}function Oe(){if($!==null){var de=x.unstable_now();mn=de;var _e=!0;try{_e=$(!0,de)}finally{_e?Xe():(Ce=!1,$=null)}}else Ce=!1}var Xe;if(typeof Te=="function")Xe=function(){Te(Oe)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,Z=ft.port2;ft.port1.onmessage=Oe,Xe=function(){Z.postMessage(null)}}else Xe=function(){he(Oe,0)};function it(de){$=de,Ce||(Ce=!0,Xe())}function ve(de,_e){Ue=he(function(){de(x.unstable_now())},_e)}x.unstable_IdlePriority=5,x.unstable_ImmediatePriority=1,x.unstable_LowPriority=4,x.unstable_NormalPriority=3,x.unstable_Profiling=null,x.unstable_UserBlockingPriority=2,x.unstable_cancelCallback=function(de){de.callback=null},x.unstable_continueExecution=function(){be||xe||(be=!0,it(ct))},x.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<de?Math.floor(1e3/de):5},x.unstable_getCurrentPriorityLevel=function(){return le},x.unstable_getFirstCallbackNode=function(){return g(B)},x.unstable_next=function(de){switch(le){case 1:case 2:case 3:var _e=3;break;default:_e=le}var ge=le;le=_e;try{return de()}finally{le=ge}},x.unstable_pauseExecution=function(){},x.unstable_requestPaint=function(){},x.unstable_runWithPriority=function(de,_e){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var ge=le;le=de;try{return _e()}finally{le=ge}},x.unstable_scheduleCallback=function(de,_e,ge){var U=x.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?U+ge:U):ge=U,de){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ge+K,de={id:W++,callback:_e,priorityLevel:de,startTime:ge,expirationTime:K,sortIndex:-1},ge>U?(de.sortIndex=ge,m(N,de),g(B)===null&&de===g(N)&&(ae?(Me(Ue),Ue=-1):ae=!0,ve(Se,ge-U))):(de.sortIndex=K,m(B,de),be||xe||(be=!0,it(ct))),de},x.unstable_shouldYield=Pt,x.unstable_wrapCallback=function(de){var _e=le;return function(){var ge=le;le=_e;try{return de.apply(this,arguments)}finally{le=ge}}}}(lu)),lu}var w1;function lf(){return w1||(w1=1,ou.exports=of()),ou.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1;function af(){if(y1)return Fn;y1=1;var x=xu(),m=lf();function g(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A=new Set,I={};function C(t,i){O(t,i),O(t+"Capture",i)}function O(t,i){for(I[t]=i,t=0;t<i.length;t++)A.add(i[t])}var P=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),B=Object.prototype.hasOwnProperty,N=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W={},M={};function le(t){return B.call(M,t)?!0:B.call(W,t)?!1:N.test(t)?M[t]=!0:(W[t]=!0,!1)}function xe(t,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function be(t,i,a,c){if(i===null||typeof i>"u"||xe(t,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function ae(t,i,a,c,h,p,v){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=t,this.type=i,this.sanitizeURL=p,this.removeEmptyString=v}var he={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){he[t]=new ae(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];he[i]=new ae(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){he[t]=new ae(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){he[t]=new ae(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){he[t]=new ae(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){he[t]=new ae(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){he[t]=new ae(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){he[t]=new ae(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){he[t]=new ae(t,5,!1,t.toLowerCase(),null,!1,!1)});var Me=/[\-:]([a-z])/g;function Te(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(Me,Te);he[i]=new ae(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(Me,Te);he[i]=new ae(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(Me,Te);he[i]=new ae(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){he[t]=new ae(t,1,!1,t.toLowerCase(),null,!1,!1)}),he.xlinkHref=new ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){he[t]=new ae(t,1,!1,t.toLowerCase(),null,!0,!0)});function re(t,i,a,c){var h=he.hasOwnProperty(i)?he[i]:null;(h!==null?h.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(be(i,a,h,c)&&(a=null),c||h===null?le(i)&&(a===null?t.removeAttribute(i):t.setAttribute(i,""+a)):h.mustUseProperty?t[h.propertyName]=a===null?h.type===3?!1:"":a:(i=h.attributeName,c=h.attributeNamespace,a===null?t.removeAttribute(i):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,c?t.setAttributeNS(c,i,a):t.setAttribute(i,a))))}var Se=x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ct=Symbol.for("react.element"),Ce=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),Ue=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),mn=Symbol.for("react.provider"),Pt=Symbol.for("react.context"),Oe=Symbol.for("react.forward_ref"),Xe=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),de=Symbol.iterator;function _e(t){return t===null||typeof t!="object"?null:(t=de&&t[de]||t["@@iterator"],typeof t=="function"?t:null)}var ge=Object.assign,U;function K(t){if(U===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);U=i&&i[1]||""}return`
`+U+t}var je=!1;function ke(t,i){if(!t||je)return"";je=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(Y){var c=Y}Reflect.construct(t,[],i)}else{try{i.call()}catch(Y){c=Y}t.call(i.prototype)}else{try{throw Error()}catch(Y){c=Y}t()}}catch(Y){if(Y&&c&&typeof Y.stack=="string"){for(var h=Y.stack.split(`
`),p=c.stack.split(`
`),v=h.length-1,R=p.length-1;1<=v&&0<=R&&h[v]!==p[R];)R--;for(;1<=v&&0<=R;v--,R--)if(h[v]!==p[R]){if(v!==1||R!==1)do if(v--,R--,0>R||h[v]!==p[R]){var b=`
`+h[v].replace(" at new "," at ");return t.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",t.displayName)),b}while(1<=v&&0<=R);break}}}finally{je=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?K(t):""}function et(t){switch(t.tag){case 5:return K(t.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return t=ke(t.type,!1),t;case 11:return t=ke(t.type.render,!1),t;case 1:return t=ke(t.type,!0),t;default:return""}}function ce(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case Ce:return"Portal";case ie:return"Profiler";case Ue:return"StrictMode";case Xe:return"Suspense";case ft:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Pt:return(t.displayName||"Context")+".Consumer";case mn:return(t._context.displayName||"Context")+".Provider";case Oe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z:return i=t.displayName||null,i!==null?i:ce(t.type)||"Memo";case it:i=t._payload,t=t._init;try{return ce(t(i))}catch{}}return null}function dt(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(i);case 8:return i===Ue?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ve(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ht(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Kt(t){var i=ht(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),c=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,p=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){c=""+v,p.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qt(t){t._valueTracker||(t._valueTracker=Kt(t))}function Ci(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return t&&(c=ht(t)?t.checked?"true":"false":t.value),t=c,t!==a?(i.setValue(t),!0):!1}function tt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yr(t,i){var a=i.checked;return ge({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function Un(t,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Ve(i.value!=null?i.value:a),t._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Gr(t,i){i=i.checked,i!=null&&re(t,"checked",i,!1)}function Vt(t,i){Gr(t,i);var a=Ve(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?Je(t,i.type,a):i.hasOwnProperty("defaultValue")&&Je(t,i.type,Ve(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function pt(t,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,a||i===t.value||(t.value=i),t.defaultValue=i}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function Je(t,i,a){(i!=="number"||tt(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var Er=Array.isArray;function we(t,i,a,c){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&c&&(t[a].defaultSelected=!0)}else{for(a=""+Ve(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,c&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Xr(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(g(91));return ge({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _s(t,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(g(92));if(Er(a)){if(1<a.length)throw Error(g(93));a=a[0]}i=a}i==null&&(i=""),a=i}t._wrapperState={initialValue:Ve(a)}}function Jn(t,i){var a=Ve(i.value),c=Ve(i.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),i.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),c!=null&&(t.defaultValue=""+c)}function Qi(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function Rn(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qi(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?Rn(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vn,sn=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,h){MSApp.execUnsafeLocalFunction(function(){return t(i,a,c,h)})}:t}(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(Vn=Vn||document.createElement("div"),Vn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Vn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function Yr(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bl=["Webkit","ms","Moz","O"];Object.keys(Cr).forEach(function(t){Bl.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),Cr[i]=Cr[t]})});function Dt(t,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Cr.hasOwnProperty(t)&&Cr[t]?(""+i).trim():i+"px"}function fe(t,i){t=t.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,h=Dt(a,i[a],c);a==="float"&&(a="cssFloat"),c?t.setProperty(a,h):t[a]=h}}var jt=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function at(t,i){if(i){if(jt[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(g(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(g(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(g(61))}if(i.style!=null&&typeof i.style!="object")throw Error(g(62))}}function Ct(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Or=null;function Ai(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ji=null,Qe=null,On=null;function Rs(t){if(t=eo(t)){if(typeof Ji!="function")throw Error(g(280));var i=t.stateNode;i&&(i=Wo(i),Ji(t.stateNode,t.type,i))}}function Os(t){Qe?On?On.push(t):On=[t]:Qe=t}function Dn(){if(Qe){var t=Qe,i=On;if(On=Qe=null,Rs(t),i)for(t=0;t<i.length;t++)Rs(i[t])}}function $i(t,i){return t(i)}function qt(){}var Ar=!1;function vi(t,i,a){if(Ar)return t(i,a);Ar=!0;try{return $i(t,i,a)}finally{Ar=!1,(Qe!==null||On!==null)&&(qt(),Dn())}}function wn(t,i){var a=t.stateNode;if(a===null)return null;var c=Wo(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(g(231,i,typeof a));return a}var Ds=!1;if(P)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){Ds=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{Ds=!1}function bs(t,i,a,c,h,p,v,R,b){var Y=Array.prototype.slice.call(arguments,3);try{i.apply(a,Y)}catch(ee){this.onError(ee)}}var Xt=!1,$n=null,fn=!1,pe=null,Zr={onError:function(t){Xt=!0,$n=t}};function Ms(t,i,a,c,h,p,v,R,b){Xt=!1,$n=null,bs.apply(Zr,arguments)}function yn(t,i,a,c,h,p,v,R,b){if(Ms.apply(this,arguments),Xt){if(Xt){var Y=$n;Xt=!1,$n=null}else throw Error(g(198));fn||(fn=!0,pe=Y)}}function bn(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function Si(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function Ii(t){if(bn(t)!==t)throw Error(g(188))}function er(t){var i=t.alternate;if(!i){if(i=bn(t),i===null)throw Error(g(188));return i!==t?null:t}for(var a=t,c=i;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return Ii(h),t;if(p===c)return Ii(h),i;p=p.sibling}throw Error(g(188))}if(a.return!==c.return)a=h,c=p;else{for(var v=!1,R=h.child;R;){if(R===a){v=!0,a=h,c=p;break}if(R===c){v=!0,c=h,a=p;break}R=R.sibling}if(!v){for(R=p.child;R;){if(R===a){v=!0,a=p,c=h;break}if(R===c){v=!0,c=p,a=h;break}R=R.sibling}if(!v)throw Error(g(189))}}if(a.alternate!==c)throw Error(g(190))}if(a.tag!==3)throw Error(g(188));return a.stateNode.current===a?t:i}function Ao(t){return t=er(t),t!==null?vo(t):null}function vo(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=vo(t);if(i!==null)return i;t=t.sibling}return null}var zn=m.unstable_scheduleCallback,on=m.unstable_cancelCallback,At=m.unstable_shouldYield,So=m.unstable_requestPaint,gt=m.unstable_now,ks=m.unstable_getCurrentPriorityLevel,Q=m.unstable_ImmediatePriority,Io=m.unstable_UserBlockingPriority,yt=m.unstable_NormalPriority,Kr=m.unstable_LowPriority,No=m.unstable_IdlePriority,rt=null,Ye=null;function $e(t){if(Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(rt,t,void 0,(t.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:zt,Ps=Math.log,Bs=Math.LN2;function zt(t){return t>>>=0,t===0?32:31-(Ps(t)/Bs|0)|0}var Wn=64,es=4194304;function Et(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hn(t,i){var a=t.pendingLanes;if(a===0)return 0;var c=0,h=t.suspendedLanes,p=t.pingedLanes,v=a&268435455;if(v!==0){var R=v&~h;R!==0?c=Et(R):(p&=v,p!==0&&(c=Et(p)))}else v=a&~h,v!==0?c=Et(v):p!==0&&(c=Et(p));if(c===0)return 0;if(i!==0&&i!==c&&(i&h)===0&&(h=c&-c,p=i&-i,h>=p||h===16&&(p&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=c;0<i;)a=31-Nn(i),h=1<<a,c|=t[a],i&=~h;return c}function Ll(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qr(t,i){for(var a=t.suspendedLanes,c=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var v=31-Nn(p),R=1<<v,b=h[v];b===-1?((R&a)===0||(R&c)!==0)&&(h[v]=Ll(R,i)):b<=i&&(t.expiredLanes|=R),p&=~R}}function xt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Jt(){var t=Wn;return Wn<<=1,(Wn&4194240)===0&&(Wn=64),t}function j(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function T(t,i,a){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-Nn(i),t[i]=a}function Re(t,i){var a=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<a;){var h=31-Nn(a),p=1<<h;i[h]=0,c[h]=-1,t[h]=-1,a&=~p}}function Bt(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var c=31-Nn(a),h=1<<c;h&i|t[c]&i&&(t[c]|=i),a&=~h}}var Ze=0;function To(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var ts,En,De,vt,Ls,Fs=!1,qr=[],Gn=null,tr=null,vr=null,Rt=new Map,cr=new Map,dn=[],Fe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _o(t,i){switch(t){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":Rt.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":cr.delete(i.pointerId)}}function We(t,i,a,c,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[h]},i!==null&&(i=eo(i),i!==null&&En(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function $t(t,i,a,c,h){switch(i){case"focusin":return Gn=We(Gn,t,i,a,c,h),!0;case"dragenter":return tr=We(tr,t,i,a,c,h),!0;case"mouseover":return vr=We(vr,t,i,a,c,h),!0;case"pointerover":var p=h.pointerId;return Rt.set(p,We(Rt.get(p)||null,t,i,a,c,h)),!0;case"gotpointercapture":return p=h.pointerId,cr.set(p,We(cr.get(p)||null,t,i,a,c,h)),!0}return!1}function Ro(t){var i=Pi(t.target);if(i!==null){var a=bn(i);if(a!==null){if(i=a.tag,i===13){if(i=Si(a),i!==null){t.blockedOn=i,Ls(t.priority,function(){De(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jr(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=ns(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);Or=c,a.target.dispatchEvent(c),Or=null}else return i=eo(a),i!==null&&En(i),t.blockedOn=a,!1;i.shift()}return!0}function Us(t,i,a){Jr(t)&&a.delete(i)}function Dr(){Fs=!1,Gn!==null&&Jr(Gn)&&(Gn=null),tr!==null&&Jr(tr)&&(tr=null),vr!==null&&Jr(vr)&&(vr=null),Rt.forEach(Us),cr.forEach(Us)}function Ni(t,i){t.blockedOn===i&&(t.blockedOn=null,Fs||(Fs=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,Dr)))}function fr(t){function i(h){return Ni(h,t)}if(0<qr.length){Ni(qr[0],t);for(var a=1;a<qr.length;a++){var c=qr[a];c.blockedOn===t&&(c.blockedOn=null)}}for(Gn!==null&&Ni(Gn,t),tr!==null&&Ni(tr,t),vr!==null&&Ni(vr,t),Rt.forEach(i),cr.forEach(i),a=0;a<dn.length;a++)c=dn[a],c.blockedOn===t&&(c.blockedOn=null);for(;0<dn.length&&(a=dn[0],a.blockedOn===null);)Ro(a),a.blockedOn===null&&dn.shift()}var nr=Se.ReactCurrentBatchConfig,Sr=!0;function Oo(t,i,a,c){var h=Ze,p=nr.transition;nr.transition=null;try{Ze=1,br(t,i,a,c)}finally{Ze=h,nr.transition=p}}function Ti(t,i,a,c){var h=Ze,p=nr.transition;nr.transition=null;try{Ze=4,br(t,i,a,c)}finally{Ze=h,nr.transition=p}}function br(t,i,a,c){if(Sr){var h=ns(t,i,a,c);if(h===null)Yl(t,i,c,en,a),_o(t,c);else if($t(h,t,i,a,c))c.stopPropagation();else if(_o(t,c),i&4&&-1<Fe.indexOf(t)){for(;h!==null;){var p=eo(h);if(p!==null&&ts(p),p=ns(t,i,a,c),p===null&&Yl(t,i,c,en,a),p===h)break;h=p}h!==null&&c.stopPropagation()}else Yl(t,i,c,null,a)}}var en=null;function ns(t,i,a,c){if(en=null,t=Ai(c),t=Pi(t),t!==null)if(i=bn(t),i===null)t=null;else if(a=i.tag,a===13){if(t=Si(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return en=t,null}function Vs(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ks()){case Q:return 1;case Io:return 4;case yt:case Kr:return 16;case No:return 536870912;default:return 16}default:return 16}}var dr=null,js=null,rs=null;function Do(){if(rs)return rs;var t,i=js,a=i.length,c,h="value"in dr?dr.value:dr.textContent,p=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(c=1;c<=v&&i[a-c]===h[p-c];c++);return rs=h.slice(t,1<c?1-c:void 0)}function st(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function _i(){return!0}function Ri(){return!1}function Lt(t){function i(a,c,h,p,v){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var R in t)t.hasOwnProperty(R)&&(a=t[R],this[R]=a?a(p):p[R]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?_i:Ri,this.isPropagationStopped=Ri,this}return ge(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),i}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},X=Lt($r),Ge=ge({},$r,{view:0,detail:0}),tn=Lt(Ge),ei,is,Oi,ss=ge({},Ge,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Di,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oi&&(Oi&&t.type==="mousemove"?(ei=t.screenX-Oi.screenX,is=t.screenY-Oi.screenY):is=ei=0,Oi=t),ei)},movementY:function(t){return"movementY"in t?t.movementY:is}}),bo=Lt(ss),zs=ge({},ss,{dataTransfer:0}),Wt=Lt(zs),Ws=ge({},Ge,{relatedTarget:0}),St=Lt(Ws),os=ge({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),Mr=Lt(os),mt=ge({},$r,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pe=Lt(mt),Fl=ge({},$r,{data:0}),wt=Lt(Fl),kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ti={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ul={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rr(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ul[t])?!!i[t]:!1}function Di(){return rr}var Mo=ge({},Ge,{key:function(t){if(t.key){var i=kr[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=st(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ti[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Di,charCode:function(t){return t.type==="keypress"?st(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?st(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hs=Lt(Mo),ko=ge({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gs=Lt(ko),Vl=ge({},Ge,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Di}),ni=Lt(Vl),Xs=ge({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),jl=Lt(Xs),bi=ge({},ss,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zl=Lt(bi),Ir=[9,13,27,32],ri=P&&"CompositionEvent"in window,ln=null;P&&"documentMode"in document&&(ln=document.documentMode);var Po=P&&"TextEvent"in window&&!ln,Xn=P&&(!ri||ln&&8<ln&&11>=ln),Bo=" ",ls=!1;function Lo(t,i){switch(t){case"keyup":return Ir.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ys(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hn=!1;function Wl(t,i){switch(t){case"compositionend":return Ys(i);case"keypress":return i.which!==32?null:(ls=!0,Bo);case"textInput":return t=i.data,t===Bo&&ls?null:t;default:return null}}function Zs(t,i){if(hn)return t==="compositionend"||!ri&&Lo(t,i)?(t=Do(),rs=js=dr=null,hn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Xn&&i.locale!=="ko"?null:i.data;default:return null}}var Mi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Mi[t.type]:i==="textarea"}function ki(t,i,a,c){Os(c),i=Vo(i,"onChange"),0<i.length&&(a=new X("onChange","change",null,a,c),t.push({event:a,listeners:i}))}var y=null,e=null;function n(t){_u(t,0)}function r(t){var i=cs(t);if(Ci(i))return t}function s(t,i){if(t==="change")return i}var o=!1;if(P){var l;if(P){var u="oninput"in document;if(!u){var f=document.createElement("div");f.setAttribute("oninput","return;"),u=typeof f.oninput=="function"}l=u}else l=!1;o=l&&(!document.documentMode||9<document.documentMode)}function d(){y&&(y.detachEvent("onpropertychange",w),e=y=null)}function w(t){if(t.propertyName==="value"&&r(e)){var i=[];ki(i,e,t,Ai(t)),vi(n,i)}}function E(t,i,a){t==="focusin"?(d(),y=i,e=a,y.attachEvent("onpropertychange",w)):t==="focusout"&&d()}function S(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return r(e)}function _(t,i){if(t==="click")return r(i)}function D(t,i){if(t==="input"||t==="change")return r(i)}function k(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var F=typeof Object.is=="function"?Object.is:k;function G(t,i){if(F(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!B.call(i,h)||!F(t[h],i[h]))return!1}return!0}function ne(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function se(t,i){var a=ne(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=i&&c>=i)return{node:a,offset:i-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ne(a)}}function J(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?J(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ke(){for(var t=window,i=tt();i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=tt(t.document)}return i}function He(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function Cn(t){var i=Ke(),a=t.focusedElem,c=t.selectionRange;if(i!==a&&a&&a.ownerDocument&&J(a.ownerDocument.documentElement,a)){if(c!==null&&He(a)){if(i=c.start,t=c.end,t===void 0&&(t=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(t,a.value.length);else if(t=(i=a.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var h=a.textContent.length,p=Math.min(c.start,h);c=c.end===void 0?p:Math.min(c.end,h),!t.extend&&p>c&&(h=c,c=p,p=h),h=se(a,p);var v=se(a,c);h&&v&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(i=i.createRange(),i.setStart(h.node,h.offset),t.removeAllRanges(),p>c?(t.addRange(i),t.extend(v.node,v.offset)):(i.setEnd(v.node,v.offset),t.addRange(i)))}}for(i=[],t=a;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)t=i[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Yn=P&&"documentMode"in document&&11>=document.documentMode,Ht=null,ut=null,bt=null,gn=!1;function Pr(t,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gn||Ht==null||Ht!==tt(c)||(c=Ht,"selectionStart"in c&&He(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),bt&&G(bt,c)||(bt=c,c=Vo(ut,"onSelect"),0<c.length&&(i=new X("onSelect","select",null,i,a),t.push({event:i,listeners:c}),i.target=Ht)))}function hr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ii={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionend:hr("Transition","TransitionEnd")},Ks={},Eu={};P&&(Eu=document.createElement("div").style,"AnimationEvent"in window||(delete ii.animationend.animation,delete ii.animationiteration.animation,delete ii.animationstart.animation),"TransitionEvent"in window||delete ii.transitionend.transition);function Fo(t){if(Ks[t])return Ks[t];if(!ii[t])return t;var i=ii[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Eu)return Ks[t]=i[a];return t}var Cu=Fo("animationend"),Au=Fo("animationiteration"),vu=Fo("animationstart"),Su=Fo("transitionend"),Iu=new Map,Nu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(t,i){Iu.set(t,i),C(i,[t])}for(var Hl=0;Hl<Nu.length;Hl++){var Gl=Nu[Hl],a0=Gl.toLowerCase(),u0=Gl[0].toUpperCase()+Gl.slice(1);si(a0,"on"+u0)}si(Cu,"onAnimationEnd"),si(Au,"onAnimationIteration"),si(vu,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(Su,"onTransitionEnd"),O("onMouseEnter",["mouseout","mouseover"]),O("onMouseLeave",["mouseout","mouseover"]),O("onPointerEnter",["pointerout","pointerover"]),O("onPointerLeave",["pointerout","pointerover"]),C("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),C("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),C("onBeforeInput",["compositionend","keypress","textInput","paste"]),C("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),C("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),C("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qs));function Tu(t,i,a){var c=t.type||"unknown-event";t.currentTarget=a,yn(c,i,void 0,t),t.currentTarget=null}function _u(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],h=c.event;c=c.listeners;e:{var p=void 0;if(i)for(var v=c.length-1;0<=v;v--){var R=c[v],b=R.instance,Y=R.currentTarget;if(R=R.listener,b!==p&&h.isPropagationStopped())break e;Tu(h,R,Y),p=b}else for(v=0;v<c.length;v++){if(R=c[v],b=R.instance,Y=R.currentTarget,R=R.listener,b!==p&&h.isPropagationStopped())break e;Tu(h,R,Y),p=b}}}if(fn)throw t=pe,fn=!1,pe=null,t}function Nt(t,i){var a=i[$l];a===void 0&&(a=i[$l]=new Set);var c=t+"__bubble";a.has(c)||(Ru(i,t,2,!1),a.add(c))}function Xl(t,i,a){var c=0;i&&(c|=4),Ru(a,t,c,i)}var Uo="_reactListening"+Math.random().toString(36).slice(2);function qs(t){if(!t[Uo]){t[Uo]=!0,A.forEach(function(a){a!=="selectionchange"&&(c0.has(a)||Xl(a,!1,t),Xl(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Uo]||(i[Uo]=!0,Xl("selectionchange",!1,i))}}function Ru(t,i,a,c){switch(Vs(i)){case 1:var h=Oo;break;case 4:h=Ti;break;default:h=br}a=h.bind(null,i,a,t),h=void 0,!Ds||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),c?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Yl(t,i,a,c,h){var p=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var R=c.stateNode.containerInfo;if(R===h||R.nodeType===8&&R.parentNode===h)break;if(v===4)for(v=c.return;v!==null;){var b=v.tag;if((b===3||b===4)&&(b=v.stateNode.containerInfo,b===h||b.nodeType===8&&b.parentNode===h))return;v=v.return}for(;R!==null;){if(v=Pi(R),v===null)return;if(b=v.tag,b===5||b===6){c=p=v;continue e}R=R.parentNode}}c=c.return}vi(function(){var Y=p,ee=Ai(a),te=[];e:{var q=Iu.get(t);if(q!==void 0){var me=X,Ae=t;switch(t){case"keypress":if(st(a)===0)break e;case"keydown":case"keyup":me=Hs;break;case"focusin":Ae="focus",me=St;break;case"focusout":Ae="blur",me=St;break;case"beforeblur":case"afterblur":me=St;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Wt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=ni;break;case Cu:case Au:case vu:me=Mr;break;case Su:me=jl;break;case"scroll":me=tn;break;case"wheel":me=zl;break;case"copy":case"cut":case"paste":me=Pe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Gs}var Ie=(i&4)!==0,Gt=!Ie&&t==="scroll",z=Ie?q!==null?q+"Capture":null:q;Ie=[];for(var L=Y,H;L!==null;){H=L;var oe=H.stateNode;if(H.tag===5&&oe!==null&&(H=oe,z!==null&&(oe=wn(L,z),oe!=null&&Ie.push(Js(L,oe,H)))),Gt)break;L=L.return}0<Ie.length&&(q=new me(q,Ae,null,a,ee),te.push({event:q,listeners:Ie}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",me=t==="mouseout"||t==="pointerout",q&&a!==Or&&(Ae=a.relatedTarget||a.fromElement)&&(Pi(Ae)||Ae[Br]))break e;if((me||q)&&(q=ee.window===ee?ee:(q=ee.ownerDocument)?q.defaultView||q.parentWindow:window,me?(Ae=a.relatedTarget||a.toElement,me=Y,Ae=Ae?Pi(Ae):null,Ae!==null&&(Gt=bn(Ae),Ae!==Gt||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(me=null,Ae=Y),me!==Ae)){if(Ie=bo,oe="onMouseLeave",z="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Ie=Gs,oe="onPointerLeave",z="onPointerEnter",L="pointer"),Gt=me==null?q:cs(me),H=Ae==null?q:cs(Ae),q=new Ie(oe,L+"leave",me,a,ee),q.target=Gt,q.relatedTarget=H,oe=null,Pi(ee)===Y&&(Ie=new Ie(z,L+"enter",Ae,a,ee),Ie.target=H,Ie.relatedTarget=Gt,oe=Ie),Gt=oe,me&&Ae)t:{for(Ie=me,z=Ae,L=0,H=Ie;H;H=as(H))L++;for(H=0,oe=z;oe;oe=as(oe))H++;for(;0<L-H;)Ie=as(Ie),L--;for(;0<H-L;)z=as(z),H--;for(;L--;){if(Ie===z||z!==null&&Ie===z.alternate)break t;Ie=as(Ie),z=as(z)}Ie=null}else Ie=null;me!==null&&Ou(te,q,me,Ie,!1),Ae!==null&&Gt!==null&&Ou(te,Gt,Ae,Ie,!0)}}e:{if(q=Y?cs(Y):window,me=q.nodeName&&q.nodeName.toLowerCase(),me==="select"||me==="input"&&q.type==="file")var Ne=s;else if(nt(q))if(o)Ne=D;else{Ne=S;var Be=E}else(me=q.nodeName)&&me.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(Ne=_);if(Ne&&(Ne=Ne(t,Y))){ki(te,Ne,a,ee);break e}Be&&Be(t,q,Y),t==="focusout"&&(Be=q._wrapperState)&&Be.controlled&&q.type==="number"&&Je(q,"number",q.value)}switch(Be=Y?cs(Y):window,t){case"focusin":(nt(Be)||Be.contentEditable==="true")&&(Ht=Be,ut=Y,bt=null);break;case"focusout":bt=ut=Ht=null;break;case"mousedown":gn=!0;break;case"contextmenu":case"mouseup":case"dragend":gn=!1,Pr(te,a,ee);break;case"selectionchange":if(Yn)break;case"keydown":case"keyup":Pr(te,a,ee)}var Le;if(ri)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else hn?Lo(t,a)&&(ze="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(Xn&&a.locale!=="ko"&&(hn||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&hn&&(Le=Do()):(dr=ee,js="value"in dr?dr.value:dr.textContent,hn=!0)),Be=Vo(Y,ze),0<Be.length&&(ze=new wt(ze,t,null,a,ee),te.push({event:ze,listeners:Be}),Le?ze.data=Le:(Le=Ys(a),Le!==null&&(ze.data=Le)))),(Le=Po?Wl(t,a):Zs(t,a))&&(Y=Vo(Y,"onBeforeInput"),0<Y.length&&(ee=new wt("onBeforeInput","beforeinput",null,a,ee),te.push({event:ee,listeners:Y}),ee.data=Le))}_u(te,i)})}function Js(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Vo(t,i){for(var a=i+"Capture",c=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=wn(t,a),p!=null&&c.unshift(Js(t,p,h)),p=wn(t,i),p!=null&&c.push(Js(t,p,h))),t=t.return}return c}function as(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ou(t,i,a,c,h){for(var p=i._reactName,v=[];a!==null&&a!==c;){var R=a,b=R.alternate,Y=R.stateNode;if(b!==null&&b===c)break;R.tag===5&&Y!==null&&(R=Y,h?(b=wn(a,p),b!=null&&v.unshift(Js(a,b,R))):h||(b=wn(a,p),b!=null&&v.push(Js(a,b,R)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var f0=/\r\n?/g,d0=/\u0000|\uFFFD/g;function Du(t){return(typeof t=="string"?t:""+t).replace(f0,`
`).replace(d0,"")}function jo(t,i,a){if(i=Du(i),Du(t)!==i&&a)throw Error(g(425))}function zo(){}var Zl=null,Kl=null;function Ql(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ql=typeof setTimeout=="function"?setTimeout:void 0,h0=typeof clearTimeout=="function"?clearTimeout:void 0,bu=typeof Promise=="function"?Promise:void 0,g0=typeof queueMicrotask=="function"?queueMicrotask:typeof bu<"u"?function(t){return bu.resolve(null).then(t).catch(x0)}:ql;function x0(t){setTimeout(function(){throw t})}function Jl(t,i){var a=i,c=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(c===0){t.removeChild(h),fr(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=h}while(a);fr(i)}function oi(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function Mu(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}var us=Math.random().toString(36).slice(2),Nr="__reactFiber$"+us,$s="__reactProps$"+us,Br="__reactContainer$"+us,$l="__reactEvents$"+us,p0="__reactListeners$"+us,m0="__reactHandles$"+us;function Pi(t){var i=t[Nr];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Br]||a[Nr]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Mu(t);t!==null;){if(a=t[Nr])return a;t=Mu(t)}return i}t=a,a=t.parentNode}return null}function eo(t){return t=t[Nr]||t[Br],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(g(33))}function Wo(t){return t[$s]||null}var ea=[],fs=-1;function li(t){return{current:t}}function Tt(t){0>fs||(t.current=ea[fs],ea[fs]=null,fs--)}function It(t,i){fs++,ea[fs]=t.current,t.current=i}var ai={},An=li(ai),Mn=li(!1),Bi=ai;function ds(t,i){var a=t.type.contextTypes;if(!a)return ai;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in a)h[p]=i[p];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=h),h}function kn(t){return t=t.childContextTypes,t!=null}function Ho(){Tt(Mn),Tt(An)}function ku(t,i,a){if(An.current!==ai)throw Error(g(168));It(An,i),It(Mn,a)}function Pu(t,i,a){var c=t.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var h in c)if(!(h in i))throw Error(g(108,dt(t)||"Unknown",h));return ge({},a,c)}function Go(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ai,Bi=An.current,It(An,t),It(Mn,Mn.current),!0}function Bu(t,i,a){var c=t.stateNode;if(!c)throw Error(g(169));a?(t=Pu(t,i,Bi),c.__reactInternalMemoizedMergedChildContext=t,Tt(Mn),Tt(An),It(An,t)):Tt(Mn),It(Mn,a)}var Lr=null,Xo=!1,ta=!1;function Lu(t){Lr===null?Lr=[t]:Lr.push(t)}function w0(t){Xo=!0,Lu(t)}function ui(){if(!ta&&Lr!==null){ta=!0;var t=0,i=Ze;try{var a=Lr;for(Ze=1;t<a.length;t++){var c=a[t];do c=c(!0);while(c!==null)}Lr=null,Xo=!1}catch(h){throw Lr!==null&&(Lr=Lr.slice(t+1)),zn(Q,ui),h}finally{Ze=i,ta=!1}}return null}var hs=[],gs=0,Yo=null,Zo=0,ir=[],sr=0,Li=null,Fr=1,Ur="";function Fi(t,i){hs[gs++]=Zo,hs[gs++]=Yo,Yo=t,Zo=i}function Fu(t,i,a){ir[sr++]=Fr,ir[sr++]=Ur,ir[sr++]=Li,Li=t;var c=Fr;t=Ur;var h=32-Nn(c)-1;c&=~(1<<h),a+=1;var p=32-Nn(i)+h;if(30<p){var v=h-h%5;p=(c&(1<<v)-1).toString(32),c>>=v,h-=v,Fr=1<<32-Nn(i)+h|a<<h|c,Ur=p+t}else Fr=1<<p|a<<h|c,Ur=t}function na(t){t.return!==null&&(Fi(t,1),Fu(t,1,0))}function ra(t){for(;t===Yo;)Yo=hs[--gs],hs[gs]=null,Zo=hs[--gs],hs[gs]=null;for(;t===Li;)Li=ir[--sr],ir[sr]=null,Ur=ir[--sr],ir[sr]=null,Fr=ir[--sr],ir[sr]=null}var Zn=null,Kn=null,Ot=!1,gr=null;function Uu(t,i){var a=ur(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=t,i=t.deletions,i===null?(t.deletions=[a],t.flags|=16):i.push(a)}function Vu(t,i){switch(t.tag){case 5:var a=t.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,Zn=t,Kn=oi(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,Zn=t,Kn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Li!==null?{id:Fr,overflow:Ur}:null,t.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=ur(18,null,null,0),a.stateNode=i,a.return=t,t.child=a,Zn=t,Kn=null,!0):!1;default:return!1}}function ia(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sa(t){if(Ot){var i=Kn;if(i){var a=i;if(!Vu(t,i)){if(ia(t))throw Error(g(418));i=oi(a.nextSibling);var c=Zn;i&&Vu(t,i)?Uu(c,a):(t.flags=t.flags&-4097|2,Ot=!1,Zn=t)}}else{if(ia(t))throw Error(g(418));t.flags=t.flags&-4097|2,Ot=!1,Zn=t}}}function ju(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zn=t}function Ko(t){if(t!==Zn)return!1;if(!Ot)return ju(t),Ot=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!Ql(t.type,t.memoizedProps)),i&&(i=Kn)){if(ia(t))throw zu(),Error(g(418));for(;i;)Uu(t,i),i=oi(i.nextSibling)}if(ju(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(g(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(i===0){Kn=oi(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}t=t.nextSibling}Kn=null}}else Kn=Zn?oi(t.stateNode.nextSibling):null;return!0}function zu(){for(var t=Kn;t;)t=oi(t.nextSibling)}function xs(){Kn=Zn=null,Ot=!1}function oa(t){gr===null?gr=[t]:gr.push(t)}var y0=Se.ReactCurrentBatchConfig;function to(t,i,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(g(309));var c=a.stateNode}if(!c)throw Error(g(147,t));var h=c,p=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===p?i.ref:(i=function(v){var R=h.refs;v===null?delete R[p]:R[p]=v},i._stringRef=p,i)}if(typeof t!="string")throw Error(g(284));if(!a._owner)throw Error(g(290,t))}return t}function Qo(t,i){throw t=Object.prototype.toString.call(i),Error(g(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function Wu(t){var i=t._init;return i(t._payload)}function Hu(t){function i(z,L){if(t){var H=z.deletions;H===null?(z.deletions=[L],z.flags|=16):H.push(L)}}function a(z,L){if(!t)return null;for(;L!==null;)i(z,L),L=L.sibling;return null}function c(z,L){for(z=new Map;L!==null;)L.key!==null?z.set(L.key,L):z.set(L.index,L),L=L.sibling;return z}function h(z,L){return z=mi(z,L),z.index=0,z.sibling=null,z}function p(z,L,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<L?(z.flags|=2,L):H):(z.flags|=2,L)):(z.flags|=1048576,L)}function v(z){return t&&z.alternate===null&&(z.flags|=2),z}function R(z,L,H,oe){return L===null||L.tag!==6?(L=qa(H,z.mode,oe),L.return=z,L):(L=h(L,H),L.return=z,L)}function b(z,L,H,oe){var Ne=H.type;return Ne===$?ee(z,L,H.props.children,oe,H.key):L!==null&&(L.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===it&&Wu(Ne)===L.type)?(oe=h(L,H.props),oe.ref=to(z,L,H),oe.return=z,oe):(oe=El(H.type,H.key,H.props,null,z.mode,oe),oe.ref=to(z,L,H),oe.return=z,oe)}function Y(z,L,H,oe){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=Ja(H,z.mode,oe),L.return=z,L):(L=h(L,H.children||[]),L.return=z,L)}function ee(z,L,H,oe,Ne){return L===null||L.tag!==7?(L=Xi(H,z.mode,oe,Ne),L.return=z,L):(L=h(L,H),L.return=z,L)}function te(z,L,H){if(typeof L=="string"&&L!==""||typeof L=="number")return L=qa(""+L,z.mode,H),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case ct:return H=El(L.type,L.key,L.props,null,z.mode,H),H.ref=to(z,null,L),H.return=z,H;case Ce:return L=Ja(L,z.mode,H),L.return=z,L;case it:var oe=L._init;return te(z,oe(L._payload),H)}if(Er(L)||_e(L))return L=Xi(L,z.mode,H,null),L.return=z,L;Qo(z,L)}return null}function q(z,L,H,oe){var Ne=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return Ne!==null?null:R(z,L,""+H,oe);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case ct:return H.key===Ne?b(z,L,H,oe):null;case Ce:return H.key===Ne?Y(z,L,H,oe):null;case it:return Ne=H._init,q(z,L,Ne(H._payload),oe)}if(Er(H)||_e(H))return Ne!==null?null:ee(z,L,H,oe,null);Qo(z,H)}return null}function me(z,L,H,oe,Ne){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return z=z.get(H)||null,R(L,z,""+oe,Ne);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case ct:return z=z.get(oe.key===null?H:oe.key)||null,b(L,z,oe,Ne);case Ce:return z=z.get(oe.key===null?H:oe.key)||null,Y(L,z,oe,Ne);case it:var Be=oe._init;return me(z,L,H,Be(oe._payload),Ne)}if(Er(oe)||_e(oe))return z=z.get(H)||null,ee(L,z,oe,Ne,null);Qo(L,oe)}return null}function Ae(z,L,H,oe){for(var Ne=null,Be=null,Le=L,ze=L=0,cn=null;Le!==null&&ze<H.length;ze++){Le.index>ze?(cn=Le,Le=null):cn=Le.sibling;var lt=q(z,Le,H[ze],oe);if(lt===null){Le===null&&(Le=cn);break}t&&Le&&lt.alternate===null&&i(z,Le),L=p(lt,L,ze),Be===null?Ne=lt:Be.sibling=lt,Be=lt,Le=cn}if(ze===H.length)return a(z,Le),Ot&&Fi(z,ze),Ne;if(Le===null){for(;ze<H.length;ze++)Le=te(z,H[ze],oe),Le!==null&&(L=p(Le,L,ze),Be===null?Ne=Le:Be.sibling=Le,Be=Le);return Ot&&Fi(z,ze),Ne}for(Le=c(z,Le);ze<H.length;ze++)cn=me(Le,z,ze,H[ze],oe),cn!==null&&(t&&cn.alternate!==null&&Le.delete(cn.key===null?ze:cn.key),L=p(cn,L,ze),Be===null?Ne=cn:Be.sibling=cn,Be=cn);return t&&Le.forEach(function(wi){return i(z,wi)}),Ot&&Fi(z,ze),Ne}function Ie(z,L,H,oe){var Ne=_e(H);if(typeof Ne!="function")throw Error(g(150));if(H=Ne.call(H),H==null)throw Error(g(151));for(var Be=Ne=null,Le=L,ze=L=0,cn=null,lt=H.next();Le!==null&&!lt.done;ze++,lt=H.next()){Le.index>ze?(cn=Le,Le=null):cn=Le.sibling;var wi=q(z,Le,lt.value,oe);if(wi===null){Le===null&&(Le=cn);break}t&&Le&&wi.alternate===null&&i(z,Le),L=p(wi,L,ze),Be===null?Ne=wi:Be.sibling=wi,Be=wi,Le=cn}if(lt.done)return a(z,Le),Ot&&Fi(z,ze),Ne;if(Le===null){for(;!lt.done;ze++,lt=H.next())lt=te(z,lt.value,oe),lt!==null&&(L=p(lt,L,ze),Be===null?Ne=lt:Be.sibling=lt,Be=lt);return Ot&&Fi(z,ze),Ne}for(Le=c(z,Le);!lt.done;ze++,lt=H.next())lt=me(Le,z,ze,lt.value,oe),lt!==null&&(t&&lt.alternate!==null&&Le.delete(lt.key===null?ze:lt.key),L=p(lt,L,ze),Be===null?Ne=lt:Be.sibling=lt,Be=lt);return t&&Le.forEach(function(J0){return i(z,J0)}),Ot&&Fi(z,ze),Ne}function Gt(z,L,H,oe){if(typeof H=="object"&&H!==null&&H.type===$&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case ct:e:{for(var Ne=H.key,Be=L;Be!==null;){if(Be.key===Ne){if(Ne=H.type,Ne===$){if(Be.tag===7){a(z,Be.sibling),L=h(Be,H.props.children),L.return=z,z=L;break e}}else if(Be.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===it&&Wu(Ne)===Be.type){a(z,Be.sibling),L=h(Be,H.props),L.ref=to(z,Be,H),L.return=z,z=L;break e}a(z,Be);break}else i(z,Be);Be=Be.sibling}H.type===$?(L=Xi(H.props.children,z.mode,oe,H.key),L.return=z,z=L):(oe=El(H.type,H.key,H.props,null,z.mode,oe),oe.ref=to(z,L,H),oe.return=z,z=oe)}return v(z);case Ce:e:{for(Be=H.key;L!==null;){if(L.key===Be)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){a(z,L.sibling),L=h(L,H.children||[]),L.return=z,z=L;break e}else{a(z,L);break}else i(z,L);L=L.sibling}L=Ja(H,z.mode,oe),L.return=z,z=L}return v(z);case it:return Be=H._init,Gt(z,L,Be(H._payload),oe)}if(Er(H))return Ae(z,L,H,oe);if(_e(H))return Ie(z,L,H,oe);Qo(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,L!==null&&L.tag===6?(a(z,L.sibling),L=h(L,H),L.return=z,z=L):(a(z,L),L=qa(H,z.mode,oe),L.return=z,z=L),v(z)):a(z,L)}return Gt}var ps=Hu(!0),Gu=Hu(!1),qo=li(null),Jo=null,ms=null,la=null;function aa(){la=ms=Jo=null}function ua(t){var i=qo.current;Tt(qo),t._currentValue=i}function ca(t,i,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===a)break;t=t.return}}function ws(t,i){Jo=t,la=ms=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&i)!==0&&(Pn=!0),t.firstContext=null)}function or(t){var i=t._currentValue;if(la!==t)if(t={context:t,memoizedValue:i,next:null},ms===null){if(Jo===null)throw Error(g(308));ms=t,Jo.dependencies={lanes:0,firstContext:t}}else ms=ms.next=t;return i}var Ui=null;function fa(t){Ui===null?Ui=[t]:Ui.push(t)}function Xu(t,i,a,c){var h=i.interleaved;return h===null?(a.next=a,fa(i)):(a.next=h.next,h.next=a),i.interleaved=a,Vr(t,c)}function Vr(t,i){t.lanes|=i;var a=t.alternate;for(a!==null&&(a.lanes|=i),a=t,t=t.return;t!==null;)t.childLanes|=i,a=t.alternate,a!==null&&(a.childLanes|=i),a=t,t=t.return;return a.tag===3?a.stateNode:null}var ci=!1;function da(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yu(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jr(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function fi(t,i,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(ot&2)!==0){var h=c.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),c.pending=i,Vr(t,a)}return h=c.interleaved,h===null?(i.next=i,fa(c)):(i.next=h.next,h.next=i),c.interleaved=i,Vr(t,a)}function $o(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=t.pendingLanes,a|=c,i.lanes=a,Bt(t,a)}}function Zu(t,i){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?h=p=v:p=p.next=v,a=a.next}while(a!==null);p===null?h=p=i:p=p.next=i}else h=p=i;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:c.shared,effects:c.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}function el(t,i,a,c){var h=t.updateQueue;ci=!1;var p=h.firstBaseUpdate,v=h.lastBaseUpdate,R=h.shared.pending;if(R!==null){h.shared.pending=null;var b=R,Y=b.next;b.next=null,v===null?p=Y:v.next=Y,v=b;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,R=ee.lastBaseUpdate,R!==v&&(R===null?ee.firstBaseUpdate=Y:R.next=Y,ee.lastBaseUpdate=b))}if(p!==null){var te=h.baseState;v=0,ee=Y=b=null,R=p;do{var q=R.lane,me=R.eventTime;if((c&q)===q){ee!==null&&(ee=ee.next={eventTime:me,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var Ae=t,Ie=R;switch(q=i,me=a,Ie.tag){case 1:if(Ae=Ie.payload,typeof Ae=="function"){te=Ae.call(me,te,q);break e}te=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ie.payload,q=typeof Ae=="function"?Ae.call(me,te,q):Ae,q==null)break e;te=ge({},te,q);break e;case 2:ci=!0}}R.callback!==null&&R.lane!==0&&(t.flags|=64,q=h.effects,q===null?h.effects=[R]:q.push(R))}else me={eventTime:me,lane:q,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ee===null?(Y=ee=me,b=te):ee=ee.next=me,v|=q;if(R=R.next,R===null){if(R=h.shared.pending,R===null)break;q=R,R=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);if(ee===null&&(b=te),h.baseState=b,h.firstBaseUpdate=Y,h.lastBaseUpdate=ee,i=h.shared.interleaved,i!==null){h=i;do v|=h.lane,h=h.next;while(h!==i)}else p===null&&(h.shared.lanes=0);zi|=v,t.lanes=v,t.memoizedState=te}}function Ku(t,i,a){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var c=t[i],h=c.callback;if(h!==null){if(c.callback=null,c=a,typeof h!="function")throw Error(g(191,h));h.call(c)}}}var no={},Tr=li(no),ro=li(no),io=li(no);function Vi(t){if(t===no)throw Error(g(174));return t}function ha(t,i){switch(It(io,i),It(ro,t),It(Tr,no),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:qi(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=qi(i,t)}Tt(Tr),It(Tr,i)}function ys(){Tt(Tr),Tt(ro),Tt(io)}function Qu(t){Vi(io.current);var i=Vi(Tr.current),a=qi(i,t.type);i!==a&&(It(ro,t),It(Tr,a))}function ga(t){ro.current===t&&(Tt(Tr),Tt(ro))}var Mt=li(0);function tl(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var xa=[];function pa(){for(var t=0;t<xa.length;t++)xa[t]._workInProgressVersionPrimary=null;xa.length=0}var nl=Se.ReactCurrentDispatcher,ma=Se.ReactCurrentBatchConfig,ji=0,kt=null,nn=null,an=null,rl=!1,so=!1,oo=0,E0=0;function vn(){throw Error(g(321))}function wa(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!F(t[a],i[a]))return!1;return!0}function ya(t,i,a,c,h,p){if(ji=p,kt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,nl.current=t===null||t.memoizedState===null?S0:I0,t=a(c,h),so){p=0;do{if(so=!1,oo=0,25<=p)throw Error(g(301));p+=1,an=nn=null,i.updateQueue=null,nl.current=N0,t=a(c,h)}while(so)}if(nl.current=ol,i=nn!==null&&nn.next!==null,ji=0,an=nn=kt=null,rl=!1,i)throw Error(g(300));return t}function Ea(){var t=oo!==0;return oo=0,t}function _r(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?kt.memoizedState=an=t:an=an.next=t,an}function lr(){if(nn===null){var t=kt.alternate;t=t!==null?t.memoizedState:null}else t=nn.next;var i=an===null?kt.memoizedState:an.next;if(i!==null)an=i,nn=t;else{if(t===null)throw Error(g(310));nn=t,t={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},an===null?kt.memoizedState=an=t:an=an.next=t}return an}function lo(t,i){return typeof i=="function"?i(t):i}function Ca(t){var i=lr(),a=i.queue;if(a===null)throw Error(g(311));a.lastRenderedReducer=t;var c=nn,h=c.baseQueue,p=a.pending;if(p!==null){if(h!==null){var v=h.next;h.next=p.next,p.next=v}c.baseQueue=h=p,a.pending=null}if(h!==null){p=h.next,c=c.baseState;var R=v=null,b=null,Y=p;do{var ee=Y.lane;if((ji&ee)===ee)b!==null&&(b=b.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),c=Y.hasEagerState?Y.eagerState:t(c,Y.action);else{var te={lane:ee,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};b===null?(R=b=te,v=c):b=b.next=te,kt.lanes|=ee,zi|=ee}Y=Y.next}while(Y!==null&&Y!==p);b===null?v=c:b.next=R,F(c,i.memoizedState)||(Pn=!0),i.memoizedState=c,i.baseState=v,i.baseQueue=b,a.lastRenderedState=c}if(t=a.interleaved,t!==null){h=t;do p=h.lane,kt.lanes|=p,zi|=p,h=h.next;while(h!==t)}else h===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Aa(t){var i=lr(),a=i.queue;if(a===null)throw Error(g(311));a.lastRenderedReducer=t;var c=a.dispatch,h=a.pending,p=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do p=t(p,v.action),v=v.next;while(v!==h);F(p,i.memoizedState)||(Pn=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),a.lastRenderedState=p}return[p,c]}function qu(){}function Ju(t,i){var a=kt,c=lr(),h=i(),p=!F(c.memoizedState,h);if(p&&(c.memoizedState=h,Pn=!0),c=c.queue,va(tc.bind(null,a,c,t),[t]),c.getSnapshot!==i||p||an!==null&&an.memoizedState.tag&1){if(a.flags|=2048,ao(9,ec.bind(null,a,c,h,i),void 0,null),un===null)throw Error(g(349));(ji&30)!==0||$u(a,i,h)}return h}function $u(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=kt.updateQueue,i===null?(i={lastEffect:null,stores:null},kt.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ec(t,i,a,c){i.value=a,i.getSnapshot=c,nc(i)&&rc(t)}function tc(t,i,a){return a(function(){nc(i)&&rc(t)})}function nc(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!F(t,a)}catch{return!0}}function rc(t){var i=Vr(t,1);i!==null&&wr(i,t,1,-1)}function ic(t){var i=_r();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:t},i.queue=t,t=t.dispatch=v0.bind(null,kt,t),[i.memoizedState,t]}function ao(t,i,a,c){return t={tag:t,create:i,destroy:a,deps:c,next:null},i=kt.updateQueue,i===null?(i={lastEffect:null,stores:null},kt.updateQueue=i,i.lastEffect=t.next=t):(a=i.lastEffect,a===null?i.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,i.lastEffect=t)),t}function sc(){return lr().memoizedState}function il(t,i,a,c){var h=_r();kt.flags|=t,h.memoizedState=ao(1|i,a,void 0,c===void 0?null:c)}function sl(t,i,a,c){var h=lr();c=c===void 0?null:c;var p=void 0;if(nn!==null){var v=nn.memoizedState;if(p=v.destroy,c!==null&&wa(c,v.deps)){h.memoizedState=ao(i,a,p,c);return}}kt.flags|=t,h.memoizedState=ao(1|i,a,p,c)}function oc(t,i){return il(8390656,8,t,i)}function va(t,i){return sl(2048,8,t,i)}function lc(t,i){return sl(4,2,t,i)}function ac(t,i){return sl(4,4,t,i)}function uc(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function cc(t,i,a){return a=a!=null?a.concat([t]):null,sl(4,4,uc.bind(null,i,t),a)}function Sa(){}function fc(t,i){var a=lr();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&wa(i,c[1])?c[0]:(a.memoizedState=[t,i],t)}function dc(t,i){var a=lr();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&wa(i,c[1])?c[0]:(t=t(),a.memoizedState=[t,i],t)}function hc(t,i,a){return(ji&21)===0?(t.baseState&&(t.baseState=!1,Pn=!0),t.memoizedState=a):(F(a,i)||(a=Jt(),kt.lanes|=a,zi|=a,t.baseState=!0),i)}function C0(t,i){var a=Ze;Ze=a!==0&&4>a?a:4,t(!0);var c=ma.transition;ma.transition={};try{t(!1),i()}finally{Ze=a,ma.transition=c}}function gc(){return lr().memoizedState}function A0(t,i,a){var c=xi(t);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},xc(t))pc(i,a);else if(a=Xu(t,i,a,c),a!==null){var h=_n();wr(a,t,c,h),mc(a,i,c)}}function v0(t,i,a){var c=xi(t),h={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(xc(t))pc(i,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var v=i.lastRenderedState,R=p(v,a);if(h.hasEagerState=!0,h.eagerState=R,F(R,v)){var b=i.interleaved;b===null?(h.next=h,fa(i)):(h.next=b.next,b.next=h),i.interleaved=h;return}}catch{}finally{}a=Xu(t,i,h,c),a!==null&&(h=_n(),wr(a,t,c,h),mc(a,i,c))}}function xc(t){var i=t.alternate;return t===kt||i!==null&&i===kt}function pc(t,i){so=rl=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function mc(t,i,a){if((a&4194240)!==0){var c=i.lanes;c&=t.pendingLanes,a|=c,i.lanes=a,Bt(t,a)}}var ol={readContext:or,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useInsertionEffect:vn,useLayoutEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useMutableSource:vn,useSyncExternalStore:vn,useId:vn,unstable_isNewReconciler:!1},S0={readContext:or,useCallback:function(t,i){return _r().memoizedState=[t,i===void 0?null:i],t},useContext:or,useEffect:oc,useImperativeHandle:function(t,i,a){return a=a!=null?a.concat([t]):null,il(4194308,4,uc.bind(null,i,t),a)},useLayoutEffect:function(t,i){return il(4194308,4,t,i)},useInsertionEffect:function(t,i){return il(4,2,t,i)},useMemo:function(t,i){var a=_r();return i=i===void 0?null:i,t=t(),a.memoizedState=[t,i],t},useReducer:function(t,i,a){var c=_r();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},c.queue=t,t=t.dispatch=A0.bind(null,kt,t),[c.memoizedState,t]},useRef:function(t){var i=_r();return t={current:t},i.memoizedState=t},useState:ic,useDebugValue:Sa,useDeferredValue:function(t){return _r().memoizedState=t},useTransition:function(){var t=ic(!1),i=t[0];return t=C0.bind(null,t[1]),_r().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,a){var c=kt,h=_r();if(Ot){if(a===void 0)throw Error(g(407));a=a()}else{if(a=i(),un===null)throw Error(g(349));(ji&30)!==0||$u(c,i,a)}h.memoizedState=a;var p={value:a,getSnapshot:i};return h.queue=p,oc(tc.bind(null,c,p,t),[t]),c.flags|=2048,ao(9,ec.bind(null,c,p,a,i),void 0,null),a},useId:function(){var t=_r(),i=un.identifierPrefix;if(Ot){var a=Ur,c=Fr;a=(c&~(1<<32-Nn(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=oo++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=E0++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},I0={readContext:or,useCallback:fc,useContext:or,useEffect:va,useImperativeHandle:cc,useInsertionEffect:lc,useLayoutEffect:ac,useMemo:dc,useReducer:Ca,useRef:sc,useState:function(){return Ca(lo)},useDebugValue:Sa,useDeferredValue:function(t){var i=lr();return hc(i,nn.memoizedState,t)},useTransition:function(){var t=Ca(lo)[0],i=lr().memoizedState;return[t,i]},useMutableSource:qu,useSyncExternalStore:Ju,useId:gc,unstable_isNewReconciler:!1},N0={readContext:or,useCallback:fc,useContext:or,useEffect:va,useImperativeHandle:cc,useInsertionEffect:lc,useLayoutEffect:ac,useMemo:dc,useReducer:Aa,useRef:sc,useState:function(){return Aa(lo)},useDebugValue:Sa,useDeferredValue:function(t){var i=lr();return nn===null?i.memoizedState=t:hc(i,nn.memoizedState,t)},useTransition:function(){var t=Aa(lo)[0],i=lr().memoizedState;return[t,i]},useMutableSource:qu,useSyncExternalStore:Ju,useId:gc,unstable_isNewReconciler:!1};function xr(t,i){if(t&&t.defaultProps){i=ge({},i),t=t.defaultProps;for(var a in t)i[a]===void 0&&(i[a]=t[a]);return i}return i}function Ia(t,i,a,c){i=t.memoizedState,a=a(c,i),a=a==null?i:ge({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ll={isMounted:function(t){return(t=t._reactInternals)?bn(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var c=_n(),h=xi(t),p=jr(c,h);p.payload=i,a!=null&&(p.callback=a),i=fi(t,p,h),i!==null&&(wr(i,t,h,c),$o(i,t,h))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var c=_n(),h=xi(t),p=jr(c,h);p.tag=1,p.payload=i,a!=null&&(p.callback=a),i=fi(t,p,h),i!==null&&(wr(i,t,h,c),$o(i,t,h))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=_n(),c=xi(t),h=jr(a,c);h.tag=2,i!=null&&(h.callback=i),i=fi(t,h,c),i!==null&&(wr(i,t,c,a),$o(i,t,c))}};function wc(t,i,a,c,h,p,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,p,v):i.prototype&&i.prototype.isPureReactComponent?!G(a,c)||!G(h,p):!0}function yc(t,i,a){var c=!1,h=ai,p=i.contextType;return typeof p=="object"&&p!==null?p=or(p):(h=kn(i)?Bi:An.current,c=i.contextTypes,p=(c=c!=null)?ds(t,h):ai),i=new i(a,p),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ll,t.stateNode=i,i._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),i}function Ec(t,i,a,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==t&&ll.enqueueReplaceState(i,i.state,null)}function Na(t,i,a,c){var h=t.stateNode;h.props=a,h.state=t.memoizedState,h.refs={},da(t);var p=i.contextType;typeof p=="object"&&p!==null?h.context=or(p):(p=kn(i)?Bi:An.current,h.context=ds(t,p)),h.state=t.memoizedState,p=i.getDerivedStateFromProps,typeof p=="function"&&(Ia(t,i,p,a),h.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(i=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),i!==h.state&&ll.enqueueReplaceState(h,h.state,null),el(t,a,h,c),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Es(t,i){try{var a="",c=i;do a+=et(c),c=c.return;while(c);var h=a}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:i,stack:h,digest:null}}function Ta(t,i,a){return{value:t,source:null,stack:a??null,digest:i??null}}function _a(t,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var T0=typeof WeakMap=="function"?WeakMap:Map;function Cc(t,i,a){a=jr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){gl||(gl=!0,Wa=c),_a(t,i)},a}function Ac(t,i,a){a=jr(-1,a),a.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var h=i.value;a.payload=function(){return c(h)},a.callback=function(){_a(t,i)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){_a(t,i),typeof c!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})}),a}function vc(t,i,a){var c=t.pingCache;if(c===null){c=t.pingCache=new T0;var h=new Set;c.set(i,h)}else h=c.get(i),h===void 0&&(h=new Set,c.set(i,h));h.has(a)||(h.add(a),t=j0.bind(null,t,i,a),i.then(t,t))}function Sc(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function Ic(t,i,a,c,h){return(t.mode&1)===0?(t===i?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=jr(-1,1),i.tag=2,fi(a,i,1))),a.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var _0=Se.ReactCurrentOwner,Pn=!1;function Tn(t,i,a,c){i.child=t===null?Gu(i,null,a,c):ps(i,t.child,a,c)}function Nc(t,i,a,c,h){a=a.render;var p=i.ref;return ws(i,h),c=ya(t,i,a,c,p,h),a=Ea(),t!==null&&!Pn?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~h,zr(t,i,h)):(Ot&&a&&na(i),i.flags|=1,Tn(t,i,c,h),i.child)}function Tc(t,i,a,c,h){if(t===null){var p=a.type;return typeof p=="function"&&!Qa(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=p,_c(t,i,p,c,h)):(t=El(a.type,null,c,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(p=t.child,(t.lanes&h)===0){var v=p.memoizedProps;if(a=a.compare,a=a!==null?a:G,a(v,c)&&t.ref===i.ref)return zr(t,i,h)}return i.flags|=1,t=mi(p,c),t.ref=i.ref,t.return=i,i.child=t}function _c(t,i,a,c,h){if(t!==null){var p=t.memoizedProps;if(G(p,c)&&t.ref===i.ref)if(Pn=!1,i.pendingProps=c=p,(t.lanes&h)!==0)(t.flags&131072)!==0&&(Pn=!0);else return i.lanes=t.lanes,zr(t,i,h)}return Ra(t,i,a,c,h)}function Rc(t,i,a){var c=i.pendingProps,h=c.children,p=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(As,Qn),Qn|=a;else{if((a&1073741824)===0)return t=p!==null?p.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,It(As,Qn),Qn|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:a,It(As,Qn),Qn|=c}else p!==null?(c=p.baseLanes|a,i.memoizedState=null):c=a,It(As,Qn),Qn|=c;return Tn(t,i,h,a),i.child}function Oc(t,i){var a=i.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Ra(t,i,a,c,h){var p=kn(a)?Bi:An.current;return p=ds(i,p),ws(i,h),a=ya(t,i,a,c,p,h),c=Ea(),t!==null&&!Pn?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~h,zr(t,i,h)):(Ot&&c&&na(i),i.flags|=1,Tn(t,i,a,h),i.child)}function Dc(t,i,a,c,h){if(kn(a)){var p=!0;Go(i)}else p=!1;if(ws(i,h),i.stateNode===null)ul(t,i),yc(i,a,c),Na(i,a,c,h),c=!0;else if(t===null){var v=i.stateNode,R=i.memoizedProps;v.props=R;var b=v.context,Y=a.contextType;typeof Y=="object"&&Y!==null?Y=or(Y):(Y=kn(a)?Bi:An.current,Y=ds(i,Y));var ee=a.getDerivedStateFromProps,te=typeof ee=="function"||typeof v.getSnapshotBeforeUpdate=="function";te||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R!==c||b!==Y)&&Ec(i,v,c,Y),ci=!1;var q=i.memoizedState;v.state=q,el(i,c,v,h),b=i.memoizedState,R!==c||q!==b||Mn.current||ci?(typeof ee=="function"&&(Ia(i,a,ee,c),b=i.memoizedState),(R=ci||wc(i,a,R,c,q,b,Y))?(te||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=b),v.props=c,v.state=b,v.context=Y,c=R):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,Yu(t,i),R=i.memoizedProps,Y=i.type===i.elementType?R:xr(i.type,R),v.props=Y,te=i.pendingProps,q=v.context,b=a.contextType,typeof b=="object"&&b!==null?b=or(b):(b=kn(a)?Bi:An.current,b=ds(i,b));var me=a.getDerivedStateFromProps;(ee=typeof me=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R!==te||q!==b)&&Ec(i,v,c,b),ci=!1,q=i.memoizedState,v.state=q,el(i,c,v,h);var Ae=i.memoizedState;R!==te||q!==Ae||Mn.current||ci?(typeof me=="function"&&(Ia(i,a,me,c),Ae=i.memoizedState),(Y=ci||wc(i,a,Y,c,q,Ae,b)||!1)?(ee||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,Ae,b),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,Ae,b)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||R===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=Ae),v.props=c,v.state=Ae,v.context=b,c=Y):(typeof v.componentDidUpdate!="function"||R===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),c=!1)}return Oa(t,i,a,c,p,h)}function Oa(t,i,a,c,h,p){Oc(t,i);var v=(i.flags&128)!==0;if(!c&&!v)return h&&Bu(i,a,!1),zr(t,i,p);c=i.stateNode,_0.current=i;var R=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,t!==null&&v?(i.child=ps(i,t.child,null,p),i.child=ps(i,null,R,p)):Tn(t,i,R,p),i.memoizedState=c.state,h&&Bu(i,a,!0),i.child}function bc(t){var i=t.stateNode;i.pendingContext?ku(t,i.pendingContext,i.pendingContext!==i.context):i.context&&ku(t,i.context,!1),ha(t,i.containerInfo)}function Mc(t,i,a,c,h){return xs(),oa(h),i.flags|=256,Tn(t,i,a,c),i.child}var Da={dehydrated:null,treeContext:null,retryLane:0};function ba(t){return{baseLanes:t,cachePool:null,transitions:null}}function kc(t,i,a){var c=i.pendingProps,h=Mt.current,p=!1,v=(i.flags&128)!==0,R;if((R=v)||(R=t!==null&&t.memoizedState===null?!1:(h&2)!==0),R?(p=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),It(Mt,h&1),t===null)return sa(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((i.mode&1)===0?i.lanes=1:t.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(v=c.children,t=c.fallback,p?(c=i.mode,p=i.child,v={mode:"hidden",children:v},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=v):p=Cl(v,c,0,null),t=Xi(t,c,a,null),p.return=i,t.return=i,p.sibling=t,i.child=p,i.child.memoizedState=ba(a),i.memoizedState=Da,t):Ma(i,v));if(h=t.memoizedState,h!==null&&(R=h.dehydrated,R!==null))return R0(t,i,v,c,R,h,a);if(p){p=c.fallback,v=i.mode,h=t.child,R=h.sibling;var b={mode:"hidden",children:c.children};return(v&1)===0&&i.child!==h?(c=i.child,c.childLanes=0,c.pendingProps=b,i.deletions=null):(c=mi(h,b),c.subtreeFlags=h.subtreeFlags&14680064),R!==null?p=mi(R,p):(p=Xi(p,v,a,null),p.flags|=2),p.return=i,c.return=i,c.sibling=p,i.child=c,c=p,p=i.child,v=t.child.memoizedState,v=v===null?ba(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=t.childLanes&~a,i.memoizedState=Da,c}return p=t.child,t=p.sibling,c=mi(p,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,t!==null&&(a=i.deletions,a===null?(i.deletions=[t],i.flags|=16):a.push(t)),i.child=c,i.memoizedState=null,c}function Ma(t,i){return i=Cl({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function al(t,i,a,c){return c!==null&&oa(c),ps(i,t.child,null,a),t=Ma(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function R0(t,i,a,c,h,p,v){if(a)return i.flags&256?(i.flags&=-257,c=Ta(Error(g(422))),al(t,i,v,c)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(p=c.fallback,h=i.mode,c=Cl({mode:"visible",children:c.children},h,0,null),p=Xi(p,h,v,null),p.flags|=2,c.return=i,p.return=i,c.sibling=p,i.child=c,(i.mode&1)!==0&&ps(i,t.child,null,v),i.child.memoizedState=ba(v),i.memoizedState=Da,p);if((i.mode&1)===0)return al(t,i,v,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var R=c.dgst;return c=R,p=Error(g(419)),c=Ta(p,c,void 0),al(t,i,v,c)}if(R=(v&t.childLanes)!==0,Pn||R){if(c=un,c!==null){switch(v&-v){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|v))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,Vr(t,h),wr(c,t,h,-1))}return Ka(),c=Ta(Error(g(421))),al(t,i,v,c)}return h.data==="$?"?(i.flags|=128,i.child=t.child,i=z0.bind(null,t),h._reactRetry=i,null):(t=p.treeContext,Kn=oi(h.nextSibling),Zn=i,Ot=!0,gr=null,t!==null&&(ir[sr++]=Fr,ir[sr++]=Ur,ir[sr++]=Li,Fr=t.id,Ur=t.overflow,Li=i),i=Ma(i,c.children),i.flags|=4096,i)}function Pc(t,i,a){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),ca(t.return,i,a)}function ka(t,i,a,c,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=a,p.tailMode=h)}function Bc(t,i,a){var c=i.pendingProps,h=c.revealOrder,p=c.tail;if(Tn(t,i,c.children,a),c=Mt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pc(t,a,i);else if(t.tag===19)Pc(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(It(Mt,c),(i.mode&1)===0)i.memoizedState=null;else switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&tl(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ka(i,!1,h,a,p);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&tl(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ka(i,!0,a,null,p);break;case"together":ka(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ul(t,i){(i.mode&1)===0&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function zr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),zi|=i.lanes,(a&i.childLanes)===0)return null;if(t!==null&&i.child!==t.child)throw Error(g(153));if(i.child!==null){for(t=i.child,a=mi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=mi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function O0(t,i,a){switch(i.tag){case 3:bc(i),xs();break;case 5:Qu(i);break;case 1:kn(i.type)&&Go(i);break;case 4:ha(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,h=i.memoizedProps.value;It(qo,c._currentValue),c._currentValue=h;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(It(Mt,Mt.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?kc(t,i,a):(It(Mt,Mt.current&1),t=zr(t,i,a),t!==null?t.sibling:null);It(Mt,Mt.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(t.flags&128)!==0){if(c)return Bc(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),It(Mt,Mt.current),c)break;return null;case 22:case 23:return i.lanes=0,Rc(t,i,a)}return zr(t,i,a)}var Lc,Pa,Fc,Uc;Lc=function(t,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Pa=function(){},Fc=function(t,i,a,c){var h=t.memoizedProps;if(h!==c){t=i.stateNode,Vi(Tr.current);var p=null;switch(a){case"input":h=yr(t,h),c=yr(t,c),p=[];break;case"select":h=ge({},h,{value:void 0}),c=ge({},c,{value:void 0}),p=[];break;case"textarea":h=Xr(t,h),c=Xr(t,c),p=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=zo)}at(a,c);var v;a=null;for(Y in h)if(!c.hasOwnProperty(Y)&&h.hasOwnProperty(Y)&&h[Y]!=null)if(Y==="style"){var R=h[Y];for(v in R)R.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(I.hasOwnProperty(Y)?p||(p=[]):(p=p||[]).push(Y,null));for(Y in c){var b=c[Y];if(R=h!=null?h[Y]:void 0,c.hasOwnProperty(Y)&&b!==R&&(b!=null||R!=null))if(Y==="style")if(R){for(v in R)!R.hasOwnProperty(v)||b&&b.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in b)b.hasOwnProperty(v)&&R[v]!==b[v]&&(a||(a={}),a[v]=b[v])}else a||(p||(p=[]),p.push(Y,a)),a=b;else Y==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,R=R?R.__html:void 0,b!=null&&R!==b&&(p=p||[]).push(Y,b)):Y==="children"?typeof b!="string"&&typeof b!="number"||(p=p||[]).push(Y,""+b):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(I.hasOwnProperty(Y)?(b!=null&&Y==="onScroll"&&Nt("scroll",t),p||R===b||(p=[])):(p=p||[]).push(Y,b))}a&&(p=p||[]).push("style",a);var Y=p;(i.updateQueue=Y)&&(i.flags|=4)}},Uc=function(t,i,a,c){a!==c&&(i.flags|=4)};function uo(t,i){if(!Ot)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Sn(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=c,t.childLanes=a,i}function D0(t,i,a){var c=i.pendingProps;switch(ra(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(i),null;case 1:return kn(i.type)&&Ho(),Sn(i),null;case 3:return c=i.stateNode,ys(),Tt(Mn),Tt(An),pa(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(Ko(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,gr!==null&&(Xa(gr),gr=null))),Pa(t,i),Sn(i),null;case 5:ga(i);var h=Vi(io.current);if(a=i.type,t!==null&&i.stateNode!=null)Fc(t,i,a,c,h),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(g(166));return Sn(i),null}if(t=Vi(Tr.current),Ko(i)){c=i.stateNode,a=i.type;var p=i.memoizedProps;switch(c[Nr]=i,c[$s]=p,t=(i.mode&1)!==0,a){case"dialog":Nt("cancel",c),Nt("close",c);break;case"iframe":case"object":case"embed":Nt("load",c);break;case"video":case"audio":for(h=0;h<Qs.length;h++)Nt(Qs[h],c);break;case"source":Nt("error",c);break;case"img":case"image":case"link":Nt("error",c),Nt("load",c);break;case"details":Nt("toggle",c);break;case"input":Un(c,p),Nt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},Nt("invalid",c);break;case"textarea":_s(c,p),Nt("invalid",c)}at(a,p),h=null;for(var v in p)if(p.hasOwnProperty(v)){var R=p[v];v==="children"?typeof R=="string"?c.textContent!==R&&(p.suppressHydrationWarning!==!0&&jo(c.textContent,R,t),h=["children",R]):typeof R=="number"&&c.textContent!==""+R&&(p.suppressHydrationWarning!==!0&&jo(c.textContent,R,t),h=["children",""+R]):I.hasOwnProperty(v)&&R!=null&&v==="onScroll"&&Nt("scroll",c)}switch(a){case"input":Qt(c),pt(c,p,!0);break;case"textarea":Qt(c),Qi(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=zo)}c=h,i.updateQueue=c,c!==null&&(i.flags|=4)}else{v=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Rn(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=v.createElement(a,{is:c.is}):(t=v.createElement(a),a==="select"&&(v=t,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):t=v.createElementNS(t,a),t[Nr]=i,t[$s]=c,Lc(t,i,!1,!1),i.stateNode=t;e:{switch(v=Ct(a,c),a){case"dialog":Nt("cancel",t),Nt("close",t),h=c;break;case"iframe":case"object":case"embed":Nt("load",t),h=c;break;case"video":case"audio":for(h=0;h<Qs.length;h++)Nt(Qs[h],t);h=c;break;case"source":Nt("error",t),h=c;break;case"img":case"image":case"link":Nt("error",t),Nt("load",t),h=c;break;case"details":Nt("toggle",t),h=c;break;case"input":Un(t,c),h=yr(t,c),Nt("invalid",t);break;case"option":h=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},h=ge({},c,{value:void 0}),Nt("invalid",t);break;case"textarea":_s(t,c),h=Xr(t,c),Nt("invalid",t);break;default:h=c}at(a,h),R=h;for(p in R)if(R.hasOwnProperty(p)){var b=R[p];p==="style"?fe(t,b):p==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&sn(t,b)):p==="children"?typeof b=="string"?(a!=="textarea"||b!=="")&&Yr(t,b):typeof b=="number"&&Yr(t,""+b):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(I.hasOwnProperty(p)?b!=null&&p==="onScroll"&&Nt("scroll",t):b!=null&&re(t,p,b,v))}switch(a){case"input":Qt(t),pt(t,c,!1);break;case"textarea":Qt(t),Qi(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Ve(c.value));break;case"select":t.multiple=!!c.multiple,p=c.value,p!=null?we(t,!!c.multiple,p,!1):c.defaultValue!=null&&we(t,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=zo)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Sn(i),null;case 6:if(t&&i.stateNode!=null)Uc(t,i,t.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(g(166));if(a=Vi(io.current),Vi(Tr.current),Ko(i)){if(c=i.stateNode,a=i.memoizedProps,c[Nr]=i,(p=c.nodeValue!==a)&&(t=Zn,t!==null))switch(t.tag){case 3:jo(c.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jo(c.nodeValue,a,(t.mode&1)!==0)}p&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Nr]=i,i.stateNode=c}return Sn(i),null;case 13:if(Tt(Mt),c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ot&&Kn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)zu(),xs(),i.flags|=98560,p=!1;else if(p=Ko(i),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(g(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(g(317));p[Nr]=i}else xs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Sn(i),p=!1}else gr!==null&&(Xa(gr),gr=null),p=!0;if(!p)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(t===null||(Mt.current&1)!==0?rn===0&&(rn=3):Ka())),i.updateQueue!==null&&(i.flags|=4),Sn(i),null);case 4:return ys(),Pa(t,i),t===null&&qs(i.stateNode.containerInfo),Sn(i),null;case 10:return ua(i.type._context),Sn(i),null;case 17:return kn(i.type)&&Ho(),Sn(i),null;case 19:if(Tt(Mt),p=i.memoizedState,p===null)return Sn(i),null;if(c=(i.flags&128)!==0,v=p.rendering,v===null)if(c)uo(p,!1);else{if(rn!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(v=tl(t),v!==null){for(i.flags|=128,uo(p,!1),c=v.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)p=a,t=c,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,t=v.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return It(Mt,Mt.current&1|2),i.child}t=t.sibling}p.tail!==null&&gt()>vs&&(i.flags|=128,c=!0,uo(p,!1),i.lanes=4194304)}else{if(!c)if(t=tl(v),t!==null){if(i.flags|=128,c=!0,a=t.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),uo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Ot)return Sn(i),null}else 2*gt()-p.renderingStartTime>vs&&a!==1073741824&&(i.flags|=128,c=!0,uo(p,!1),i.lanes=4194304);p.isBackwards?(v.sibling=i.child,i.child=v):(a=p.last,a!==null?a.sibling=v:i.child=v,p.last=v)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=gt(),i.sibling=null,a=Mt.current,It(Mt,c?a&1|2:a&1),i):(Sn(i),null);case 22:case 23:return Za(),c=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(Qn&1073741824)!==0&&(Sn(i),i.subtreeFlags&6&&(i.flags|=8192)):Sn(i),null;case 24:return null;case 25:return null}throw Error(g(156,i.tag))}function b0(t,i){switch(ra(i),i.tag){case 1:return kn(i.type)&&Ho(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ys(),Tt(Mn),Tt(An),pa(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 5:return ga(i),null;case 13:if(Tt(Mt),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(g(340));xs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Tt(Mt),null;case 4:return ys(),null;case 10:return ua(i.type._context),null;case 22:case 23:return Za(),null;case 24:return null;default:return null}}var cl=!1,In=!1,M0=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Cs(t,i){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Ft(t,i,c)}else a.current=null}function Ba(t,i,a){try{a()}catch(c){Ft(t,i,c)}}var Vc=!1;function k0(t,i){if(Zl=Sr,t=Ke(),He(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var v=0,R=-1,b=-1,Y=0,ee=0,te=t,q=null;t:for(;;){for(var me;te!==a||h!==0&&te.nodeType!==3||(R=v+h),te!==p||c!==0&&te.nodeType!==3||(b=v+c),te.nodeType===3&&(v+=te.nodeValue.length),(me=te.firstChild)!==null;)q=te,te=me;for(;;){if(te===t)break t;if(q===a&&++Y===h&&(R=v),q===p&&++ee===c&&(b=v),(me=te.nextSibling)!==null)break;te=q,q=te.parentNode}te=me}a=R===-1||b===-1?null:{start:R,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kl={focusedElem:t,selectionRange:a},Sr=!1,Ee=i;Ee!==null;)if(i=Ee,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ee=t;else for(;Ee!==null;){i=Ee;try{var Ae=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var Ie=Ae.memoizedProps,Gt=Ae.memoizedState,z=i.stateNode,L=z.getSnapshotBeforeUpdate(i.elementType===i.type?Ie:xr(i.type,Ie),Gt);z.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var H=i.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(g(163))}}catch(oe){Ft(i,i.return,oe)}if(t=i.sibling,t!==null){t.return=i.return,Ee=t;break}Ee=i.return}return Ae=Vc,Vc=!1,Ae}function co(t,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&Ba(i,a,p)}h=h.next}while(h!==c)}}function fl(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&t)===t){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function La(t){var i=t.ref;if(i!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof i=="function"?i(t):i.current=t}}function jc(t){var i=t.alternate;i!==null&&(t.alternate=null,jc(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[Nr],delete i[$s],delete i[$l],delete i[p0],delete i[m0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zc(t){return t.tag===5||t.tag===3||t.tag===4}function Wc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zc(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fa(t,i,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=zo));else if(c!==4&&(t=t.child,t!==null))for(Fa(t,i,a),t=t.sibling;t!==null;)Fa(t,i,a),t=t.sibling}function Ua(t,i,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Ua(t,i,a),t=t.sibling;t!==null;)Ua(t,i,a),t=t.sibling}var xn=null,pr=!1;function di(t,i,a){for(a=a.child;a!==null;)Hc(t,i,a),a=a.sibling}function Hc(t,i,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(rt,a)}catch{}switch(a.tag){case 5:In||Cs(a,i);case 6:var c=xn,h=pr;xn=null,di(t,i,a),xn=c,pr=h,xn!==null&&(pr?(t=xn,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):xn.removeChild(a.stateNode));break;case 18:xn!==null&&(pr?(t=xn,a=a.stateNode,t.nodeType===8?Jl(t.parentNode,a):t.nodeType===1&&Jl(t,a),fr(t)):Jl(xn,a.stateNode));break;case 4:c=xn,h=pr,xn=a.stateNode.containerInfo,pr=!0,di(t,i,a),xn=c,pr=h;break;case 0:case 11:case 14:case 15:if(!In&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var p=h,v=p.destroy;p=p.tag,v!==void 0&&((p&2)!==0||(p&4)!==0)&&Ba(a,i,v),h=h.next}while(h!==c)}di(t,i,a);break;case 1:if(!In&&(Cs(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(R){Ft(a,i,R)}di(t,i,a);break;case 21:di(t,i,a);break;case 22:a.mode&1?(In=(c=In)||a.memoizedState!==null,di(t,i,a),In=c):di(t,i,a);break;default:di(t,i,a)}}function Gc(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new M0),i.forEach(function(c){var h=W0.bind(null,t,c);a.has(c)||(a.add(c),c.then(h,h))})}}function mr(t,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];try{var p=t,v=i,R=v;e:for(;R!==null;){switch(R.tag){case 5:xn=R.stateNode,pr=!1;break e;case 3:xn=R.stateNode.containerInfo,pr=!0;break e;case 4:xn=R.stateNode.containerInfo,pr=!0;break e}R=R.return}if(xn===null)throw Error(g(160));Hc(p,v,h),xn=null,pr=!1;var b=h.alternate;b!==null&&(b.return=null),h.return=null}catch(Y){Ft(h,i,Y)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Xc(i,t),i=i.sibling}function Xc(t,i){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mr(i,t),Rr(t),c&4){try{co(3,t,t.return),fl(3,t)}catch(Ie){Ft(t,t.return,Ie)}try{co(5,t,t.return)}catch(Ie){Ft(t,t.return,Ie)}}break;case 1:mr(i,t),Rr(t),c&512&&a!==null&&Cs(a,a.return);break;case 5:if(mr(i,t),Rr(t),c&512&&a!==null&&Cs(a,a.return),t.flags&32){var h=t.stateNode;try{Yr(h,"")}catch(Ie){Ft(t,t.return,Ie)}}if(c&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,v=a!==null?a.memoizedProps:p,R=t.type,b=t.updateQueue;if(t.updateQueue=null,b!==null)try{R==="input"&&p.type==="radio"&&p.name!=null&&Gr(h,p),Ct(R,v);var Y=Ct(R,p);for(v=0;v<b.length;v+=2){var ee=b[v],te=b[v+1];ee==="style"?fe(h,te):ee==="dangerouslySetInnerHTML"?sn(h,te):ee==="children"?Yr(h,te):re(h,ee,te,Y)}switch(R){case"input":Vt(h,p);break;case"textarea":Jn(h,p);break;case"select":var q=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var me=p.value;me!=null?we(h,!!p.multiple,me,!1):q!==!!p.multiple&&(p.defaultValue!=null?we(h,!!p.multiple,p.defaultValue,!0):we(h,!!p.multiple,p.multiple?[]:"",!1))}h[$s]=p}catch(Ie){Ft(t,t.return,Ie)}}break;case 6:if(mr(i,t),Rr(t),c&4){if(t.stateNode===null)throw Error(g(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(Ie){Ft(t,t.return,Ie)}}break;case 3:if(mr(i,t),Rr(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{fr(i.containerInfo)}catch(Ie){Ft(t,t.return,Ie)}break;case 4:mr(i,t),Rr(t);break;case 13:mr(i,t),Rr(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(za=gt())),c&4&&Gc(t);break;case 22:if(ee=a!==null&&a.memoizedState!==null,t.mode&1?(In=(Y=In)||ee,mr(i,t),In=Y):mr(i,t),Rr(t),c&8192){if(Y=t.memoizedState!==null,(t.stateNode.isHidden=Y)&&!ee&&(t.mode&1)!==0)for(Ee=t,ee=t.child;ee!==null;){for(te=Ee=ee;Ee!==null;){switch(q=Ee,me=q.child,q.tag){case 0:case 11:case 14:case 15:co(4,q,q.return);break;case 1:Cs(q,q.return);var Ae=q.stateNode;if(typeof Ae.componentWillUnmount=="function"){c=q,a=q.return;try{i=c,Ae.props=i.memoizedProps,Ae.state=i.memoizedState,Ae.componentWillUnmount()}catch(Ie){Ft(c,a,Ie)}}break;case 5:Cs(q,q.return);break;case 22:if(q.memoizedState!==null){Kc(te);continue}}me!==null?(me.return=q,Ee=me):Kc(te)}ee=ee.sibling}e:for(ee=null,te=t;;){if(te.tag===5){if(ee===null){ee=te;try{h=te.stateNode,Y?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(R=te.stateNode,b=te.memoizedProps.style,v=b!=null&&b.hasOwnProperty("display")?b.display:null,R.style.display=Dt("display",v))}catch(Ie){Ft(t,t.return,Ie)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=Y?"":te.memoizedProps}catch(Ie){Ft(t,t.return,Ie)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===t)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===t)break e;for(;te.sibling===null;){if(te.return===null||te.return===t)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:mr(i,t),Rr(t),c&4&&Gc(t);break;case 21:break;default:mr(i,t),Rr(t)}}function Rr(t){var i=t.flags;if(i&2){try{e:{for(var a=t.return;a!==null;){if(zc(a)){var c=a;break e}a=a.return}throw Error(g(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(Yr(h,""),c.flags&=-33);var p=Wc(t);Ua(t,p,h);break;case 3:case 4:var v=c.stateNode.containerInfo,R=Wc(t);Fa(t,R,v);break;default:throw Error(g(161))}}catch(b){Ft(t,t.return,b)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function P0(t,i,a){Ee=t,Yc(t)}function Yc(t,i,a){for(var c=(t.mode&1)!==0;Ee!==null;){var h=Ee,p=h.child;if(h.tag===22&&c){var v=h.memoizedState!==null||cl;if(!v){var R=h.alternate,b=R!==null&&R.memoizedState!==null||In;R=cl;var Y=In;if(cl=v,(In=b)&&!Y)for(Ee=h;Ee!==null;)v=Ee,b=v.child,v.tag===22&&v.memoizedState!==null?Qc(h):b!==null?(b.return=v,Ee=b):Qc(h);for(;p!==null;)Ee=p,Yc(p),p=p.sibling;Ee=h,cl=R,In=Y}Zc(t)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,Ee=p):Zc(t)}}function Zc(t){for(;Ee!==null;){var i=Ee;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:In||fl(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!In)if(a===null)c.componentDidMount();else{var h=i.elementType===i.type?a.memoizedProps:xr(i.type,a.memoizedProps);c.componentDidUpdate(h,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=i.updateQueue;p!==null&&Ku(i,p,c);break;case 3:var v=i.updateQueue;if(v!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Ku(i,v,a)}break;case 5:var R=i.stateNode;if(a===null&&i.flags&4){a=R;var b=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&a.focus();break;case"img":b.src&&(a.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var Y=i.alternate;if(Y!==null){var ee=Y.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&fr(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(g(163))}In||i.flags&512&&La(i)}catch(q){Ft(i,i.return,q)}}if(i===t){Ee=null;break}if(a=i.sibling,a!==null){a.return=i.return,Ee=a;break}Ee=i.return}}function Kc(t){for(;Ee!==null;){var i=Ee;if(i===t){Ee=null;break}var a=i.sibling;if(a!==null){a.return=i.return,Ee=a;break}Ee=i.return}}function Qc(t){for(;Ee!==null;){var i=Ee;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{fl(4,i)}catch(b){Ft(i,a,b)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var h=i.return;try{c.componentDidMount()}catch(b){Ft(i,h,b)}}var p=i.return;try{La(i)}catch(b){Ft(i,p,b)}break;case 5:var v=i.return;try{La(i)}catch(b){Ft(i,v,b)}}}catch(b){Ft(i,i.return,b)}if(i===t){Ee=null;break}var R=i.sibling;if(R!==null){R.return=i.return,Ee=R;break}Ee=i.return}}var B0=Math.ceil,dl=Se.ReactCurrentDispatcher,Va=Se.ReactCurrentOwner,ar=Se.ReactCurrentBatchConfig,ot=0,un=null,Yt=null,pn=0,Qn=0,As=li(0),rn=0,fo=null,zi=0,hl=0,ja=0,ho=null,Bn=null,za=0,vs=1/0,Wr=null,gl=!1,Wa=null,hi=null,xl=!1,gi=null,pl=0,go=0,Ha=null,ml=-1,wl=0;function _n(){return(ot&6)!==0?gt():ml!==-1?ml:ml=gt()}function xi(t){return(t.mode&1)===0?1:(ot&2)!==0&&pn!==0?pn&-pn:y0.transition!==null?(wl===0&&(wl=Jt()),wl):(t=Ze,t!==0||(t=window.event,t=t===void 0?16:Vs(t.type)),t)}function wr(t,i,a,c){if(50<go)throw go=0,Ha=null,Error(g(185));T(t,a,c),((ot&2)===0||t!==un)&&(t===un&&((ot&2)===0&&(hl|=a),rn===4&&pi(t,pn)),Ln(t,c),a===1&&ot===0&&(i.mode&1)===0&&(vs=gt()+500,Xo&&ui()))}function Ln(t,i){var a=t.callbackNode;Qr(t,i);var c=Hn(t,t===un?pn:0);if(c===0)a!==null&&on(a),t.callbackNode=null,t.callbackPriority=0;else if(i=c&-c,t.callbackPriority!==i){if(a!=null&&on(a),i===1)t.tag===0?w0(Jc.bind(null,t)):Lu(Jc.bind(null,t)),g0(function(){(ot&6)===0&&ui()}),a=null;else{switch(To(c)){case 1:a=Q;break;case 4:a=Io;break;case 16:a=yt;break;case 536870912:a=No;break;default:a=yt}a=o1(a,qc.bind(null,t))}t.callbackPriority=i,t.callbackNode=a}}function qc(t,i){if(ml=-1,wl=0,(ot&6)!==0)throw Error(g(327));var a=t.callbackNode;if(Ss()&&t.callbackNode!==a)return null;var c=Hn(t,t===un?pn:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||i)i=yl(t,c);else{i=c;var h=ot;ot|=2;var p=e1();(un!==t||pn!==i)&&(Wr=null,vs=gt()+500,Hi(t,i));do try{U0();break}catch(R){$c(t,R)}while(!0);aa(),dl.current=p,ot=h,Yt!==null?i=0:(un=null,pn=0,i=rn)}if(i!==0){if(i===2&&(h=xt(t),h!==0&&(c=h,i=Ga(t,h))),i===1)throw a=fo,Hi(t,0),pi(t,c),Ln(t,gt()),a;if(i===6)pi(t,c);else{if(h=t.current.alternate,(c&30)===0&&!L0(h)&&(i=yl(t,c),i===2&&(p=xt(t),p!==0&&(c=p,i=Ga(t,p))),i===1))throw a=fo,Hi(t,0),pi(t,c),Ln(t,gt()),a;switch(t.finishedWork=h,t.finishedLanes=c,i){case 0:case 1:throw Error(g(345));case 2:Gi(t,Bn,Wr);break;case 3:if(pi(t,c),(c&130023424)===c&&(i=za+500-gt(),10<i)){if(Hn(t,0)!==0)break;if(h=t.suspendedLanes,(h&c)!==c){_n(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=ql(Gi.bind(null,t,Bn,Wr),i);break}Gi(t,Bn,Wr);break;case 4:if(pi(t,c),(c&4194240)===c)break;for(i=t.eventTimes,h=-1;0<c;){var v=31-Nn(c);p=1<<v,v=i[v],v>h&&(h=v),c&=~p}if(c=h,c=gt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*B0(c/1960))-c,10<c){t.timeoutHandle=ql(Gi.bind(null,t,Bn,Wr),c);break}Gi(t,Bn,Wr);break;case 5:Gi(t,Bn,Wr);break;default:throw Error(g(329))}}}return Ln(t,gt()),t.callbackNode===a?qc.bind(null,t):null}function Ga(t,i){var a=ho;return t.current.memoizedState.isDehydrated&&(Hi(t,i).flags|=256),t=yl(t,i),t!==2&&(i=Bn,Bn=a,i!==null&&Xa(i)),t}function Xa(t){Bn===null?Bn=t:Bn.push.apply(Bn,t)}function L0(t){for(var i=t;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var h=a[c],p=h.getSnapshot;h=h.value;try{if(!F(p(),h))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function pi(t,i){for(i&=~ja,i&=~hl,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var a=31-Nn(i),c=1<<a;t[a]=-1,i&=~c}}function Jc(t){if((ot&6)!==0)throw Error(g(327));Ss();var i=Hn(t,0);if((i&1)===0)return Ln(t,gt()),null;var a=yl(t,i);if(t.tag!==0&&a===2){var c=xt(t);c!==0&&(i=c,a=Ga(t,c))}if(a===1)throw a=fo,Hi(t,0),pi(t,i),Ln(t,gt()),a;if(a===6)throw Error(g(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,Gi(t,Bn,Wr),Ln(t,gt()),null}function Ya(t,i){var a=ot;ot|=1;try{return t(i)}finally{ot=a,ot===0&&(vs=gt()+500,Xo&&ui())}}function Wi(t){gi!==null&&gi.tag===0&&(ot&6)===0&&Ss();var i=ot;ot|=1;var a=ar.transition,c=Ze;try{if(ar.transition=null,Ze=1,t)return t()}finally{Ze=c,ar.transition=a,ot=i,(ot&6)===0&&ui()}}function Za(){Qn=As.current,Tt(As)}function Hi(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,h0(a)),Yt!==null)for(a=Yt.return;a!==null;){var c=a;switch(ra(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Ho();break;case 3:ys(),Tt(Mn),Tt(An),pa();break;case 5:ga(c);break;case 4:ys();break;case 13:Tt(Mt);break;case 19:Tt(Mt);break;case 10:ua(c.type._context);break;case 22:case 23:Za()}a=a.return}if(un=t,Yt=t=mi(t.current,null),pn=Qn=i,rn=0,fo=null,ja=hl=zi=0,Bn=ho=null,Ui!==null){for(i=0;i<Ui.length;i++)if(a=Ui[i],c=a.interleaved,c!==null){a.interleaved=null;var h=c.next,p=a.pending;if(p!==null){var v=p.next;p.next=h,c.next=v}a.pending=c}Ui=null}return t}function $c(t,i){do{var a=Yt;try{if(aa(),nl.current=ol,rl){for(var c=kt.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}rl=!1}if(ji=0,an=nn=kt=null,so=!1,oo=0,Va.current=null,a===null||a.return===null){rn=1,fo=i,Yt=null;break}e:{var p=t,v=a.return,R=a,b=i;if(i=pn,R.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var Y=b,ee=R,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var q=ee.alternate;q?(ee.updateQueue=q.updateQueue,ee.memoizedState=q.memoizedState,ee.lanes=q.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var me=Sc(v);if(me!==null){me.flags&=-257,Ic(me,v,R,p,i),me.mode&1&&vc(p,Y,i),i=me,b=Y;var Ae=i.updateQueue;if(Ae===null){var Ie=new Set;Ie.add(b),i.updateQueue=Ie}else Ae.add(b);break e}else{if((i&1)===0){vc(p,Y,i),Ka();break e}b=Error(g(426))}}else if(Ot&&R.mode&1){var Gt=Sc(v);if(Gt!==null){(Gt.flags&65536)===0&&(Gt.flags|=256),Ic(Gt,v,R,p,i),oa(Es(b,R));break e}}p=b=Es(b,R),rn!==4&&(rn=2),ho===null?ho=[p]:ho.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,i&=-i,p.lanes|=i;var z=Cc(p,b,i);Zu(p,z);break e;case 1:R=b;var L=p.type,H=p.stateNode;if((p.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(hi===null||!hi.has(H)))){p.flags|=65536,i&=-i,p.lanes|=i;var oe=Ac(p,R,i);Zu(p,oe);break e}}p=p.return}while(p!==null)}n1(a)}catch(Ne){i=Ne,Yt===a&&a!==null&&(Yt=a=a.return);continue}break}while(!0)}function e1(){var t=dl.current;return dl.current=ol,t===null?ol:t}function Ka(){(rn===0||rn===3||rn===2)&&(rn=4),un===null||(zi&268435455)===0&&(hl&268435455)===0||pi(un,pn)}function yl(t,i){var a=ot;ot|=2;var c=e1();(un!==t||pn!==i)&&(Wr=null,Hi(t,i));do try{F0();break}catch(h){$c(t,h)}while(!0);if(aa(),ot=a,dl.current=c,Yt!==null)throw Error(g(261));return un=null,pn=0,rn}function F0(){for(;Yt!==null;)t1(Yt)}function U0(){for(;Yt!==null&&!At();)t1(Yt)}function t1(t){var i=s1(t.alternate,t,Qn);t.memoizedProps=t.pendingProps,i===null?n1(t):Yt=i,Va.current=null}function n1(t){var i=t;do{var a=i.alternate;if(t=i.return,(i.flags&32768)===0){if(a=D0(a,i,Qn),a!==null){Yt=a;return}}else{if(a=b0(a,i),a!==null){a.flags&=32767,Yt=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rn=6,Yt=null;return}}if(i=i.sibling,i!==null){Yt=i;return}Yt=i=t}while(i!==null);rn===0&&(rn=5)}function Gi(t,i,a){var c=Ze,h=ar.transition;try{ar.transition=null,Ze=1,V0(t,i,a,c)}finally{ar.transition=h,Ze=c}return null}function V0(t,i,a,c){do Ss();while(gi!==null);if((ot&6)!==0)throw Error(g(327));a=t.finishedWork;var h=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(g(177));t.callbackNode=null,t.callbackPriority=0;var p=a.lanes|a.childLanes;if(Re(t,p),t===un&&(Yt=un=null,pn=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||xl||(xl=!0,o1(yt,function(){return Ss(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=ar.transition,ar.transition=null;var v=Ze;Ze=1;var R=ot;ot|=4,Va.current=null,k0(t,a),Xc(a,t),Cn(Kl),Sr=!!Zl,Kl=Zl=null,t.current=a,P0(a),So(),ot=R,Ze=v,ar.transition=p}else t.current=a;if(xl&&(xl=!1,gi=t,pl=h),p=t.pendingLanes,p===0&&(hi=null),$e(a.stateNode),Ln(t,gt()),i!==null)for(c=t.onRecoverableError,a=0;a<i.length;a++)h=i[a],c(h.value,{componentStack:h.stack,digest:h.digest});if(gl)throw gl=!1,t=Wa,Wa=null,t;return(pl&1)!==0&&t.tag!==0&&Ss(),p=t.pendingLanes,(p&1)!==0?t===Ha?go++:(go=0,Ha=t):go=0,ui(),null}function Ss(){if(gi!==null){var t=To(pl),i=ar.transition,a=Ze;try{if(ar.transition=null,Ze=16>t?16:t,gi===null)var c=!1;else{if(t=gi,gi=null,pl=0,(ot&6)!==0)throw Error(g(331));var h=ot;for(ot|=4,Ee=t.current;Ee!==null;){var p=Ee,v=p.child;if((Ee.flags&16)!==0){var R=p.deletions;if(R!==null){for(var b=0;b<R.length;b++){var Y=R[b];for(Ee=Y;Ee!==null;){var ee=Ee;switch(ee.tag){case 0:case 11:case 15:co(8,ee,p)}var te=ee.child;if(te!==null)te.return=ee,Ee=te;else for(;Ee!==null;){ee=Ee;var q=ee.sibling,me=ee.return;if(jc(ee),ee===Y){Ee=null;break}if(q!==null){q.return=me,Ee=q;break}Ee=me}}}var Ae=p.alternate;if(Ae!==null){var Ie=Ae.child;if(Ie!==null){Ae.child=null;do{var Gt=Ie.sibling;Ie.sibling=null,Ie=Gt}while(Ie!==null)}}Ee=p}}if((p.subtreeFlags&2064)!==0&&v!==null)v.return=p,Ee=v;else e:for(;Ee!==null;){if(p=Ee,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:co(9,p,p.return)}var z=p.sibling;if(z!==null){z.return=p.return,Ee=z;break e}Ee=p.return}}var L=t.current;for(Ee=L;Ee!==null;){v=Ee;var H=v.child;if((v.subtreeFlags&2064)!==0&&H!==null)H.return=v,Ee=H;else e:for(v=L;Ee!==null;){if(R=Ee,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:fl(9,R)}}catch(Ne){Ft(R,R.return,Ne)}if(R===v){Ee=null;break e}var oe=R.sibling;if(oe!==null){oe.return=R.return,Ee=oe;break e}Ee=R.return}}if(ot=h,ui(),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(rt,t)}catch{}c=!0}return c}finally{Ze=a,ar.transition=i}}return!1}function r1(t,i,a){i=Es(a,i),i=Cc(t,i,1),t=fi(t,i,1),i=_n(),t!==null&&(T(t,1,i),Ln(t,i))}function Ft(t,i,a){if(t.tag===3)r1(t,t,a);else for(;i!==null;){if(i.tag===3){r1(i,t,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(hi===null||!hi.has(c))){t=Es(a,t),t=Ac(i,t,1),i=fi(i,t,1),t=_n(),i!==null&&(T(i,1,t),Ln(i,t));break}}i=i.return}}function j0(t,i,a){var c=t.pingCache;c!==null&&c.delete(i),i=_n(),t.pingedLanes|=t.suspendedLanes&a,un===t&&(pn&a)===a&&(rn===4||rn===3&&(pn&130023424)===pn&&500>gt()-za?Hi(t,0):ja|=a),Ln(t,i)}function i1(t,i){i===0&&((t.mode&1)===0?i=1:(i=es,es<<=1,(es&130023424)===0&&(es=4194304)));var a=_n();t=Vr(t,i),t!==null&&(T(t,i,a),Ln(t,a))}function z0(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),i1(t,a)}function W0(t,i){var a=0;switch(t.tag){case 13:var c=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(g(314))}c!==null&&c.delete(i),i1(t,a)}var s1;s1=function(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps||Mn.current)Pn=!0;else{if((t.lanes&a)===0&&(i.flags&128)===0)return Pn=!1,O0(t,i,a);Pn=(t.flags&131072)!==0}else Pn=!1,Ot&&(i.flags&1048576)!==0&&Fu(i,Zo,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;ul(t,i),t=i.pendingProps;var h=ds(i,An.current);ws(i,a),h=ya(null,i,c,t,h,a);var p=Ea();return i.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,kn(c)?(p=!0,Go(i)):p=!1,i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,da(i),h.updater=ll,i.stateNode=h,h._reactInternals=i,Na(i,c,t,a),i=Oa(null,i,c,!0,p,a)):(i.tag=0,Ot&&p&&na(i),Tn(null,i,h,a),i=i.child),i;case 16:c=i.elementType;e:{switch(ul(t,i),t=i.pendingProps,h=c._init,c=h(c._payload),i.type=c,h=i.tag=G0(c),t=xr(c,t),h){case 0:i=Ra(null,i,c,t,a);break e;case 1:i=Dc(null,i,c,t,a);break e;case 11:i=Nc(null,i,c,t,a);break e;case 14:i=Tc(null,i,c,xr(c.type,t),a);break e}throw Error(g(306,c,""))}return i;case 0:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:xr(c,h),Ra(t,i,c,h,a);case 1:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:xr(c,h),Dc(t,i,c,h,a);case 3:e:{if(bc(i),t===null)throw Error(g(387));c=i.pendingProps,p=i.memoizedState,h=p.element,Yu(t,i),el(i,c,null,a);var v=i.memoizedState;if(c=v.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){h=Es(Error(g(423)),i),i=Mc(t,i,c,a,h);break e}else if(c!==h){h=Es(Error(g(424)),i),i=Mc(t,i,c,a,h);break e}else for(Kn=oi(i.stateNode.containerInfo.firstChild),Zn=i,Ot=!0,gr=null,a=Gu(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(xs(),c===h){i=zr(t,i,a);break e}Tn(t,i,c,a)}i=i.child}return i;case 5:return Qu(i),t===null&&sa(i),c=i.type,h=i.pendingProps,p=t!==null?t.memoizedProps:null,v=h.children,Ql(c,h)?v=null:p!==null&&Ql(c,p)&&(i.flags|=32),Oc(t,i),Tn(t,i,v,a),i.child;case 6:return t===null&&sa(i),null;case 13:return kc(t,i,a);case 4:return ha(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=ps(i,null,c,a):Tn(t,i,c,a),i.child;case 11:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:xr(c,h),Nc(t,i,c,h,a);case 7:return Tn(t,i,i.pendingProps,a),i.child;case 8:return Tn(t,i,i.pendingProps.children,a),i.child;case 12:return Tn(t,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,h=i.pendingProps,p=i.memoizedProps,v=h.value,It(qo,c._currentValue),c._currentValue=v,p!==null)if(F(p.value,v)){if(p.children===h.children&&!Mn.current){i=zr(t,i,a);break e}}else for(p=i.child,p!==null&&(p.return=i);p!==null;){var R=p.dependencies;if(R!==null){v=p.child;for(var b=R.firstContext;b!==null;){if(b.context===c){if(p.tag===1){b=jr(-1,a&-a),b.tag=2;var Y=p.updateQueue;if(Y!==null){Y=Y.shared;var ee=Y.pending;ee===null?b.next=b:(b.next=ee.next,ee.next=b),Y.pending=b}}p.lanes|=a,b=p.alternate,b!==null&&(b.lanes|=a),ca(p.return,a,i),R.lanes|=a;break}b=b.next}}else if(p.tag===10)v=p.type===i.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(g(341));v.lanes|=a,R=v.alternate,R!==null&&(R.lanes|=a),ca(v,a,i),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===i){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}Tn(t,i,h.children,a),i=i.child}return i;case 9:return h=i.type,c=i.pendingProps.children,ws(i,a),h=or(h),c=c(h),i.flags|=1,Tn(t,i,c,a),i.child;case 14:return c=i.type,h=xr(c,i.pendingProps),h=xr(c.type,h),Tc(t,i,c,h,a);case 15:return _c(t,i,i.type,i.pendingProps,a);case 17:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:xr(c,h),ul(t,i),i.tag=1,kn(c)?(t=!0,Go(i)):t=!1,ws(i,a),yc(i,c,h),Na(i,c,h,a),Oa(null,i,c,!0,t,a);case 19:return Bc(t,i,a);case 22:return Rc(t,i,a)}throw Error(g(156,i.tag))};function o1(t,i){return zn(t,i)}function H0(t,i,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(t,i,a,c){return new H0(t,i,a,c)}function Qa(t){return t=t.prototype,!(!t||!t.isReactComponent)}function G0(t){if(typeof t=="function")return Qa(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Oe)return 11;if(t===Z)return 14}return 2}function mi(t,i){var a=t.alternate;return a===null?(a=ur(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function El(t,i,a,c,h,p){var v=2;if(c=t,typeof t=="function")Qa(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case $:return Xi(a.children,h,p,i);case Ue:v=8,h|=8;break;case ie:return t=ur(12,a,i,h|2),t.elementType=ie,t.lanes=p,t;case Xe:return t=ur(13,a,i,h),t.elementType=Xe,t.lanes=p,t;case ft:return t=ur(19,a,i,h),t.elementType=ft,t.lanes=p,t;case ve:return Cl(a,h,p,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mn:v=10;break e;case Pt:v=9;break e;case Oe:v=11;break e;case Z:v=14;break e;case it:v=16,c=null;break e}throw Error(g(130,t==null?t:typeof t,""))}return i=ur(v,a,i,h),i.elementType=t,i.type=c,i.lanes=p,i}function Xi(t,i,a,c){return t=ur(7,t,c,i),t.lanes=a,t}function Cl(t,i,a,c){return t=ur(22,t,c,i),t.elementType=ve,t.lanes=a,t.stateNode={isHidden:!1},t}function qa(t,i,a){return t=ur(6,t,null,i),t.lanes=a,t}function Ja(t,i,a){return i=ur(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function X0(t,i,a,c,h){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=j(0),this.expirationTimes=j(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=j(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function $a(t,i,a,c,h,p,v,R,b){return t=new X0(t,i,a,R,b),i===1?(i=1,p===!0&&(i|=8)):i=0,p=ur(3,null,null,i),t.current=p,p.stateNode=t,p.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},da(p),t}function Y0(t,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ce,key:c==null?null:""+c,children:t,containerInfo:i,implementation:a}}function l1(t){if(!t)return ai;t=t._reactInternals;e:{if(bn(t)!==t||t.tag!==1)throw Error(g(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(kn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(g(171))}if(t.tag===1){var a=t.type;if(kn(a))return Pu(t,a,i)}return i}function a1(t,i,a,c,h,p,v,R,b){return t=$a(a,c,!0,t,h,p,v,R,b),t.context=l1(null),a=t.current,c=_n(),h=xi(a),p=jr(c,h),p.callback=i??null,fi(a,p,h),t.current.lanes=h,T(t,h,c),Ln(t,c),t}function Al(t,i,a,c){var h=i.current,p=_n(),v=xi(h);return a=l1(a),i.context===null?i.context=a:i.pendingContext=a,i=jr(p,v),i.payload={element:t},c=c===void 0?null:c,c!==null&&(i.callback=c),t=fi(h,i,v),t!==null&&(wr(t,h,v,p),$o(t,h,v)),v}function vl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function u1(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function eu(t,i){u1(t,i),(t=t.alternate)&&u1(t,i)}function Z0(){return null}var c1=typeof reportError=="function"?reportError:function(t){console.error(t)};function tu(t){this._internalRoot=t}Sl.prototype.render=tu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(g(409));Al(t,i,null,null)},Sl.prototype.unmount=tu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Wi(function(){Al(null,t,null,null)}),i[Br]=null}};function Sl(t){this._internalRoot=t}Sl.prototype.unstable_scheduleHydration=function(t){if(t){var i=vt();t={blockedOn:null,target:t,priority:i};for(var a=0;a<dn.length&&i!==0&&i<dn[a].priority;a++);dn.splice(a,0,t),a===0&&Ro(t)}};function nu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Il(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function f1(){}function K0(t,i,a,c,h){if(h){if(typeof c=="function"){var p=c;c=function(){var Y=vl(v);p.call(Y)}}var v=a1(i,c,t,0,null,!1,!1,"",f1);return t._reactRootContainer=v,t[Br]=v.current,qs(t.nodeType===8?t.parentNode:t),Wi(),v}for(;h=t.lastChild;)t.removeChild(h);if(typeof c=="function"){var R=c;c=function(){var Y=vl(b);R.call(Y)}}var b=$a(t,0,!1,null,null,!1,!1,"",f1);return t._reactRootContainer=b,t[Br]=b.current,qs(t.nodeType===8?t.parentNode:t),Wi(function(){Al(i,b,a,c)}),b}function Nl(t,i,a,c,h){var p=a._reactRootContainer;if(p){var v=p;if(typeof h=="function"){var R=h;h=function(){var b=vl(v);R.call(b)}}Al(i,v,t,h)}else v=K0(a,i,t,h,c);return vl(v)}ts=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var a=Et(i.pendingLanes);a!==0&&(Bt(i,a|1),Ln(i,gt()),(ot&6)===0&&(vs=gt()+500,ui()))}break;case 13:Wi(function(){var c=Vr(t,1);if(c!==null){var h=_n();wr(c,t,1,h)}}),eu(t,1)}},En=function(t){if(t.tag===13){var i=Vr(t,134217728);if(i!==null){var a=_n();wr(i,t,134217728,a)}eu(t,134217728)}},De=function(t){if(t.tag===13){var i=xi(t),a=Vr(t,i);if(a!==null){var c=_n();wr(a,t,i,c)}eu(t,i)}},vt=function(){return Ze},Ls=function(t,i){var a=Ze;try{return Ze=t,i()}finally{Ze=a}},Ji=function(t,i,a){switch(i){case"input":if(Vt(t,a),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==t&&c.form===t.form){var h=Wo(c);if(!h)throw Error(g(90));Ci(c),Vt(c,h)}}}break;case"textarea":Jn(t,a);break;case"select":i=a.value,i!=null&&we(t,!!a.multiple,i,!1)}},$i=Ya,qt=Wi;var Q0={usingClientEntryPoint:!1,Events:[eo,cs,Wo,Os,Dn,Ya]},xo={findFiberByHostInstance:Pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},q0={bundleType:xo.bundleType,version:xo.version,rendererPackageName:xo.rendererPackageName,rendererConfig:xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Se.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ao(t),t===null?null:t.stateNode},findFiberByHostInstance:xo.findFiberByHostInstance||Z0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tl.isDisabled&&Tl.supportsFiber)try{rt=Tl.inject(q0),Ye=Tl}catch{}}return Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q0,Fn.createPortal=function(t,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nu(i))throw Error(g(200));return Y0(t,i,null,a)},Fn.createRoot=function(t,i){if(!nu(t))throw Error(g(299));var a=!1,c="",h=c1;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(h=i.onRecoverableError)),i=$a(t,1,!1,null,null,a,!1,c,h),t[Br]=i.current,qs(t.nodeType===8?t.parentNode:t),new tu(i)},Fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(g(188)):(t=Object.keys(t).join(","),Error(g(268,t)));return t=Ao(i),t=t===null?null:t.stateNode,t},Fn.flushSync=function(t){return Wi(t)},Fn.hydrate=function(t,i,a){if(!Il(i))throw Error(g(200));return Nl(null,t,i,!0,a)},Fn.hydrateRoot=function(t,i,a){if(!nu(t))throw Error(g(405));var c=a!=null&&a.hydratedSources||null,h=!1,p="",v=c1;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),i=a1(i,null,t,1,a??null,h,!1,p,v),t[Br]=i.current,qs(t),c)for(t=0;t<c.length;t++)a=c[t],h=a._getVersion,h=h(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,h]:i.mutableSourceEagerHydrationData.push(a,h);return new Sl(i)},Fn.render=function(t,i,a){if(!Il(i))throw Error(g(200));return Nl(null,t,i,!1,a)},Fn.unmountComponentAtNode=function(t){if(!Il(t))throw Error(g(40));return t._reactRootContainer?(Wi(function(){Nl(null,null,t,!1,function(){t._reactRootContainer=null,t[Br]=null})}),!0):!1},Fn.unstable_batchedUpdates=Ya,Fn.unstable_renderSubtreeIntoContainer=function(t,i,a,c){if(!Il(a))throw Error(g(200));if(t==null||t._reactInternals===void 0)throw Error(g(38));return Nl(t,i,a,!1,c)},Fn.version="18.3.1-next-f1338f8080-20240426",Fn}var E1;function H1(){if(E1)return su.exports;E1=1;function x(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x)}catch(m){console.error(m)}}return x(),su.exports=af(),su.exports}var C1;function uf(){if(C1)return Rl;C1=1;var x=H1();return Rl.createRoot=x.createRoot,Rl.hydrateRoot=x.hydrateRoot,Rl}var cf=uf();const ff=x=>x instanceof Error?x.message+`
`+x.stack:JSON.stringify(x,null,2);class df extends W1.Component{constructor(m){super(m),this.state={hasError:!1,error:null}}static getDerivedStateFromError(m){return{hasError:!0,error:m}}render(){return this.state.hasError?V.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[V.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),V.jsx("pre",{className:"mt-2 text-sm",children:ff(this.state.error)})]}):this.props.children}}H1();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wo(){return wo=Object.assign?Object.assign.bind():function(x){for(var m=1;m<arguments.length;m++){var g=arguments[m];for(var A in g)Object.prototype.hasOwnProperty.call(g,A)&&(x[A]=g[A])}return x},wo.apply(this,arguments)}var yi;(function(x){x.Pop="POP",x.Push="PUSH",x.Replace="REPLACE"})(yi||(yi={}));const A1="popstate";function hf(x){x===void 0&&(x={});function m(A,I){let{pathname:C,search:O,hash:P}=A.location;return fu("",{pathname:C,search:O,hash:P},I.state&&I.state.usr||null,I.state&&I.state.key||"default")}function g(A,I){return typeof I=="string"?I:X1(I)}return xf(m,g,null,x)}function Zt(x,m){if(x===!1||x===null||typeof x>"u")throw new Error(m)}function G1(x,m){if(!x){typeof console<"u"&&console.warn(m);try{throw new Error(m)}catch{}}}function gf(){return Math.random().toString(36).substr(2,8)}function v1(x,m){return{usr:x.state,key:x.key,idx:m}}function fu(x,m,g,A){return g===void 0&&(g=null),wo({pathname:typeof x=="string"?x:x.pathname,search:"",hash:""},typeof m=="string"?Ns(m):m,{state:g,key:m&&m.key||A||gf()})}function X1(x){let{pathname:m="/",search:g="",hash:A=""}=x;return g&&g!=="?"&&(m+=g.charAt(0)==="?"?g:"?"+g),A&&A!=="#"&&(m+=A.charAt(0)==="#"?A:"#"+A),m}function Ns(x){let m={};if(x){let g=x.indexOf("#");g>=0&&(m.hash=x.substr(g),x=x.substr(0,g));let A=x.indexOf("?");A>=0&&(m.search=x.substr(A),x=x.substr(0,A)),x&&(m.pathname=x)}return m}function xf(x,m,g,A){A===void 0&&(A={});let{window:I=document.defaultView,v5Compat:C=!1}=A,O=I.history,P=yi.Pop,B=null,N=W();N==null&&(N=0,O.replaceState(wo({},O.state,{idx:N}),""));function W(){return(O.state||{idx:null}).idx}function M(){P=yi.Pop;let he=W(),Me=he==null?null:he-N;N=he,B&&B({action:P,location:ae.location,delta:Me})}function le(he,Me){P=yi.Push;let Te=fu(ae.location,he,Me);N=W()+1;let re=v1(Te,N),Se=ae.createHref(Te);try{O.pushState(re,"",Se)}catch(ct){if(ct instanceof DOMException&&ct.name==="DataCloneError")throw ct;I.location.assign(Se)}C&&B&&B({action:P,location:ae.location,delta:1})}function xe(he,Me){P=yi.Replace;let Te=fu(ae.location,he,Me);N=W();let re=v1(Te,N),Se=ae.createHref(Te);O.replaceState(re,"",Se),C&&B&&B({action:P,location:ae.location,delta:0})}function be(he){let Me=I.location.origin!=="null"?I.location.origin:I.location.href,Te=typeof he=="string"?he:X1(he);return Te=Te.replace(/ $/,"%20"),Zt(Me,"No window.location.(origin|href) available to create URL for href: "+Te),new URL(Te,Me)}let ae={get action(){return P},get location(){return x(I,O)},listen(he){if(B)throw new Error("A history only accepts one active listener");return I.addEventListener(A1,M),B=he,()=>{I.removeEventListener(A1,M),B=null}},createHref(he){return m(I,he)},createURL:be,encodeLocation(he){let Me=be(he);return{pathname:Me.pathname,search:Me.search,hash:Me.hash}},push:le,replace:xe,go(he){return O.go(he)}};return ae}var S1;(function(x){x.data="data",x.deferred="deferred",x.redirect="redirect",x.error="error"})(S1||(S1={}));function pf(x,m,g){return g===void 0&&(g="/"),mf(x,m,g)}function mf(x,m,g,A){let I=typeof m=="string"?Ns(m):m,C=K1(I.pathname||"/",g);if(C==null)return null;let O=Y1(x);wf(O);let P=null;for(let B=0;P==null&&B<O.length;++B){let N=Of(C);P=Tf(O[B],N)}return P}function Y1(x,m,g,A){m===void 0&&(m=[]),g===void 0&&(g=[]),A===void 0&&(A="");let I=(C,O,P)=>{let B={relativePath:P===void 0?C.path||"":P,caseSensitive:C.caseSensitive===!0,childrenIndex:O,route:C};B.relativePath.startsWith("/")&&(Zt(B.relativePath.startsWith(A),'Absolute route path "'+B.relativePath+'" nested under path '+('"'+A+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),B.relativePath=B.relativePath.slice(A.length));let N=Zi([A,B.relativePath]),W=g.concat(B);C.children&&C.children.length>0&&(Zt(C.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+N+'".')),Y1(C.children,m,W,N)),!(C.path==null&&!C.index)&&m.push({path:N,score:If(N,C.index),routesMeta:W})};return x.forEach((C,O)=>{var P;if(C.path===""||!((P=C.path)!=null&&P.includes("?")))I(C,O);else for(let B of Z1(C.path))I(C,O,B)}),m}function Z1(x){let m=x.split("/");if(m.length===0)return[];let[g,...A]=m,I=g.endsWith("?"),C=g.replace(/\?$/,"");if(A.length===0)return I?[C,""]:[C];let O=Z1(A.join("/")),P=[];return P.push(...O.map(B=>B===""?C:[C,B].join("/"))),I&&P.push(...O),P.map(B=>x.startsWith("/")&&B===""?"/":B)}function wf(x){x.sort((m,g)=>m.score!==g.score?g.score-m.score:Nf(m.routesMeta.map(A=>A.childrenIndex),g.routesMeta.map(A=>A.childrenIndex)))}const yf=/^:[\w-]+$/,Ef=3,Cf=2,Af=1,vf=10,Sf=-2,I1=x=>x==="*";function If(x,m){let g=x.split("/"),A=g.length;return g.some(I1)&&(A+=Sf),m&&(A+=Cf),g.filter(I=>!I1(I)).reduce((I,C)=>I+(yf.test(C)?Ef:C===""?Af:vf),A)}function Nf(x,m){return x.length===m.length&&x.slice(0,-1).every((A,I)=>A===m[I])?x[x.length-1]-m[m.length-1]:0}function Tf(x,m,g){let{routesMeta:A}=x,I={},C="/",O=[];for(let P=0;P<A.length;++P){let B=A[P],N=P===A.length-1,W=C==="/"?m:m.slice(C.length)||"/",M=_f({path:B.relativePath,caseSensitive:B.caseSensitive,end:N},W),le=B.route;if(!M)return null;Object.assign(I,M.params),O.push({params:I,pathname:Zi([C,M.pathname]),pathnameBase:kf(Zi([C,M.pathnameBase])),route:le}),M.pathnameBase!=="/"&&(C=Zi([C,M.pathnameBase]))}return O}function _f(x,m){typeof x=="string"&&(x={path:x,caseSensitive:!1,end:!0});let[g,A]=Rf(x.path,x.caseSensitive,x.end),I=m.match(g);if(!I)return null;let C=I[0],O=C.replace(/(.)\/+$/,"$1"),P=I.slice(1);return{params:A.reduce((N,W,M)=>{let{paramName:le,isOptional:xe}=W;if(le==="*"){let ae=P[M]||"";O=C.slice(0,C.length-ae.length).replace(/(.)\/+$/,"$1")}const be=P[M];return xe&&!be?N[le]=void 0:N[le]=(be||"").replace(/%2F/g,"/"),N},{}),pathname:C,pathnameBase:O,pattern:x}}function Rf(x,m,g){m===void 0&&(m=!1),g===void 0&&(g=!0),G1(x==="*"||!x.endsWith("*")||x.endsWith("/*"),'Route path "'+x+'" will be treated as if it were '+('"'+x.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+x.replace(/\*$/,"/*")+'".'));let A=[],I="^"+x.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(O,P,B)=>(A.push({paramName:P,isOptional:B!=null}),B?"/?([^\\/]+)?":"/([^\\/]+)"));return x.endsWith("*")?(A.push({paramName:"*"}),I+=x==="*"||x==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):g?I+="\\/*$":x!==""&&x!=="/"&&(I+="(?:(?=\\/|$))"),[new RegExp(I,m?void 0:"i"),A]}function Of(x){try{return x.split("/").map(m=>decodeURIComponent(m).replace(/\//g,"%2F")).join("/")}catch(m){return G1(!1,'The URL path "'+x+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+m+").")),x}}function K1(x,m){if(m==="/")return x;if(!x.toLowerCase().startsWith(m.toLowerCase()))return null;let g=m.endsWith("/")?m.length-1:m.length,A=x.charAt(g);return A&&A!=="/"?null:x.slice(g)||"/"}function Df(x,m){m===void 0&&(m="/");let{pathname:g,search:A="",hash:I=""}=typeof x=="string"?Ns(x):x;return{pathname:g?g.startsWith("/")?g:bf(g,m):m,search:Pf(A),hash:Bf(I)}}function bf(x,m){let g=m.replace(/\/+$/,"").split("/");return x.split("/").forEach(I=>{I===".."?g.length>1&&g.pop():I!=="."&&g.push(I)}),g.length>1?g.join("/"):"/"}function au(x,m,g,A){return"Cannot include a '"+x+"' character in a manually specified "+("`to."+m+"` field ["+JSON.stringify(A)+"].  Please separate it out to the ")+("`to."+g+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mf(x){return x.filter((m,g)=>g===0||m.route.path&&m.route.path.length>0)}function Q1(x,m){let g=Mf(x);return m?g.map((A,I)=>I===g.length-1?A.pathname:A.pathnameBase):g.map(A=>A.pathnameBase)}function q1(x,m,g,A){A===void 0&&(A=!1);let I;typeof x=="string"?I=Ns(x):(I=wo({},x),Zt(!I.pathname||!I.pathname.includes("?"),au("?","pathname","search",I)),Zt(!I.pathname||!I.pathname.includes("#"),au("#","pathname","hash",I)),Zt(!I.search||!I.search.includes("#"),au("#","search","hash",I)));let C=x===""||I.pathname==="",O=C?"/":I.pathname,P;if(O==null)P=g;else{let M=m.length-1;if(!A&&O.startsWith("..")){let le=O.split("/");for(;le[0]==="..";)le.shift(),M-=1;I.pathname=le.join("/")}P=M>=0?m[M]:"/"}let B=Df(I,P),N=O&&O!=="/"&&O.endsWith("/"),W=(C||O===".")&&g.endsWith("/");return!B.pathname.endsWith("/")&&(N||W)&&(B.pathname+="/"),B}const Zi=x=>x.join("/").replace(/\/\/+/g,"/"),kf=x=>x.replace(/\/+$/,"").replace(/^\/*/,"/"),Pf=x=>!x||x==="?"?"":x.startsWith("?")?x:"?"+x,Bf=x=>!x||x==="#"?"":x.startsWith("#")?x:"#"+x;function Lf(x){return x!=null&&typeof x.status=="number"&&typeof x.statusText=="string"&&typeof x.internal=="boolean"&&"data"in x}const J1=["post","put","patch","delete"];new Set(J1);const Ff=["get",...J1];new Set(Ff);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yo(){return yo=Object.assign?Object.assign.bind():function(x){for(var m=1;m<arguments.length;m++){var g=arguments[m];for(var A in g)Object.prototype.hasOwnProperty.call(g,A)&&(x[A]=g[A])}return x},yo.apply(this,arguments)}const pu=ue.createContext(null),Uf=ue.createContext(null),Eo=ue.createContext(null),kl=ue.createContext(null),Ki=ue.createContext({outlet:null,matches:[],isDataRoute:!1}),$1=ue.createContext(null);function Co(){return ue.useContext(kl)!=null}function Pl(){return Co()||Zt(!1),ue.useContext(kl).location}function e0(x){ue.useContext(Eo).static||ue.useLayoutEffect(x)}function Ts(){let{isDataRoute:x}=ue.useContext(Ki);return x?Jf():Vf()}function Vf(){Co()||Zt(!1);let x=ue.useContext(pu),{basename:m,future:g,navigator:A}=ue.useContext(Eo),{matches:I}=ue.useContext(Ki),{pathname:C}=Pl(),O=JSON.stringify(Q1(I,g.v7_relativeSplatPath)),P=ue.useRef(!1);return e0(()=>{P.current=!0}),ue.useCallback(function(N,W){if(W===void 0&&(W={}),!P.current)return;if(typeof N=="number"){A.go(N);return}let M=q1(N,JSON.parse(O),C,W.relative==="path");x==null&&m!=="/"&&(M.pathname=M.pathname==="/"?m:Zi([m,M.pathname])),(W.replace?A.replace:A.push)(M,W.state,W)},[m,A,O,C,x])}function jf(x,m){return zf(x,m)}function zf(x,m,g,A){Co()||Zt(!1);let{navigator:I,static:C}=ue.useContext(Eo),{matches:O}=ue.useContext(Ki),P=O[O.length-1],B=P?P.params:{};P&&P.pathname;let N=P?P.pathnameBase:"/";P&&P.route;let W=Pl(),M;if(m){var le;let Me=typeof m=="string"?Ns(m):m;N==="/"||(le=Me.pathname)!=null&&le.startsWith(N)||Zt(!1),M=Me}else M=W;let xe=M.pathname||"/",be=xe;if(N!=="/"){let Me=N.replace(/^\//,"").split("/");be="/"+xe.replace(/^\//,"").split("/").slice(Me.length).join("/")}let ae=pf(x,{pathname:be}),he=Yf(ae&&ae.map(Me=>Object.assign({},Me,{params:Object.assign({},B,Me.params),pathname:Zi([N,I.encodeLocation?I.encodeLocation(Me.pathname).pathname:Me.pathname]),pathnameBase:Me.pathnameBase==="/"?N:Zi([N,I.encodeLocation?I.encodeLocation(Me.pathnameBase).pathname:Me.pathnameBase])})),O,g,A);return m&&he?ue.createElement(kl.Provider,{value:{location:yo({pathname:"/",search:"",hash:"",state:null,key:"default"},M),navigationType:yi.Pop}},he):he}function Wf(){let x=qf(),m=Lf(x)?x.status+" "+x.statusText:x instanceof Error?x.message:JSON.stringify(x),g=x instanceof Error?x.stack:null,I={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ue.createElement(ue.Fragment,null,ue.createElement("h2",null,"Unexpected Application Error!"),ue.createElement("h3",{style:{fontStyle:"italic"}},m),g?ue.createElement("pre",{style:I},g):null,null)}const Hf=ue.createElement(Wf,null);class Gf extends ue.Component{constructor(m){super(m),this.state={location:m.location,revalidation:m.revalidation,error:m.error}}static getDerivedStateFromError(m){return{error:m}}static getDerivedStateFromProps(m,g){return g.location!==m.location||g.revalidation!=="idle"&&m.revalidation==="idle"?{error:m.error,location:m.location,revalidation:m.revalidation}:{error:m.error!==void 0?m.error:g.error,location:g.location,revalidation:m.revalidation||g.revalidation}}componentDidCatch(m,g){console.error("React Router caught the following error during render",m,g)}render(){return this.state.error!==void 0?ue.createElement(Ki.Provider,{value:this.props.routeContext},ue.createElement($1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xf(x){let{routeContext:m,match:g,children:A}=x,I=ue.useContext(pu);return I&&I.static&&I.staticContext&&(g.route.errorElement||g.route.ErrorBoundary)&&(I.staticContext._deepestRenderedBoundaryId=g.route.id),ue.createElement(Ki.Provider,{value:m},A)}function Yf(x,m,g,A){var I;if(m===void 0&&(m=[]),g===void 0&&(g=null),A===void 0&&(A=null),x==null){var C;if(!g)return null;if(g.errors)x=g.matches;else if((C=A)!=null&&C.v7_partialHydration&&m.length===0&&!g.initialized&&g.matches.length>0)x=g.matches;else return null}let O=x,P=(I=g)==null?void 0:I.errors;if(P!=null){let W=O.findIndex(M=>M.route.id&&(P==null?void 0:P[M.route.id])!==void 0);W>=0||Zt(!1),O=O.slice(0,Math.min(O.length,W+1))}let B=!1,N=-1;if(g&&A&&A.v7_partialHydration)for(let W=0;W<O.length;W++){let M=O[W];if((M.route.HydrateFallback||M.route.hydrateFallbackElement)&&(N=W),M.route.id){let{loaderData:le,errors:xe}=g,be=M.route.loader&&le[M.route.id]===void 0&&(!xe||xe[M.route.id]===void 0);if(M.route.lazy||be){B=!0,N>=0?O=O.slice(0,N+1):O=[O[0]];break}}}return O.reduceRight((W,M,le)=>{let xe,be=!1,ae=null,he=null;g&&(xe=P&&M.route.id?P[M.route.id]:void 0,ae=M.route.errorElement||Hf,B&&(N<0&&le===0?($f("route-fallback"),be=!0,he=null):N===le&&(be=!0,he=M.route.hydrateFallbackElement||null)));let Me=m.concat(O.slice(0,le+1)),Te=()=>{let re;return xe?re=ae:be?re=he:M.route.Component?re=ue.createElement(M.route.Component,null):M.route.element?re=M.route.element:re=W,ue.createElement(Xf,{match:M,routeContext:{outlet:W,matches:Me,isDataRoute:g!=null},children:re})};return g&&(M.route.ErrorBoundary||M.route.errorElement||le===0)?ue.createElement(Gf,{location:g.location,revalidation:g.revalidation,component:ae,error:xe,children:Te(),routeContext:{outlet:null,matches:Me,isDataRoute:!0}}):Te()},null)}var t0=function(x){return x.UseBlocker="useBlocker",x.UseRevalidator="useRevalidator",x.UseNavigateStable="useNavigate",x}(t0||{}),n0=function(x){return x.UseBlocker="useBlocker",x.UseLoaderData="useLoaderData",x.UseActionData="useActionData",x.UseRouteError="useRouteError",x.UseNavigation="useNavigation",x.UseRouteLoaderData="useRouteLoaderData",x.UseMatches="useMatches",x.UseRevalidator="useRevalidator",x.UseNavigateStable="useNavigate",x.UseRouteId="useRouteId",x}(n0||{});function Zf(x){let m=ue.useContext(pu);return m||Zt(!1),m}function Kf(x){let m=ue.useContext(Uf);return m||Zt(!1),m}function Qf(x){let m=ue.useContext(Ki);return m||Zt(!1),m}function r0(x){let m=Qf(),g=m.matches[m.matches.length-1];return g.route.id||Zt(!1),g.route.id}function qf(){var x;let m=ue.useContext($1),g=Kf(),A=r0();return m!==void 0?m:(x=g.errors)==null?void 0:x[A]}function Jf(){let{router:x}=Zf(t0.UseNavigateStable),m=r0(n0.UseNavigateStable),g=ue.useRef(!1);return e0(()=>{g.current=!0}),ue.useCallback(function(I,C){C===void 0&&(C={}),g.current&&(typeof I=="number"?x.navigate(I):x.navigate(I,yo({fromRouteId:m},C)))},[x,m])}const N1={};function $f(x,m,g){N1[x]||(N1[x]=!0)}function ed(x,m){x==null||x.v7_startTransition,x==null||x.v7_relativeSplatPath}function du(x){let{to:m,replace:g,state:A,relative:I}=x;Co()||Zt(!1);let{future:C,static:O}=ue.useContext(Eo),{matches:P}=ue.useContext(Ki),{pathname:B}=Pl(),N=Ts(),W=q1(m,Q1(P,C.v7_relativeSplatPath),B,I==="path"),M=JSON.stringify(W);return ue.useEffect(()=>N(JSON.parse(M),{replace:g,state:A,relative:I}),[N,M,I,g,A]),null}function Yi(x){Zt(!1)}function td(x){let{basename:m="/",children:g=null,location:A,navigationType:I=yi.Pop,navigator:C,static:O=!1,future:P}=x;Co()&&Zt(!1);let B=m.replace(/^\/*/,"/"),N=ue.useMemo(()=>({basename:B,navigator:C,static:O,future:yo({v7_relativeSplatPath:!1},P)}),[B,P,C,O]);typeof A=="string"&&(A=Ns(A));let{pathname:W="/",search:M="",hash:le="",state:xe=null,key:be="default"}=A,ae=ue.useMemo(()=>{let he=K1(W,B);return he==null?null:{location:{pathname:he,search:M,hash:le,state:xe,key:be},navigationType:I}},[B,W,M,le,xe,be,I]);return ae==null?null:ue.createElement(Eo.Provider,{value:N},ue.createElement(kl.Provider,{children:g,value:ae}))}function nd(x){let{children:m,location:g}=x;return jf(hu(m),g)}new Promise(()=>{});function hu(x,m){m===void 0&&(m=[]);let g=[];return ue.Children.forEach(x,(A,I)=>{if(!ue.isValidElement(A))return;let C=[...m,I];if(A.type===ue.Fragment){g.push.apply(g,hu(A.props.children,C));return}A.type!==Yi&&Zt(!1),!A.props.index||!A.props.children||Zt(!1);let O={id:A.props.id||C.join("-"),caseSensitive:A.props.caseSensitive,element:A.props.element,Component:A.props.Component,index:A.props.index,path:A.props.path,loader:A.props.loader,action:A.props.action,errorElement:A.props.errorElement,ErrorBoundary:A.props.ErrorBoundary,hasErrorBoundary:A.props.ErrorBoundary!=null||A.props.errorElement!=null,shouldRevalidate:A.props.shouldRevalidate,handle:A.props.handle,lazy:A.props.lazy};A.props.children&&(O.children=hu(A.props.children,C)),g.push(O)}),g}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const rd="6";try{window.__reactRouterVersion=rd}catch{}const id="startTransition",T1=sf[id];function sd(x){let{basename:m,children:g,future:A,window:I}=x,C=ue.useRef();C.current==null&&(C.current=hf({window:I,v5Compat:!0}));let O=C.current,[P,B]=ue.useState({action:O.action,location:O.location}),{v7_startTransition:N}=A||{},W=ue.useCallback(M=>{N&&T1?T1(()=>B(M)):B(M)},[B,N]);return ue.useLayoutEffect(()=>O.listen(W),[O,W]),ue.useEffect(()=>ed(A),[A]),ue.createElement(td,{basename:m,children:g,location:P.location,navigationType:P.action,navigator:O,future:A})}var _1;(function(x){x.UseScrollRestoration="useScrollRestoration",x.UseSubmit="useSubmit",x.UseSubmitFetcher="useSubmitFetcher",x.UseFetcher="useFetcher",x.useViewTransitionState="useViewTransitionState"})(_1||(_1={}));var R1;(function(x){x.UseFetcher="useFetcher",x.UseFetchers="useFetchers",x.UseScrollRestoration="useScrollRestoration"})(R1||(R1={}));const od="https://api.trishool.space.minimax.io",ld=/^deviceid-A2025001$/;function ad(x){return ld.test(x)}class ud{constructor(){d1(this,"token",null)}setToken(m){this.token=m,localStorage.setItem("auth_token",m)}getToken(){return this.token||(this.token=localStorage.getItem("auth_token")),this.token}async makeRequest(m,g={}){const A=this.getToken(),I=`${od}${m}`,C={"Content-Type":"application/json",...g.headers};A&&(C.Authorization=`Bearer ${A}`);const O=await fetch(I,{...g,headers:C});if(!O.ok){const P=await O.json().catch(()=>({error:"Network error"}));throw new Error(P.error||`HTTP ${O.status}`)}return O.json()}}const Ei=new ud,uu={async login(x,m){const g=await Ei.makeRequest("/auth/login",{method:"POST",body:JSON.stringify({email:x,password:m})});return Ei.setToken(g.token),g},async verifyToken(){return Ei.makeRequest("/auth/verify")},async logout(){Ei.setToken(""),localStorage.removeItem("auth_token")}},Ol={async registerDevice(x){return Ei.makeRequest("/devices",{method:"POST",body:JSON.stringify(x)})},async getDevices(){return Ei.makeRequest("/devices")},async searchDevices(x){return Ei.makeRequest(`/devices/search?q=${encodeURIComponent(x)}`)},async deleteDevice(x){return Ei.makeRequest(`/devices/${encodeURIComponent(x)}`,{method:"DELETE"})}},i0=ue.createContext(void 0);function cd({children:x}){const[m,g]=ue.useState(null),[A,I]=ue.useState(!0);ue.useEffect(()=>{async function P(){I(!0);try{if(!localStorage.getItem("auth_token")){g(null);return}const{user:N}=await uu.verifyToken();g(N)}catch(B){console.error("Error verifying user:",B),localStorage.removeItem("auth_token"),g(null)}finally{I(!1)}}P()},[]);async function C(P,B){try{const N=await uu.login(P,B);return g(N.user),{error:null}}catch(N){return console.error("Login error:",N),{error:N.message||"Login failed"}}}async function O(){try{await uu.logout(),g(null)}catch(P){console.error("Logout error:",P)}}return V.jsx(i0.Provider,{value:{user:m,loading:A,signIn:C,signOut:O},children:x})}function mu(){const x=ue.useContext(i0);if(x===void 0)throw new Error("useAuth must be used within an AuthProvider");return x}function cu({children:x}){const{user:m,loading:g}=mu();return g?V.jsx("div",{className:"min-h-screen flex items-center justify-center",children:V.jsx("div",{className:"text-dark-gray",children:"Loading..."})}):m?V.jsx(V.Fragment,{children:x}):V.jsx(du,{to:"/login",replace:!0})}function fd(){const x=Ts(),{signIn:m}=mu(),[g,A]=ue.useState(""),[I,C]=ue.useState(""),[O,P]=ue.useState(!1),[B,N]=ue.useState(""),W=async M=>{M.preventDefault(),P(!0),N("");try{const{error:le}=await m(g,I);le?N("Invalid email or password"):x("/dashboard")}catch{N("An error occurred during login")}finally{P(!1)}};return V.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background-light",children:V.jsxs("div",{className:"w-full max-w-sm",children:[V.jsx("div",{className:"text-center mb-16",children:V.jsx("img",{src:"/trishool-logo.png",alt:"TRISHOOL",className:"h-12 mx-auto mb-16"})}),V.jsxs("div",{className:"card",children:[V.jsx("h1",{className:"text-display text-black text-center mb-sm",children:"TRISHOOL Portal"}),V.jsx("p",{className:"text-body text-dark-gray text-center mb-lg",children:"Device Registration System"}),V.jsxs("form",{onSubmit:W,className:"space-y-md",children:[V.jsxs("div",{children:[V.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),V.jsx("input",{type:"email",id:"email",value:g,onChange:M=>A(M.target.value),className:"input-field w-full",placeholder:"Enter your email",required:!0,disabled:O})]}),V.jsxs("div",{children:[V.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),V.jsx("input",{type:"password",id:"password",value:I,onChange:M=>C(M.target.value),className:"input-field w-full",placeholder:"Enter your password",required:!0,disabled:O})]}),B&&V.jsx("div",{className:"validation-message error",children:B}),V.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:O||!g||!I,children:O?"PROCESSING...":"LOGIN"})]}),V.jsxs("div",{className:"mt-lg p-md bg-surface-gray border border-border-gray",children:[V.jsx("p",{className:"text-small text-medium-gray text-center mb-sm",children:"Demo Credentials:"}),V.jsx("p",{className:"text-small text-dark-gray font-mono text-center",children:"admin@trishool.com / admin123"})]})]}),V.jsx("div",{className:"text-center mt-12",children:V.jsx("p",{className:"text-caption text-medium-gray",children:"TRISHOOL Device Registration Portal v1.0"})})]})})}function wu({showBackButton:x=!1}){const{user:m,signOut:g}=mu(),A=Ts();Pl();const I=async()=>{await g(),A("/login")},C=()=>{A("/dashboard")};return V.jsx("nav",{className:"bg-white border-b border-border-gray h-16 fixed top-0 left-0 right-0 z-10",children:V.jsxs("div",{className:"page-container h-full flex items-center justify-between",children:[V.jsxs("div",{className:"flex items-center space-x-lg",children:[x&&V.jsx("button",{onClick:C,className:"btn-secondary text-sm px-sm",children:"BACK"}),V.jsx("img",{src:"/trishool-logo.png",alt:"TRISHOOL",className:"h-8 w-auto"})]}),V.jsxs("div",{className:"flex items-center space-x-lg",children:[V.jsx("div",{className:"text-small text-medium-gray",children:(m==null?void 0:m.email)||"User"}),V.jsx("button",{onClick:I,className:"btn-secondary text-sm px-sm",children:"LOGOUT"})]})]})})}function dd(){const x=Ts(),m=()=>{x("/register")},g=()=>{x("/deregister")};return V.jsxs("div",{className:"min-h-screen bg-white",children:[V.jsx(wu,{}),V.jsxs("div",{className:"page-container pt-20",children:[V.jsxs("div",{className:"page-header text-center",children:[V.jsx("h1",{className:"text-display text-black mb-md",children:"Device Management"}),V.jsx("p",{className:"text-body-large text-medium-gray",children:"System Active"})]}),V.jsxs("div",{className:"swiss-grid swiss-grid-2 max-w-4xl mx-auto",children:[V.jsxs("div",{className:"card-dashboard",onClick:m,tabIndex:0,role:"button",onKeyDown:A=>{(A.key==="Enter"||A.key===" ")&&m()},children:[V.jsxs("div",{className:"text-center",children:[V.jsx("h2",{className:"text-subhead text-black mb-md",children:"Register Device"}),V.jsx("p",{className:"text-body text-dark-gray",children:"Register new TRISHOOL devices with IMEI validation and QR code scanning"})]}),V.jsx("div",{className:"text-center mt-lg",children:V.jsx("button",{className:"btn-primary",children:"REGISTER DEVICE"})})]}),V.jsxs("div",{className:"card-dashboard",onClick:g,tabIndex:0,role:"button",onKeyDown:A=>{(A.key==="Enter"||A.key===" ")&&g()},children:[V.jsxs("div",{className:"text-center",children:[V.jsx("h2",{className:"text-subhead text-black mb-md",children:"Deregister Device"}),V.jsx("p",{className:"text-body text-dark-gray",children:"Search and remove devices from the active registry"})]}),V.jsx("div",{className:"text-center mt-lg",children:V.jsx("button",{className:"btn-primary",children:"DEREGISTER DEVICE"})})]})]}),V.jsx("div",{className:"text-center mt-16",children:V.jsx("p",{className:"text-caption text-medium-gray",children:"TRISHOOL Manufacturing Portal v1.0"})})]})]})}var ye;(function(x){x[x.QR_CODE=0]="QR_CODE",x[x.AZTEC=1]="AZTEC",x[x.CODABAR=2]="CODABAR",x[x.CODE_39=3]="CODE_39",x[x.CODE_93=4]="CODE_93",x[x.CODE_128=5]="CODE_128",x[x.DATA_MATRIX=6]="DATA_MATRIX",x[x.MAXICODE=7]="MAXICODE",x[x.ITF=8]="ITF",x[x.EAN_13=9]="EAN_13",x[x.EAN_8=10]="EAN_8",x[x.PDF_417=11]="PDF_417",x[x.RSS_14=12]="RSS_14",x[x.RSS_EXPANDED=13]="RSS_EXPANDED",x[x.UPC_A=14]="UPC_A",x[x.UPC_E=15]="UPC_E",x[x.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ye||(ye={}));var O1=new Map([[ye.QR_CODE,"QR_CODE"],[ye.AZTEC,"AZTEC"],[ye.CODABAR,"CODABAR"],[ye.CODE_39,"CODE_39"],[ye.CODE_93,"CODE_93"],[ye.CODE_128,"CODE_128"],[ye.DATA_MATRIX,"DATA_MATRIX"],[ye.MAXICODE,"MAXICODE"],[ye.ITF,"ITF"],[ye.EAN_13,"EAN_13"],[ye.EAN_8,"EAN_8"],[ye.PDF_417,"PDF_417"],[ye.RSS_14,"RSS_14"],[ye.RSS_EXPANDED,"RSS_EXPANDED"],[ye.UPC_A,"UPC_A"],[ye.UPC_E,"UPC_E"],[ye.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),D1;(function(x){x[x.UNKNOWN=0]="UNKNOWN",x[x.URL=1]="URL"})(D1||(D1={}));function hd(x){return Object.values(ye).includes(x)}var Dl;(function(x){x[x.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",x[x.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Dl||(Dl={}));var gd=function(){function x(){}return x.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",x.SCAN_DEFAULT_FPS=2,x.DEFAULT_DISABLE_FLIP=!1,x.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,x.DEFAULT_SUPPORTED_SCAN_TYPE=[Dl.SCAN_TYPE_CAMERA,Dl.SCAN_TYPE_FILE],x}(),s0=function(){function x(m,g){this.format=m,this.formatName=g}return x.prototype.toString=function(){return this.formatName},x.create=function(m){if(!O1.has(m))throw"".concat(m," not in html5QrcodeSupportedFormatsTextMap");return new x(m,O1.get(m))},x}(),b1=function(){function x(){}return x.createFromText=function(m){var g={text:m};return{decodedText:m,result:g}},x.createFromQrcodeResult=function(m){return{decodedText:m.text,result:m}},x}(),gu;(function(x){x[x.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",x[x.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",x[x.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(gu||(gu={}));var xd=function(){function x(){}return x.createFrom=function(m){return{errorMessage:m,type:gu.UNKWOWN_ERROR}},x}(),pd=function(){function x(m){this.verbose=m}return x.prototype.log=function(m){this.verbose&&console.log(m)},x.prototype.warn=function(m){this.verbose&&console.warn(m)},x.prototype.logError=function(m,g){(this.verbose||g===!0)&&console.error(m)},x.prototype.logErrors=function(m){if(m.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(m)},x}();function Hr(x){return typeof x>"u"||x===null}var Is=function(){function x(){}return x.codeParseError=function(m){return"QR code parse error, error = ".concat(m)},x.errorGettingUserMedia=function(m){return"Error getting userMedia, error = ".concat(m)},x.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},x.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},x.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},x.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},x.scannerPaused=function(){return"Scanner paused"},x}(),o0=function(){function x(){}return x.isMediaStreamConstraintsValid=function(m,g){if(typeof m!="object"){var A=typeof m;return g.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(A,"."),!0),!1}for(var I=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],C=new Set(I),O=Object.keys(m),P=0,B=O;P<B.length;P++){var N=B[P];if(C.has(N))return g.logError("".concat(N," is not supported videoConstaints."),!0),!1}return!0},x}(),mo={exports:{}},md=mo.exports,M1;function wd(){return M1||(M1=1,function(x,m){(function(g,A){A(m)})(md,function(g){function A(y){return y==null}var I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,e){y.__proto__=e}||function(y,e){for(var n in e)e.hasOwnProperty(n)&&(y[n]=e[n])};function C(y,e){I(y,e);function n(){this.constructor=y}y.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function O(y,e){var n=Object.setPrototypeOf;n?n(y,e):y.__proto__=e}function P(y,e){e===void 0&&(e=y.constructor);var n=Error.captureStackTrace;n&&n(y,e)}var B=function(y){C(e,y);function e(n){var r=this.constructor,s=y.call(this,n)||this;return Object.defineProperty(s,"name",{value:r.name,enumerable:!1}),O(s,r.prototype),P(s),s}return e}(Error);class N extends B{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}N.kind="Exception";class W extends N{}W.kind="ArgumentException";class M extends N{}M.kind="IllegalArgumentException";class le{constructor(e){if(this.binarizer=e,e===null)throw new M("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,n){return this.binarizer.getBlackRow(e,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,n,r,s){const o=this.binarizer.getLuminanceSource().crop(e,n,r,s);return new le(this.binarizer.createBinarizer(o))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new le(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new le(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class xe extends N{static getChecksumInstance(){return new xe}}xe.kind="ChecksumException";class be{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class ae{static arraycopy(e,n,r,s,o){for(;o--;)r[s++]=e[n++]}static currentTimeMillis(){return Date.now()}}class he extends N{}he.kind="IndexOutOfBoundsException";class Me extends he{constructor(e=void 0,n=void 0){super(n),this.index=e,this.message=n}}Me.kind="ArrayIndexOutOfBoundsException";class Te{static fill(e,n){for(let r=0,s=e.length;r<s;r++)e[r]=n}static fillWithin(e,n,r,s){Te.rangeCheck(e.length,n,r);for(let o=n;o<r;o++)e[o]=s}static rangeCheck(e,n,r){if(n>r)throw new M("fromIndex("+n+") > toIndex("+r+")");if(n<0)throw new Me(n);if(r>e)throw new Me(r)}static asList(...e){return e}static create(e,n,r){return Array.from({length:e}).map(o=>Array.from({length:n}).fill(r))}static createInt32Array(e,n,r){return Array.from({length:e}).map(o=>Int32Array.from({length:n}).fill(r))}static equals(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(let r=0,s=e.length;r<s;r++)if(e[r]!==n[r])return!1;return!0}static hashCode(e){if(e===null)return 0;let n=1;for(const r of e)n=31*n+r;return n}static fillUint8Array(e,n){for(let r=0;r!==e.length;r++)e[r]=n}static copyOf(e,n){return e.slice(0,n)}static copyOfUint8Array(e,n){if(e.length<=n){const r=new Uint8Array(n);return r.set(e),r}return e.slice(0,n)}static copyOfRange(e,n,r){const s=r-n,o=new Int32Array(s);return ae.arraycopy(e,n,o,0,s),o}static binarySearch(e,n,r){r===void 0&&(r=Te.numberComparator);let s=0,o=e.length-1;for(;s<=o;){const l=o+s>>1,u=r(n,e[l]);if(u>0)s=l+1;else if(u<0)o=l-1;else return l}return-s-1}static numberComparator(e,n){return e-n}}class re{static numberOfTrailingZeros(e){let n;if(e===0)return 32;let r=31;return n=e<<16,n!==0&&(r-=16,e=n),n=e<<8,n!==0&&(r-=8,e=n),n=e<<4,n!==0&&(r-=4,e=n),n=e<<2,n!==0&&(r-=2,e=n),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,n){return Math.trunc(e/n)}static parseInt(e,n=void 0){return parseInt(e,n)}}re.MIN_VALUE_32_BITS=-2147483648,re.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Se{constructor(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=Se.makeArray(e):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const n=Se.makeArray(e);ae.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const n=this.size;if(e>=n)return n;const r=this.bits;let s=Math.floor(e/32),o=r[s];o&=~((1<<(e&31))-1);const l=r.length;for(;o===0;){if(++s===l)return n;o=r[s]}const u=s*32+re.numberOfTrailingZeros(o);return u>n?n:u}getNextUnset(e){const n=this.size;if(e>=n)return n;const r=this.bits;let s=Math.floor(e/32),o=~r[s];o&=~((1<<(e&31))-1);const l=r.length;for(;o===0;){if(++s===l)return n;o=~r[s]}const u=s*32+re.numberOfTrailingZeros(o);return u>n?n:u}setBulk(e,n){this.bits[Math.floor(e/32)]=n}setRange(e,n){if(n<e||e<0||n>this.size)throw new M;if(n===e)return;n--;const r=Math.floor(e/32),s=Math.floor(n/32),o=this.bits;for(let l=r;l<=s;l++){const u=l>r?0:e&31,d=(2<<(l<s?31:n&31))-(1<<u);o[l]|=d}}clear(){const e=this.bits.length,n=this.bits;for(let r=0;r<e;r++)n[r]=0}isRange(e,n,r){if(n<e||e<0||n>this.size)throw new M;if(n===e)return!0;n--;const s=Math.floor(e/32),o=Math.floor(n/32),l=this.bits;for(let u=s;u<=o;u++){const f=u>s?0:e&31,w=(2<<(u<o?31:n&31))-(1<<f)&4294967295;if((l[u]&w)!==(r?w:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,n){if(n<0||n>32)throw new M("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let r=n;r>0;r--)this.appendBit((e>>r-1&1)===1)}appendBitArray(e){const n=e.size;this.ensureCapacity(this.size+n);for(let r=0;r<n;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new M("Sizes don't match");const n=this.bits;for(let r=0,s=n.length;r<s;r++)n[r]^=e.bits[r]}toBytes(e,n,r,s){for(let o=0;o<s;o++){let l=0;for(let u=0;u<8;u++)this.get(e)&&(l|=1<<7-u),e++;n[r+o]=l}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),r=n+1,s=this.bits;for(let o=0;o<r;o++){let l=s[o];l=l>>1&1431655765|(l&1431655765)<<1,l=l>>2&858993459|(l&858993459)<<2,l=l>>4&252645135|(l&252645135)<<4,l=l>>8&16711935|(l&16711935)<<8,l=l>>16&65535|(l&65535)<<16,e[n-o]=l}if(this.size!==r*32){const o=r*32-this.size;let l=e[0]>>>o;for(let u=1;u<r;u++){const f=e[u];l|=f<<32-o,e[u-1]=l,l=f>>>o}e[r-1]=l}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof Se))return!1;const n=e;return this.size===n.size&&Te.equals(this.bits,n.bits)}hashCode(){return 31*this.size+Te.hashCode(this.bits)}toString(){let e="";for(let n=0,r=this.size;n<r;n++)(n&7)===0&&(e+=" "),e+=this.get(n)?"X":".";return e}clone(){return new Se(this.size,this.bits.slice())}}var ct;(function(y){y[y.OTHER=0]="OTHER",y[y.PURE_BARCODE=1]="PURE_BARCODE",y[y.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",y[y.TRY_HARDER=3]="TRY_HARDER",y[y.CHARACTER_SET=4]="CHARACTER_SET",y[y.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",y[y.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",y[y.ASSUME_GS1=7]="ASSUME_GS1",y[y.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",y[y.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",y[y.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ct||(ct={}));var Ce=ct;class $ extends N{static getFormatInstance(){return new $}}$.kind="FormatException";var Ue;(function(y){y[y.Cp437=0]="Cp437",y[y.ISO8859_1=1]="ISO8859_1",y[y.ISO8859_2=2]="ISO8859_2",y[y.ISO8859_3=3]="ISO8859_3",y[y.ISO8859_4=4]="ISO8859_4",y[y.ISO8859_5=5]="ISO8859_5",y[y.ISO8859_6=6]="ISO8859_6",y[y.ISO8859_7=7]="ISO8859_7",y[y.ISO8859_8=8]="ISO8859_8",y[y.ISO8859_9=9]="ISO8859_9",y[y.ISO8859_10=10]="ISO8859_10",y[y.ISO8859_11=11]="ISO8859_11",y[y.ISO8859_13=12]="ISO8859_13",y[y.ISO8859_14=13]="ISO8859_14",y[y.ISO8859_15=14]="ISO8859_15",y[y.ISO8859_16=15]="ISO8859_16",y[y.SJIS=16]="SJIS",y[y.Cp1250=17]="Cp1250",y[y.Cp1251=18]="Cp1251",y[y.Cp1252=19]="Cp1252",y[y.Cp1256=20]="Cp1256",y[y.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",y[y.UTF8=22]="UTF8",y[y.ASCII=23]="ASCII",y[y.Big5=24]="Big5",y[y.GB18030=25]="GB18030",y[y.EUC_KR=26]="EUC_KR"})(Ue||(Ue={}));class ie{constructor(e,n,r,...s){this.valueIdentifier=e,this.name=r,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=s,ie.VALUE_IDENTIFIER_TO_ECI.set(e,this),ie.NAME_TO_ECI.set(r,this);const o=this.values;for(let l=0,u=o.length;l!==u;l++){const f=o[l];ie.VALUES_TO_ECI.set(f,this)}for(const l of s)ie.NAME_TO_ECI.set(l,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new $("incorect value");const n=ie.VALUES_TO_ECI.get(e);if(n===void 0)throw new $("incorect value");return n}static getCharacterSetECIByName(e){const n=ie.NAME_TO_ECI.get(e);if(n===void 0)throw new $("incorect value");return n}equals(e){if(!(e instanceof ie))return!1;const n=e;return this.getName()===n.getName()}}ie.VALUE_IDENTIFIER_TO_ECI=new Map,ie.VALUES_TO_ECI=new Map,ie.NAME_TO_ECI=new Map,ie.Cp437=new ie(Ue.Cp437,Int32Array.from([0,2]),"Cp437"),ie.ISO8859_1=new ie(Ue.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ie.ISO8859_2=new ie(Ue.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ie.ISO8859_3=new ie(Ue.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ie.ISO8859_4=new ie(Ue.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ie.ISO8859_5=new ie(Ue.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ie.ISO8859_6=new ie(Ue.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ie.ISO8859_7=new ie(Ue.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ie.ISO8859_8=new ie(Ue.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ie.ISO8859_9=new ie(Ue.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ie.ISO8859_10=new ie(Ue.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ie.ISO8859_11=new ie(Ue.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ie.ISO8859_13=new ie(Ue.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ie.ISO8859_14=new ie(Ue.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ie.ISO8859_15=new ie(Ue.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ie.ISO8859_16=new ie(Ue.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ie.SJIS=new ie(Ue.SJIS,20,"SJIS","Shift_JIS"),ie.Cp1250=new ie(Ue.Cp1250,21,"Cp1250","windows-1250"),ie.Cp1251=new ie(Ue.Cp1251,22,"Cp1251","windows-1251"),ie.Cp1252=new ie(Ue.Cp1252,23,"Cp1252","windows-1252"),ie.Cp1256=new ie(Ue.Cp1256,24,"Cp1256","windows-1256"),ie.UnicodeBigUnmarked=new ie(Ue.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ie.UTF8=new ie(Ue.UTF8,26,"UTF8","UTF-8"),ie.ASCII=new ie(Ue.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ie.Big5=new ie(Ue.Big5,28,"Big5"),ie.GB18030=new ie(Ue.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ie.EUC_KR=new ie(Ue.EUC_KR,30,"EUC_KR","EUC-KR");class mn extends N{}mn.kind="UnsupportedOperationException";class Pt{static decode(e,n){const r=this.encodingName(n);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!Pt.isBrowser()&&e==="ISO-8859-1"}static encode(e,n){const r=this.encodingName(n);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof ie?e:ie.getCharacterSetECIByName(e)}static decodeFallback(e,n){const r=this.encodingCharacterSet(n);if(Pt.isDecodeFallbackSupported(r)){let s="";for(let o=0,l=e.length;o<l;o++){let u=e[o].toString(16);u.length<2&&(u="0"+u),s+="%"+u}return decodeURIComponent(s)}if(r.equals(ie.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new mn(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(ie.UTF8)||e.equals(ie.ISO8859_1)||e.equals(ie.ASCII)}static encodeFallback(e){const r=btoa(unescape(encodeURIComponent(e))).split(""),s=[];for(let o=0;o<r.length;o++)s.push(r[o].charCodeAt(0));return new Uint8Array(s)}}class Oe{static castAsNonUtf8Char(e,n=null){const r=n?n.getName():this.ISO88591;return Pt.decode(new Uint8Array([e]),r)}static guessEncoding(e,n){if(n!=null&&n.get(Ce.CHARACTER_SET)!==void 0)return n.get(Ce.CHARACTER_SET).toString();const r=e.length;let s=!0,o=!0,l=!0,u=0,f=0,d=0,w=0,E=0,S=0,_=0,D=0,k=0,F=0,G=0;const ne=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let se=0;se<r&&(s||o||l);se++){const J=e[se]&255;l&&(u>0?(J&128)===0?l=!1:u--:(J&128)!==0&&((J&64)===0?l=!1:(u++,(J&32)===0?f++:(u++,(J&16)===0?d++:(u++,(J&8)===0?w++:l=!1))))),s&&(J>127&&J<160?s=!1:J>159&&(J<192||J===215||J===247)&&G++),o&&(E>0?J<64||J===127||J>252?o=!1:E--:J===128||J===160||J>239?o=!1:J>160&&J<224?(S++,D=0,_++,_>k&&(k=_)):J>127?(E++,_=0,D++,D>F&&(F=D)):(_=0,D=0))}return l&&u>0&&(l=!1),o&&E>0&&(o=!1),l&&(ne||f+d+w>0)?Oe.UTF8:o&&(Oe.ASSUME_SHIFT_JIS||k>=3||F>=3)?Oe.SHIFT_JIS:s&&o?k===2&&S===2||G*10>=r?Oe.SHIFT_JIS:Oe.ISO88591:s?Oe.ISO88591:o?Oe.SHIFT_JIS:l?Oe.UTF8:Oe.PLATFORM_DEFAULT_ENCODING}static format(e,...n){let r=-1;function s(l,u,f,d,w,E){if(l==="%%")return"%";if(n[++r]===void 0)return;l=d?parseInt(d.substr(1)):void 0;let S=w?parseInt(w.substr(1)):void 0,_;switch(E){case"s":_=n[r];break;case"c":_=n[r][0];break;case"f":_=parseFloat(n[r]).toFixed(l);break;case"p":_=parseFloat(n[r]).toPrecision(l);break;case"e":_=parseFloat(n[r]).toExponential(l);break;case"x":_=parseInt(n[r]).toString(S||16);break;case"d":_=parseFloat(parseInt(n[r],S||10).toPrecision(l)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(S);let D=parseInt(f),k=f&&f[0]+""=="0"?"0":" ";for(;_.length<D;)_=u!==void 0?_+k:k+_;return _}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,s)}static getBytes(e,n){return Pt.encode(e,n)}static getCharCode(e,n=0){return e.charCodeAt(n)}static getCharAt(e){return String.fromCharCode(e)}}Oe.SHIFT_JIS=ie.SJIS.getName(),Oe.GB2312="GB2312",Oe.ISO88591=ie.ISO8859_1.getName(),Oe.EUC_JP="EUC_JP",Oe.UTF8=ie.UTF8.getName(),Oe.PLATFORM_DEFAULT_ENCODING=Oe.UTF8,Oe.ASSUME_SHIFT_JIS=!1;class Xe{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Oe.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,n,r){for(let s=n;n<n+r;s++)this.append(e[s]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)}substring(e,n){return this.value.substring(e,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)}}class ft{constructor(e,n,r,s){if(this.width=e,this.height=n,this.rowSize=r,this.bits=s,n==null&&(n=e),this.height=n,e<1||n<1)throw new M("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const n=e.length,r=e[0].length,s=new ft(r,n);for(let o=0;o<n;o++){const l=e[o];for(let u=0;u<r;u++)l[u]&&s.set(u,o)}return s}static parseFromString(e,n,r){if(e===null)throw new M("stringRepresentation cannot be null");const s=new Array(e.length);let o=0,l=0,u=-1,f=0,d=0;for(;d<e.length;)if(e.charAt(d)===`
`||e.charAt(d)==="\r"){if(o>l){if(u===-1)u=o-l;else if(o-l!==u)throw new M("row lengths do not match");l=o,f++}d++}else if(e.substring(d,d+n.length)===n)d+=n.length,s[o]=!0,o++;else if(e.substring(d,d+r.length)===r)d+=r.length,s[o]=!1,o++;else throw new M("illegal character encountered: "+e.substring(d));if(o>l){if(u===-1)u=o-l;else if(o-l!==u)throw new M("row lengths do not match");f++}const w=new ft(u,f);for(let E=0;E<o;E++)s[E]&&w.set(Math.floor(E%u),Math.floor(E/u));return w}get(e,n){const r=n*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0}set(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295}unset(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)}flip(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new M("input matrix dimensions do not match");const n=new Se(Math.floor(this.width/32)+1),r=this.rowSize,s=this.bits;for(let o=0,l=this.height;o<l;o++){const u=o*r,f=e.getRow(o,n).getBitArray();for(let d=0;d<r;d++)s[u+d]^=f[d]}}clear(){const e=this.bits,n=e.length;for(let r=0;r<n;r++)e[r]=0}setRegion(e,n,r,s){if(n<0||e<0)throw new M("Left and top must be nonnegative");if(s<1||r<1)throw new M("Height and width must be at least 1");const o=e+r,l=n+s;if(l>this.height||o>this.width)throw new M("The region must fit inside the matrix");const u=this.rowSize,f=this.bits;for(let d=n;d<l;d++){const w=d*u;for(let E=e;E<o;E++)f[w+Math.floor(E/32)]|=1<<(E&31)&4294967295}}getRow(e,n){n==null||n.getSize()<this.width?n=new Se(this.width):n.clear();const r=this.rowSize,s=this.bits,o=e*r;for(let l=0;l<r;l++)n.setBulk(l*32,s[o+l]);return n}setRow(e,n){ae.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),n=this.getHeight();let r=new Se(e),s=new Se(e);for(let o=0,l=Math.floor((n+1)/2);o<l;o++)r=this.getRow(o,r),s=this.getRow(n-1-o,s),r.reverse(),s.reverse(),this.setRow(o,s),this.setRow(n-1-o,r)}getEnclosingRectangle(){const e=this.width,n=this.height,r=this.rowSize,s=this.bits;let o=e,l=n,u=-1,f=-1;for(let d=0;d<n;d++)for(let w=0;w<r;w++){const E=s[d*r+w];if(E!==0){if(d<l&&(l=d),d>f&&(f=d),w*32<o){let S=0;for(;(E<<31-S&4294967295)===0;)S++;w*32+S<o&&(o=w*32+S)}if(w*32+31>u){let S=31;for(;!(E>>>S);)S--;w*32+S>u&&(u=w*32+S)}}}return u<o||f<l?null:Int32Array.from([o,l,u-o+1,f-l+1])}getTopLeftOnBit(){const e=this.rowSize,n=this.bits;let r=0;for(;r<n.length&&n[r]===0;)r++;if(r===n.length)return null;const s=r/e;let o=r%e*32;const l=n[r];let u=0;for(;(l<<31-u&4294967295)===0;)u++;return o+=u,Int32Array.from([o,s])}getBottomRightOnBit(){const e=this.rowSize,n=this.bits;let r=n.length-1;for(;r>=0&&n[r]===0;)r--;if(r<0)return null;const s=Math.floor(r/e);let o=Math.floor(r%e)*32;const l=n[r];let u=31;for(;!(l>>>u);)u--;return o+=u,Int32Array.from([o,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof ft))return!1;const n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&Te.equals(this.bits,n.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Te.hashCode(this.bits),e}toString(e="X ",n="  ",r=`
`){return this.buildToString(e,n,r)}buildToString(e,n,r){let s=new Xe;for(let o=0,l=this.height;o<l;o++){for(let u=0,f=this.width;u<f;u++)s.append(this.get(u,o)?e:n);s.append(r)}return s.toString()}clone(){return new ft(this.width,this.height,this.rowSize,this.bits.slice())}}class Z extends N{static getNotFoundInstance(){return new Z}}Z.kind="NotFoundException";class it extends be{constructor(e){super(e),this.luminances=it.EMPTY,this.buckets=new Int32Array(it.LUMINANCE_BUCKETS)}getBlackRow(e,n){const r=this.getLuminanceSource(),s=r.getWidth();n==null||n.getSize()<s?n=new Se(s):n.clear(),this.initArrays(s);const o=r.getRow(e,this.luminances),l=this.buckets;for(let f=0;f<s;f++)l[(o[f]&255)>>it.LUMINANCE_SHIFT]++;const u=it.estimateBlackPoint(l);if(s<3)for(let f=0;f<s;f++)(o[f]&255)<u&&n.set(f);else{let f=o[0]&255,d=o[1]&255;for(let w=1;w<s-1;w++){const E=o[w+1]&255;(d*4-f-E)/2<u&&n.set(w),f=d,d=E}}return n}getBlackMatrix(){const e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight(),s=new ft(n,r);this.initArrays(n);const o=this.buckets;for(let f=1;f<5;f++){const d=Math.floor(r*f/5),w=e.getRow(d,this.luminances),E=Math.floor(n*4/5);for(let S=Math.floor(n/5);S<E;S++){const _=w[S]&255;o[_>>it.LUMINANCE_SHIFT]++}}const l=it.estimateBlackPoint(o),u=e.getMatrix();for(let f=0;f<r;f++){const d=f*n;for(let w=0;w<n;w++)(u[d+w]&255)<l&&s.set(w,f)}return s}createBinarizer(e){return new it(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const n=this.buckets;for(let r=0;r<it.LUMINANCE_BUCKETS;r++)n[r]=0}static estimateBlackPoint(e){const n=e.length;let r=0,s=0,o=0;for(let w=0;w<n;w++)e[w]>o&&(s=w,o=e[w]),e[w]>r&&(r=e[w]);let l=0,u=0;for(let w=0;w<n;w++){const E=w-s,S=e[w]*E*E;S>u&&(l=w,u=S)}if(s>l){const w=s;s=l,l=w}if(l-s<=n/16)throw new Z;let f=l-1,d=-1;for(let w=l-1;w>s;w--){const E=w-s,S=E*E*(l-w)*(r-e[w]);S>d&&(f=w,d=S)}return f<<it.LUMINANCE_SHIFT}}it.LUMINANCE_BITS=5,it.LUMINANCE_SHIFT=8-it.LUMINANCE_BITS,it.LUMINANCE_BUCKETS=1<<it.LUMINANCE_BITS,it.EMPTY=Uint8ClampedArray.from([0]);class ve extends it{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight();if(n>=ve.MINIMUM_DIMENSION&&r>=ve.MINIMUM_DIMENSION){const s=e.getMatrix();let o=n>>ve.BLOCK_SIZE_POWER;(n&ve.BLOCK_SIZE_MASK)!==0&&o++;let l=r>>ve.BLOCK_SIZE_POWER;(r&ve.BLOCK_SIZE_MASK)!==0&&l++;const u=ve.calculateBlackPoints(s,o,l,n,r),f=new ft(n,r);ve.calculateThresholdForBlock(s,o,l,n,r,u,f),this.matrix=f}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new ve(e)}static calculateThresholdForBlock(e,n,r,s,o,l,u){const f=o-ve.BLOCK_SIZE,d=s-ve.BLOCK_SIZE;for(let w=0;w<r;w++){let E=w<<ve.BLOCK_SIZE_POWER;E>f&&(E=f);const S=ve.cap(w,2,r-3);for(let _=0;_<n;_++){let D=_<<ve.BLOCK_SIZE_POWER;D>d&&(D=d);const k=ve.cap(_,2,n-3);let F=0;for(let ne=-2;ne<=2;ne++){const se=l[S+ne];F+=se[k-2]+se[k-1]+se[k]+se[k+1]+se[k+2]}const G=F/25;ve.thresholdBlock(e,D,E,G,s,u)}}}static cap(e,n,r){return e<n?n:e>r?r:e}static thresholdBlock(e,n,r,s,o,l){for(let u=0,f=r*o+n;u<ve.BLOCK_SIZE;u++,f+=o)for(let d=0;d<ve.BLOCK_SIZE;d++)(e[f+d]&255)<=s&&l.set(n+d,r+u)}static calculateBlackPoints(e,n,r,s,o){const l=o-ve.BLOCK_SIZE,u=s-ve.BLOCK_SIZE,f=new Array(r);for(let d=0;d<r;d++){f[d]=new Int32Array(n);let w=d<<ve.BLOCK_SIZE_POWER;w>l&&(w=l);for(let E=0;E<n;E++){let S=E<<ve.BLOCK_SIZE_POWER;S>u&&(S=u);let _=0,D=255,k=0;for(let G=0,ne=w*s+S;G<ve.BLOCK_SIZE;G++,ne+=s){for(let se=0;se<ve.BLOCK_SIZE;se++){const J=e[ne+se]&255;_+=J,J<D&&(D=J),J>k&&(k=J)}if(k-D>ve.MIN_DYNAMIC_RANGE)for(G++,ne+=s;G<ve.BLOCK_SIZE;G++,ne+=s)for(let se=0;se<ve.BLOCK_SIZE;se++)_+=e[ne+se]&255}let F=_>>ve.BLOCK_SIZE_POWER*2;if(k-D<=ve.MIN_DYNAMIC_RANGE&&(F=D/2,d>0&&E>0)){const G=(f[d-1][E]+2*f[d][E-1]+f[d-1][E-1])/4;D<G&&(F=G)}f[d][E]=F}}return f}}ve.BLOCK_SIZE_POWER=3,ve.BLOCK_SIZE=1<<ve.BLOCK_SIZE_POWER,ve.BLOCK_SIZE_MASK=ve.BLOCK_SIZE-1,ve.MINIMUM_DIMENSION=ve.BLOCK_SIZE*5,ve.MIN_DYNAMIC_RANGE=24;class de{constructor(e,n){this.width=e,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,n,r,s){throw new mn("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new mn("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new mn("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let n=new Xe;for(let r=0;r<this.height;r++){const s=this.getRow(r,e);for(let o=0;o<this.width;o++){const l=s[o]&255;let u;l<64?u="#":l<128?u="+":l<192?u=".":u=" ",n.append(u)}n.append(`
`)}return n.toString()}}class _e extends de{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,n){const r=this.delegate.getRow(e,n),s=this.getWidth();for(let o=0;o<s;o++)r[o]=255-(r[o]&255);return r}getMatrix(){const e=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(n);for(let s=0;s<n;s++)r[s]=255-(e[s]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,n,r,s){return new _e(this.delegate.crop(e,n,r,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new _e(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new _e(this.delegate.rotateCounterClockwise45())}}class ge extends de{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=ge.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const n=e.getContext("2d").getImageData(0,0,e.width,e.height);return ge.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,n,r){const s=new Uint8ClampedArray(n*r);for(let o=0,l=0,u=e.length;o<u;o+=4,l++){let f;if(e[o+3]===0)f=255;else{const w=e[o],E=e[o+1],S=e[o+2];f=306*w+601*E+117*S+512>>10}s[l]=f}return s}getRow(e,n){if(e<0||e>=this.getHeight())throw new M("Requested row is outside the image: "+e);const r=this.getWidth(),s=e*r;return n===null?n=this.buffer.slice(s,s+r):(n.length<r&&(n=new Uint8ClampedArray(r)),n.set(this.buffer.slice(s,s+r))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,n,r,s){return super.crop(e,n,r,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const n=this.getTempCanvasElement(),r=n.getContext("2d"),s=e*ge.DEGREE_TO_RADIANS,o=this.canvas.width,l=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(s))*o+Math.abs(Math.sin(s))*l),f=Math.ceil(Math.abs(Math.sin(s))*o+Math.abs(Math.cos(s))*l);return n.width=u,n.height=f,r.translate(u/2,f/2),r.rotate(s),r.drawImage(this.canvas,o/-2,l/-2),this.buffer=ge.makeBufferFromCanvasImageData(n),this}invert(){return new _e(this)}}ge.DEGREE_TO_RADIANS=Math.PI/180;class U{constructor(e,n,r){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var K=(globalThis||_l||self||window||void 0)&&(globalThis||_l||self||window||void 0).__awaiter||function(y,e,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(w){try{d(r.next(w))}catch(E){l(E)}}function f(w){try{d(r.throw(w))}catch(E){l(E)}}function d(w){w.done?o(w.value):s(w.value).then(u,f)}d((r=r.apply(y,e||[])).next())})};class je{constructor(e,n=500,r){this.reader=e,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return K(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const r of e){const s=r.kind==="video"?"videoinput":r.kind;if(s!=="videoinput")continue;const o=r.deviceId||r.id,l=r.label||`Video device ${n.length+1}`,u=r.groupId,f={deviceId:o,label:l,kind:s,groupId:u};n.push(f)}return n})}getVideoInputDevices(){return K(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new U(n.deviceId,n.label))})}findDeviceById(e){return K(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(r=>r.deviceId===e):null})}decodeFromInputVideoDevice(e,n){return K(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,n)})}decodeOnceFromVideoDevice(e,n){return K(this,void 0,void 0,function*(){this.reset();let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const s={video:r};return yield this.decodeOnceFromConstraints(s,n)})}decodeOnceFromConstraints(e,n){return K(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,n)})}decodeOnceFromStream(e,n){return K(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,n);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,n,r){return K(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,n,r)})}decodeFromVideoDevice(e,n,r){return K(this,void 0,void 0,function*(){let s;e?s={deviceId:{exact:e}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeFromConstraints(o,n,r)})}decodeFromConstraints(e,n,r){return K(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(s,n,r)})}decodeFromStream(e,n,r){return K(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(e,n);return yield this.decodeContinuously(s,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,n){return K(this,void 0,void 0,function*(){const r=this.prepareVideoElement(n);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((n,r)=>this.playVideoOnLoad(e,()=>n()))}playVideoOnLoad(e,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return K(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,n){const r=document.getElementById(e);if(!r)throw new W(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new W(`element with id '${e}' must be an ${n} element`);return r}decodeFromImage(e,n){if(!e&&!n)throw new W("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)}decodeFromVideo(e,n){if(!e&&!n)throw new W("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,n,r){if(e===void 0&&n===void 0)throw new W("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new W("An image element must be provided.");this.reset();const n=this.prepareImageElement(e);this.imageElement=n;let r;return this.isImageLoaded(n)?r=this.decodeOnce(n,!1,!0):r=this._decodeOnLoadImage(n),r}decodeFromVideoElement(e){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(e,n){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,n)}_decodeFromVideoElementSetup(e){if(!e)throw new W("A video element must be provided.");this.reset();const n=this.prepareVideoElement(e);return this.videoElement=n,n}decodeFromImageUrl(e){if(!e)throw new W("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const r=this._decodeOnLoadImage(n);return n.src=e,r}decodeFromVideoUrl(e){if(!e)throw new W("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),r=this.decodeFromVideoElement(n);return n.src=e,r}decodeFromVideoUrlContinuously(e,n){if(!e)throw new W("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(r,n);return r.src=e,s}_decodeOnLoadImage(e){return new Promise((n,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(n,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return K(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,n){return K(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,n)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n}prepareVideoElement(e){let n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(e,n=!0,r=!0){this._stopAsyncDecode=!1;const s=(o,l)=>{if(this._stopAsyncDecode){l(new Z("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const u=this.decode(e);o(u)}catch(u){const f=n&&u instanceof Z,w=(u instanceof xe||u instanceof $)&&r;if(f||w)return setTimeout(s,this._timeBetweenDecodingAttempts,o,l);l(u)}};return new Promise((o,l)=>s(o,l))}decodeContinuously(e,n){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(e);n(s,null),setTimeout(r,this.timeBetweenScansMillis)}catch(s){n(null,s);const o=s instanceof xe||s instanceof $,l=s instanceof Z;(o||l)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const n=this.createBinaryBitmap(e);return this.decodeBitmap(n)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,n,r){n||(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(e,n,r=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const n=this.getCaptureCanvas(e),r=new ge(n),s=new ve(r);return new le(s)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let r,s;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,s=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,s=e.naturalHeight||e.height)),n.style.width=r+"px",n.style.height=s+"px",n.width=r,n.height=s,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class ke{constructor(e,n,r=n==null?0:8*n.length,s,o,l=ae.currentTimeMillis()){this.text=e,this.rawBytes=n,this.numBits=r,this.resultPoints=s,this.format=o,this.timestamp=l,this.text=e,this.rawBytes=n,r==null?this.numBits=n==null?0:8*n.length:this.numBits=r,this.resultPoints=s,this.format=o,this.resultMetadata=null,l==null?this.timestamp=ae.currentTimeMillis():this.timestamp=l}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){const r=new Array(n.length+e.length);ae.arraycopy(n,0,r,0,n.length),ae.arraycopy(e,0,r,n.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var et;(function(y){y[y.AZTEC=0]="AZTEC",y[y.CODABAR=1]="CODABAR",y[y.CODE_39=2]="CODE_39",y[y.CODE_93=3]="CODE_93",y[y.CODE_128=4]="CODE_128",y[y.DATA_MATRIX=5]="DATA_MATRIX",y[y.EAN_8=6]="EAN_8",y[y.EAN_13=7]="EAN_13",y[y.ITF=8]="ITF",y[y.MAXICODE=9]="MAXICODE",y[y.PDF_417=10]="PDF_417",y[y.QR_CODE=11]="QR_CODE",y[y.RSS_14=12]="RSS_14",y[y.RSS_EXPANDED=13]="RSS_EXPANDED",y[y.UPC_A=14]="UPC_A",y[y.UPC_E=15]="UPC_E",y[y.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(et||(et={}));var ce=et,dt;(function(y){y[y.OTHER=0]="OTHER",y[y.ORIENTATION=1]="ORIENTATION",y[y.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",y[y.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",y[y.ISSUE_NUMBER=4]="ISSUE_NUMBER",y[y.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",y[y.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",y[y.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",y[y.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",y[y.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",y[y.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(dt||(dt={}));var Ve=dt;class ht{constructor(e,n,r,s,o=-1,l=-1){this.rawBytes=e,this.text=n,this.byteSegments=r,this.ecLevel=s,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=l,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Kt{exp(e){return this.expTable[e]}log(e){if(e===0)throw new M;return this.logTable[e]}static addOrSubtract(e,n){return e^n}}class Qt{constructor(e,n){if(n.length===0)throw new M;this.field=e;const r=n.length;if(r>1&&n[0]===0){let s=1;for(;s<r&&n[s]===0;)s++;s===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-s),ae.arraycopy(n,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const n=this.coefficients;let r;if(e===1){r=0;for(let l=0,u=n.length;l!==u;l++){const f=n[l];r=Kt.addOrSubtract(r,f)}return r}r=n[0];const s=n.length,o=this.field;for(let l=1;l<s;l++)r=Kt.addOrSubtract(o.multiply(e,r),n[l]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new M("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,r=e.coefficients;if(n.length>r.length){const l=n;n=r,r=l}let s=new Int32Array(r.length);const o=r.length-n.length;ae.arraycopy(r,0,s,0,o);for(let l=o;l<r.length;l++)s[l]=Kt.addOrSubtract(n[l-o],r[l]);return new Qt(this.field,s)}multiply(e){if(!this.field.equals(e.field))throw new M("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const n=this.coefficients,r=n.length,s=e.coefficients,o=s.length,l=new Int32Array(r+o-1),u=this.field;for(let f=0;f<r;f++){const d=n[f];for(let w=0;w<o;w++)l[f+w]=Kt.addOrSubtract(l[f+w],u.multiply(d,s[w]))}return new Qt(u,l)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const n=this.coefficients.length,r=this.field,s=new Int32Array(n),o=this.coefficients;for(let l=0;l<n;l++)s[l]=r.multiply(o[l],e);return new Qt(r,s)}multiplyByMonomial(e,n){if(e<0)throw new M;if(n===0)return this.field.getZero();const r=this.coefficients,s=r.length,o=new Int32Array(s+e),l=this.field;for(let u=0;u<s;u++)o[u]=l.multiply(r[u],n);return new Qt(l,o)}divide(e){if(!this.field.equals(e.field))throw new M("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new M("Divide by 0");const n=this.field;let r=n.getZero(),s=this;const o=e.getCoefficient(e.getDegree()),l=n.inverse(o);for(;s.getDegree()>=e.getDegree()&&!s.isZero();){const u=s.getDegree()-e.getDegree(),f=n.multiply(s.getCoefficient(s.getDegree()),l),d=e.multiplyByMonomial(u,f),w=n.buildMonomial(u,f);r=r.addOrSubtract(w),s=s.addOrSubtract(d)}return[r,s]}toString(){let e="";for(let n=this.getDegree();n>=0;n--){let r=this.getCoefficient(n);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),n===0||r!==1){const s=this.field.log(r);s===0?e+="1":s===1?e+="a":(e+="a^",e+=s)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e}}class Ci extends N{}Ci.kind="ArithmeticException";class tt extends Kt{constructor(e,n,r){super(),this.primitive=e,this.size=n,this.generatorBase=r;const s=new Int32Array(n);let o=1;for(let u=0;u<n;u++)s[u]=o,o*=2,o>=n&&(o^=e,o&=n-1);this.expTable=s;const l=new Int32Array(n);for(let u=0;u<n-1;u++)l[s[u]]=u;this.logTable=l,this.zero=new Qt(this,Int32Array.from([0])),this.one=new Qt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new M;if(n===0)return this.zero;const r=new Int32Array(e+1);return r[0]=n,new Qt(this,r)}inverse(e){if(e===0)throw new Ci;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+re.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}tt.AZTEC_DATA_12=new tt(4201,4096,1),tt.AZTEC_DATA_10=new tt(1033,1024,1),tt.AZTEC_DATA_6=new tt(67,64,1),tt.AZTEC_PARAM=new tt(19,16,1),tt.QR_CODE_FIELD_256=new tt(285,256,0),tt.DATA_MATRIX_FIELD_256=new tt(301,256,1),tt.AZTEC_DATA_8=tt.DATA_MATRIX_FIELD_256,tt.MAXICODE_FIELD_64=tt.AZTEC_DATA_6;class yr extends N{}yr.kind="ReedSolomonException";class Un extends N{}Un.kind="IllegalStateException";class Gr{constructor(e){this.field=e}decode(e,n){const r=this.field,s=new Qt(r,e),o=new Int32Array(n);let l=!0;for(let _=0;_<n;_++){const D=s.evaluateAt(r.exp(_+r.getGeneratorBase()));o[o.length-1-_]=D,D!==0&&(l=!1)}if(l)return;const u=new Qt(r,o),f=this.runEuclideanAlgorithm(r.buildMonomial(n,1),u,n),d=f[0],w=f[1],E=this.findErrorLocations(d),S=this.findErrorMagnitudes(w,E);for(let _=0;_<E.length;_++){const D=e.length-1-r.log(E[_]);if(D<0)throw new yr("Bad error location");e[D]=tt.addOrSubtract(e[D],S[_])}}runEuclideanAlgorithm(e,n,r){if(e.getDegree()<n.getDegree()){const _=e;e=n,n=_}const s=this.field;let o=e,l=n,u=s.getZero(),f=s.getOne();for(;l.getDegree()>=(r/2|0);){let _=o,D=u;if(o=l,u=f,o.isZero())throw new yr("r_{i-1} was zero");l=_;let k=s.getZero();const F=o.getCoefficient(o.getDegree()),G=s.inverse(F);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){const ne=l.getDegree()-o.getDegree(),se=s.multiply(l.getCoefficient(l.getDegree()),G);k=k.addOrSubtract(s.buildMonomial(ne,se)),l=l.addOrSubtract(o.multiplyByMonomial(ne,se))}if(f=k.multiply(u).addOrSubtract(D),l.getDegree()>=o.getDegree())throw new Un("Division algorithm failed to reduce polynomial?")}const d=f.getCoefficient(0);if(d===0)throw new yr("sigmaTilde(0) was zero");const w=s.inverse(d),E=f.multiplyScalar(w),S=l.multiplyScalar(w);return[E,S]}findErrorLocations(e){const n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(n);let s=0;const o=this.field;for(let l=1;l<o.getSize()&&s<n;l++)e.evaluateAt(l)===0&&(r[s]=o.inverse(l),s++);if(s!==n)throw new yr("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,n){const r=n.length,s=new Int32Array(r),o=this.field;for(let l=0;l<r;l++){const u=o.inverse(n[l]);let f=1;for(let d=0;d<r;d++)if(l!==d){const w=o.multiply(n[d],u),E=(w&1)===0?w|1:w&-2;f=o.multiply(f,E)}s[l]=o.multiply(e.evaluateAt(u),o.inverse(f)),o.getGeneratorBase()!==0&&(s[l]=o.multiply(s[l],u))}return s}}var Vt;(function(y){y[y.UPPER=0]="UPPER",y[y.LOWER=1]="LOWER",y[y.MIXED=2]="MIXED",y[y.DIGIT=3]="DIGIT",y[y.PUNCT=4]="PUNCT",y[y.BINARY=5]="BINARY"})(Vt||(Vt={}));class pt{decode(e){this.ddata=e;let n=e.getBits(),r=this.extractBits(n),s=this.correctBits(r),o=pt.convertBoolArrayToByteArray(s),l=pt.getEncodedData(s),u=new ht(o,l,null,null);return u.setNumBits(s.length),u}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let n=e.length,r=Vt.UPPER,s=Vt.UPPER,o="",l=0;for(;l<n;)if(s===Vt.BINARY){if(n-l<5)break;let u=pt.readCode(e,l,5);if(l+=5,u===0){if(n-l<11)break;u=pt.readCode(e,l,11)+31,l+=11}for(let f=0;f<u;f++){if(n-l<8){l=n;break}const d=pt.readCode(e,l,8);o+=Oe.castAsNonUtf8Char(d),l+=8}s=r}else{let u=s===Vt.DIGIT?4:5;if(n-l<u)break;let f=pt.readCode(e,l,u);l+=u;let d=pt.getCharacter(s,f);d.startsWith("CTRL_")?(r=s,s=pt.getTable(d.charAt(5)),d.charAt(6)==="L"&&(r=s)):(o+=d,s=r)}return o}static getTable(e){switch(e){case"L":return Vt.LOWER;case"P":return Vt.PUNCT;case"M":return Vt.MIXED;case"D":return Vt.DIGIT;case"B":return Vt.BINARY;case"U":default:return Vt.UPPER}}static getCharacter(e,n){switch(e){case Vt.UPPER:return pt.UPPER_TABLE[n];case Vt.LOWER:return pt.LOWER_TABLE[n];case Vt.MIXED:return pt.MIXED_TABLE[n];case Vt.PUNCT:return pt.PUNCT_TABLE[n];case Vt.DIGIT:return pt.DIGIT_TABLE[n];default:throw new Un("Bad table")}}correctBits(e){let n,r;this.ddata.getNbLayers()<=2?(r=6,n=tt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=tt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=tt.AZTEC_DATA_10):(r=12,n=tt.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),o=e.length/r;if(o<s)throw new $;let l=e.length%r,u=new Int32Array(o);for(let S=0;S<o;S++,l+=r)u[S]=pt.readCode(e,l,r);try{new Gr(n).decode(u,o-s)}catch(S){throw new $(S)}let f=(1<<r)-1,d=0;for(let S=0;S<s;S++){let _=u[S];if(_===0||_===f)throw new $;(_===1||_===f-1)&&d++}let w=new Array(s*r-d),E=0;for(let S=0;S<s;S++){let _=u[S];if(_===1||_===f-1)w.fill(_>1,E,E+r-1),E+=r-1;else for(let D=r-1;D>=0;--D)w[E++]=(_&1<<D)!==0}return w}extractBits(e){let n=this.ddata.isCompact(),r=this.ddata.getNbLayers(),s=(n?11:14)+r*4,o=new Int32Array(s),l=new Array(this.totalBitsInLayer(r,n));if(n)for(let u=0;u<o.length;u++)o[u]=u;else{let u=s+1+2*re.truncDivision(re.truncDivision(s,2)-1,15),f=s/2,d=re.truncDivision(u,2);for(let w=0;w<f;w++){let E=w+re.truncDivision(w,15);o[f-w-1]=d-E-1,o[f+w]=d+E+1}}for(let u=0,f=0;u<r;u++){let d=(r-u)*4+(n?9:12),w=u*2,E=s-1-w;for(let S=0;S<d;S++){let _=S*2;for(let D=0;D<2;D++)l[f+_+D]=e.get(o[w+D],o[w+S]),l[f+2*d+_+D]=e.get(o[w+S],o[E-D]),l[f+4*d+_+D]=e.get(o[E-D],o[E-S]),l[f+6*d+_+D]=e.get(o[E-S],o[w+D])}f+=d*8}return l}static readCode(e,n,r){let s=0;for(let o=n;o<n+r;o++)s<<=1,e[o]&&(s|=1);return s}static readByte(e,n){let r=e.length-n;return r>=8?pt.readCode(e,n,8):pt.readCode(e,n,r)<<8-r}static convertBoolArrayToByteArray(e){let n=new Uint8Array((e.length+7)/8);for(let r=0;r<n.length;r++)n[r]=pt.readByte(e,8*r);return n}totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}pt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],pt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],pt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],pt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],pt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Je{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,n,r,s){const o=e-r,l=n-s;return Math.sqrt(o*o+l*l)}static sum(e){let n=0;for(let r=0,s=e.length;r!==s;r++){const o=e[r];n+=o}return n}}class Er{static floatToIntBits(e){return e}}Er.MAX_VALUE=Number.MAX_SAFE_INTEGER;class we{constructor(e,n){this.x=e,this.y=n}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof we){const n=e;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*Er.floatToIntBits(this.x)+Er.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const n=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),s=this.distance(e[0],e[2]);let o,l,u;if(r>=n&&r>=s?(l=e[0],o=e[1],u=e[2]):s>=r&&s>=n?(l=e[1],o=e[0],u=e[2]):(l=e[2],o=e[0],u=e[1]),this.crossProductZ(o,l,u)<0){const f=o;o=u,u=f}e[0]=o,e[1]=l,e[2]=u}static distance(e,n){return Je.distance(e.x,e.y,n.x,n.y)}static crossProductZ(e,n,r){const s=n.x,o=n.y;return(r.x-s)*(e.y-o)-(r.y-o)*(e.x-s)}}class Xr{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class _s extends Xr{constructor(e,n,r,s,o){super(e,n),this.compact=r,this.nbDatablocks=s,this.nbLayers=o}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Jn{constructor(e,n,r,s){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=Jn.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),s==null&&(s=e.getHeight()/2|0);const o=n/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=s-o,this.downInit=s+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Z}detect(){let e=this.leftInit,n=this.rightInit,r=this.upInit,s=this.downInit,o=!1,l=!0,u=!1,f=!1,d=!1,w=!1,E=!1;const S=this.width,_=this.height;for(;l;){l=!1;let D=!0;for(;(D||!f)&&n<S;)D=this.containsBlackPoint(r,s,n,!1),D?(n++,l=!0,f=!0):f||n++;if(n>=S){o=!0;break}let k=!0;for(;(k||!d)&&s<_;)k=this.containsBlackPoint(e,n,s,!0),k?(s++,l=!0,d=!0):d||s++;if(s>=_){o=!0;break}let F=!0;for(;(F||!w)&&e>=0;)F=this.containsBlackPoint(r,s,e,!1),F?(e--,l=!0,w=!0):w||e--;if(e<0){o=!0;break}let G=!0;for(;(G||!E)&&r>=0;)G=this.containsBlackPoint(e,n,r,!0),G?(r--,l=!0,E=!0):E||r--;if(r<0){o=!0;break}l&&(u=!0)}if(!o&&u){const D=n-e;let k=null;for(let se=1;k===null&&se<D;se++)k=this.getBlackPointOnSegment(e,s-se,e+se,s);if(k==null)throw new Z;let F=null;for(let se=1;F===null&&se<D;se++)F=this.getBlackPointOnSegment(e,r+se,e+se,r);if(F==null)throw new Z;let G=null;for(let se=1;G===null&&se<D;se++)G=this.getBlackPointOnSegment(n,r+se,n-se,r);if(G==null)throw new Z;let ne=null;for(let se=1;ne===null&&se<D;se++)ne=this.getBlackPointOnSegment(n,s-se,n-se,s);if(ne==null)throw new Z;return this.centerEdges(ne,k,G,F)}else throw new Z}getBlackPointOnSegment(e,n,r,s){const o=Je.round(Je.distance(e,n,r,s)),l=(r-e)/o,u=(s-n)/o,f=this.image;for(let d=0;d<o;d++){const w=Je.round(e+d*l),E=Je.round(n+d*u);if(f.get(w,E))return new we(w,E)}return null}centerEdges(e,n,r,s){const o=e.getX(),l=e.getY(),u=n.getX(),f=n.getY(),d=r.getX(),w=r.getY(),E=s.getX(),S=s.getY(),_=Jn.CORR;return o<this.width/2?[new we(E-_,S+_),new we(u+_,f+_),new we(d-_,w-_),new we(o+_,l-_)]:[new we(E+_,S+_),new we(u+_,f-_),new we(d-_,w+_),new we(o-_,l-_)]}containsBlackPoint(e,n,r,s){const o=this.image;if(s){for(let l=e;l<=n;l++)if(o.get(l,r))return!0}else for(let l=e;l<=n;l++)if(o.get(r,l))return!0;return!1}}Jn.INIT_SIZE=10,Jn.CORR=1;class Qi{static checkAndNudgePoints(e,n){const r=e.getWidth(),s=e.getHeight();let o=!0;for(let l=0;l<n.length&&o;l+=2){const u=Math.floor(n[l]),f=Math.floor(n[l+1]);if(u<-1||u>r||f<-1||f>s)throw new Z;o=!1,u===-1?(n[l]=0,o=!0):u===r&&(n[l]=r-1,o=!0),f===-1?(n[l+1]=0,o=!0):f===s&&(n[l+1]=s-1,o=!0)}o=!0;for(let l=n.length-2;l>=0&&o;l-=2){const u=Math.floor(n[l]),f=Math.floor(n[l+1]);if(u<-1||u>r||f<-1||f>s)throw new Z;o=!1,u===-1?(n[l]=0,o=!0):u===r&&(n[l]=r-1,o=!0),f===-1?(n[l+1]=0,o=!0):f===s&&(n[l+1]=s-1,o=!0)}}}class Rn{constructor(e,n,r,s,o,l,u,f,d){this.a11=e,this.a21=n,this.a31=r,this.a12=s,this.a22=o,this.a32=l,this.a13=u,this.a23=f,this.a33=d}static quadrilateralToQuadrilateral(e,n,r,s,o,l,u,f,d,w,E,S,_,D,k,F){const G=Rn.quadrilateralToSquare(e,n,r,s,o,l,u,f);return Rn.squareToQuadrilateral(d,w,E,S,_,D,k,F).times(G)}transformPoints(e){const n=e.length,r=this.a11,s=this.a12,o=this.a13,l=this.a21,u=this.a22,f=this.a23,d=this.a31,w=this.a32,E=this.a33;for(let S=0;S<n;S+=2){const _=e[S],D=e[S+1],k=o*_+f*D+E;e[S]=(r*_+l*D+d)/k,e[S+1]=(s*_+u*D+w)/k}}transformPointsWithValues(e,n){const r=this.a11,s=this.a12,o=this.a13,l=this.a21,u=this.a22,f=this.a23,d=this.a31,w=this.a32,E=this.a33,S=e.length;for(let _=0;_<S;_++){const D=e[_],k=n[_],F=o*D+f*k+E;e[_]=(r*D+l*k+d)/F,n[_]=(s*D+u*k+w)/F}}static squareToQuadrilateral(e,n,r,s,o,l,u,f){const d=e-r+o-u,w=n-s+l-f;if(d===0&&w===0)return new Rn(r-e,o-r,e,s-n,l-s,n,0,0,1);{const E=r-o,S=u-o,_=s-l,D=f-l,k=E*D-S*_,F=(d*D-S*w)/k,G=(E*w-d*_)/k;return new Rn(r-e+F*r,u-e+G*u,e,s-n+F*s,f-n+G*f,n,F,G,1)}}static quadrilateralToSquare(e,n,r,s,o,l,u,f){return Rn.squareToQuadrilateral(e,n,r,s,o,l,u,f).buildAdjoint()}buildAdjoint(){return new Rn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Rn(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class qi extends Qi{sampleGrid(e,n,r,s,o,l,u,f,d,w,E,S,_,D,k,F,G,ne,se){const J=Rn.quadrilateralToQuadrilateral(s,o,l,u,f,d,w,E,S,_,D,k,F,G,ne,se);return this.sampleGridWithTransform(e,n,r,J)}sampleGridWithTransform(e,n,r,s){if(n<=0||r<=0)throw new Z;const o=new ft(n,r),l=new Float32Array(2*n);for(let u=0;u<r;u++){const f=l.length,d=u+.5;for(let w=0;w<f;w+=2)l[w]=w/2+.5,l[w+1]=d;s.transformPoints(l),Qi.checkAndNudgePoints(e,l);try{for(let w=0;w<f;w+=2)e.get(Math.floor(l[w]),Math.floor(l[w+1]))&&o.set(w/2,u)}catch{throw new Z}}return o}}class Vn{static setGridSampler(e){Vn.gridSampler=e}static getInstance(){return Vn.gridSampler}}Vn.gridSampler=new qi;class sn{constructor(e,n){this.x=e,this.y=n}toResultPoint(){return new we(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Yr{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let n=this.getMatrixCenter(),r=this.getBullsEyeCorners(n);if(e){let l=r[0];r[0]=r[2],r[2]=l}this.extractParameters(r);let s=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new _s(s,o,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Z;let n=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(r,n);let s=0;for(let l=0;l<4;l++){let u=r[(this.shift+l)%4];this.compact?(s<<=7,s+=u>>1&127):(s<<=10,s+=(u>>2&992)+(u>>1&31))}let o=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)}getRotation(e,n){let r=0;e.forEach((s,o,l)=>{let u=(s>>n-2<<1)+(s&1);r=(r<<3)+u}),r=((r&1)<<11)+(r>>1);for(let s=0;s<4;s++)if(re.bitCount(r^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new Z}getCorrectedParameterData(e,n){let r,s;n?(r=7,s=2):(r=10,s=4);let o=r-s,l=new Int32Array(r);for(let f=r-1;f>=0;--f)l[f]=e&15,e>>=4;try{new Gr(tt.AZTEC_PARAM).decode(l,o)}catch{throw new Z}let u=0;for(let f=0;f<s;f++)u=(u<<4)+l[f];return u}getBullsEyeCorners(e){let n=e,r=e,s=e,o=e,l=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let E=this.getFirstDifferent(n,l,1,-1),S=this.getFirstDifferent(r,l,1,1),_=this.getFirstDifferent(s,l,-1,1),D=this.getFirstDifferent(o,l,-1,-1);if(this.nbCenterLayers>2){let k=this.distancePoint(D,E)*this.nbCenterLayers/(this.distancePoint(o,n)*(this.nbCenterLayers+2));if(k<.75||k>1.25||!this.isWhiteOrBlackRectangle(E,S,_,D))break}n=E,r=S,s=_,o=D,l=!l}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Z;this.compact=this.nbCenterLayers===5;let u=new we(n.getX()+.5,n.getY()-.5),f=new we(r.getX()+.5,r.getY()+.5),d=new we(s.getX()-.5,s.getY()+.5),w=new we(o.getX()-.5,o.getY()-.5);return this.expandSquare([u,f,d,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,n,r,s;try{let u=new Jn(this.image).detect();e=u[0],n=u[1],r=u[2],s=u[3]}catch{let f=this.image.getWidth()/2,d=this.image.getHeight()/2;e=this.getFirstDifferent(new sn(f+7,d-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new sn(f+7,d+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new sn(f-7,d+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new sn(f-7,d-7),!1,-1,-1).toResultPoint()}let o=Je.round((e.getX()+s.getX()+n.getX()+r.getX())/4),l=Je.round((e.getY()+s.getY()+n.getY()+r.getY())/4);try{let u=new Jn(this.image,15,o,l).detect();e=u[0],n=u[1],r=u[2],s=u[3]}catch{e=this.getFirstDifferent(new sn(o+7,l-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new sn(o+7,l+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new sn(o-7,l+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new sn(o-7,l-7),!1,-1,-1).toResultPoint()}return o=Je.round((e.getX()+s.getX()+n.getX()+r.getX())/4),l=Je.round((e.getY()+s.getY()+n.getY()+r.getY())/4),new sn(o,l)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,n,r,s,o){let l=Vn.getInstance(),u=this.getDimension(),f=u/2-this.nbCenterLayers,d=u/2+this.nbCenterLayers;return l.sampleGrid(e,u,u,f,f,d,f,d,d,f,d,n.getX(),n.getY(),r.getX(),r.getY(),s.getX(),s.getY(),o.getX(),o.getY())}sampleLine(e,n,r){let s=0,o=this.distanceResultPoint(e,n),l=o/r,u=e.getX(),f=e.getY(),d=l*(n.getX()-e.getX())/o,w=l*(n.getY()-e.getY())/o;for(let E=0;E<r;E++)this.image.get(Je.round(u+E*d),Je.round(f+E*w))&&(s|=1<<r-E-1);return s}isWhiteOrBlackRectangle(e,n,r,s){let o=3;e=new sn(e.getX()-o,e.getY()+o),n=new sn(n.getX()-o,n.getY()-o),r=new sn(r.getX()+o,r.getY()-o),s=new sn(s.getX()+o,s.getY()+o);let l=this.getColor(s,e);if(l===0)return!1;let u=this.getColor(e,n);return u!==l||(u=this.getColor(n,r),u!==l)?!1:(u=this.getColor(r,s),u===l)}getColor(e,n){let r=this.distancePoint(e,n),s=(n.getX()-e.getX())/r,o=(n.getY()-e.getY())/r,l=0,u=e.getX(),f=e.getY(),d=this.image.get(e.getX(),e.getY()),w=Math.ceil(r);for(let S=0;S<w;S++)u+=s,f+=o,this.image.get(Je.round(u),Je.round(f))!==d&&l++;let E=l/r;return E>.1&&E<.9?0:E<=.1===d?1:-1}getFirstDifferent(e,n,r,s){let o=e.getX()+r,l=e.getY()+s;for(;this.isValid(o,l)&&this.image.get(o,l)===n;)o+=r,l+=s;for(o-=r,l-=s;this.isValid(o,l)&&this.image.get(o,l)===n;)o+=r;for(o-=r;this.isValid(o,l)&&this.image.get(o,l)===n;)l+=s;return l-=s,new sn(o,l)}expandSquare(e,n,r){let s=r/(2*n),o=e[0].getX()-e[2].getX(),l=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,f=(e[0].getY()+e[2].getY())/2,d=new we(u+s*o,f+s*l),w=new we(u-s*o,f-s*l);o=e[1].getX()-e[3].getX(),l=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,f=(e[1].getY()+e[3].getY())/2;let E=new we(u+s*o,f+s*l),S=new we(u-s*o,f-s*l);return[d,E,w,S]}isValid(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(e){let n=Je.round(e.getX()),r=Je.round(e.getY());return this.isValid(n,r)}distancePoint(e,n){return Je.distance(e.getX(),e.getY(),n.getX(),n.getY())}distanceResultPoint(e,n){return Je.distance(e.getX(),e.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(re.truncDivision(this.nbLayers-4,8)+1)+15}}class Cr{decode(e,n=null){let r=null,s=new Yr(e.getBlackMatrix()),o=null,l=null;try{let w=s.detectMirror(!1);o=w.getPoints(),this.reportFoundResultPoints(n,o),l=new pt().decode(w)}catch(w){r=w}if(l==null)try{let w=s.detectMirror(!0);o=w.getPoints(),this.reportFoundResultPoints(n,o),l=new pt().decode(w)}catch(w){throw r??w}let u=new ke(l.getText(),l.getRawBytes(),l.getNumBits(),o,ce.AZTEC,ae.currentTimeMillis()),f=l.getByteSegments();f!=null&&u.putMetadata(Ve.BYTE_SEGMENTS,f);let d=l.getECLevel();return d!=null&&u.putMetadata(Ve.ERROR_CORRECTION_LEVEL,d),u}reportFoundResultPoints(e,n){if(e!=null){let r=e.get(Ce.NEED_RESULT_POINT_CALLBACK);r!=null&&n.forEach((s,o,l)=>{r.foundPossibleResultPoint(s)})}}reset(){}}class Bl extends je{constructor(e=500){super(new Cr,e)}}class Dt{decode(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get(Ce.TRY_HARDER)===!0&&e.isRotateSupported()){const o=e.rotateCounterClockwise(),l=this.doDecode(o,n),u=l.getResultMetadata();let f=270;u!==null&&u.get(Ve.ORIENTATION)===!0&&(f=f+u.get(Ve.ORIENTATION)%360),l.putMetadata(Ve.ORIENTATION,f);const d=l.getResultPoints();if(d!==null){const w=o.getHeight();for(let E=0;E<d.length;E++)d[E]=new we(w-d[E].getY()-1,d[E].getX())}return l}else throw new Z}}reset(){}doDecode(e,n){const r=e.getWidth(),s=e.getHeight();let o=new Se(r);const l=n&&n.get(Ce.TRY_HARDER)===!0,u=Math.max(1,s>>(l?8:5));let f;l?f=s:f=15;const d=Math.trunc(s/2);for(let w=0;w<f;w++){const E=Math.trunc((w+1)/2),S=(w&1)===0,_=d+u*(S?E:-E);if(_<0||_>=s)break;try{o=e.getBlackRow(_,o)}catch{continue}for(let D=0;D<2;D++){if(D===1&&(o.reverse(),n&&n.get(Ce.NEED_RESULT_POINT_CALLBACK)===!0)){const k=new Map;n.forEach((F,G)=>k.set(G,F)),k.delete(Ce.NEED_RESULT_POINT_CALLBACK),n=k}try{const k=this.decodeRow(_,o,n);if(D===1){k.putMetadata(Ve.ORIENTATION,180);const F=k.getResultPoints();F!==null&&(F[0]=new we(r-F[0].getX()-1,F[0].getY()),F[1]=new we(r-F[1].getX()-1,F[1].getY()))}return k}catch{}}}throw new Z}static recordPattern(e,n,r){const s=r.length;for(let d=0;d<s;d++)r[d]=0;const o=e.getSize();if(n>=o)throw new Z;let l=!e.get(n),u=0,f=n;for(;f<o;){if(e.get(f)!==l)r[u]++;else{if(++u===s)break;r[u]=1,l=!l}f++}if(!(u===s||u===s-1&&f===o))throw new Z}static recordPatternInReverse(e,n,r){let s=r.length,o=e.get(n);for(;n>0&&s>=0;)e.get(--n)!==o&&(s--,o=!o);if(s>=0)throw new Z;Dt.recordPattern(e,n+1,r)}static patternMatchVariance(e,n,r){const s=e.length;let o=0,l=0;for(let d=0;d<s;d++)o+=e[d],l+=n[d];if(o<l)return Number.POSITIVE_INFINITY;const u=o/l;r*=u;let f=0;for(let d=0;d<s;d++){const w=e[d],E=n[d]*u,S=w>E?w-E:E-w;if(S>r)return Number.POSITIVE_INFINITY;f+=S}return f/o}}class fe extends Dt{static findStartPattern(e){const n=e.getSize(),r=e.getNextSet(0);let s=0,o=Int32Array.from([0,0,0,0,0,0]),l=r,u=!1;const f=6;for(let d=r;d<n;d++)if(e.get(d)!==u)o[s]++;else{if(s===f-1){let w=fe.MAX_AVG_VARIANCE,E=-1;for(let S=fe.CODE_START_A;S<=fe.CODE_START_C;S++){const _=Dt.patternMatchVariance(o,fe.CODE_PATTERNS[S],fe.MAX_INDIVIDUAL_VARIANCE);_<w&&(w=_,E=S)}if(E>=0&&e.isRange(Math.max(0,l-(d-l)/2),l,!1))return Int32Array.from([l,d,E]);l+=o[0]+o[1],o=o.slice(2,o.length-1),o[s-1]=0,o[s]=0,s--}else s++;o[s]=1,u=!u}throw new Z}static decodeCode(e,n,r){Dt.recordPattern(e,r,n);let s=fe.MAX_AVG_VARIANCE,o=-1;for(let l=0;l<fe.CODE_PATTERNS.length;l++){const u=fe.CODE_PATTERNS[l],f=this.patternMatchVariance(n,u,fe.MAX_INDIVIDUAL_VARIANCE);f<s&&(s=f,o=l)}if(o>=0)return o;throw new Z}decodeRow(e,n,r){const s=r&&r.get(Ce.ASSUME_GS1)===!0,o=fe.findStartPattern(n),l=o[2];let u=0;const f=new Uint8Array(20);f[u++]=l;let d;switch(l){case fe.CODE_START_A:d=fe.CODE_CODE_A;break;case fe.CODE_START_B:d=fe.CODE_CODE_B;break;case fe.CODE_START_C:d=fe.CODE_CODE_C;break;default:throw new $}let w=!1,E=!1,S="",_=o[0],D=o[1];const k=Int32Array.from([0,0,0,0,0,0]);let F=0,G=0,ne=l,se=0,J=!0,Ke=!1,He=!1;for(;!w;){const hr=E;switch(E=!1,F=G,G=fe.decodeCode(n,k,D),f[u++]=G,G!==fe.CODE_STOP&&(J=!0),G!==fe.CODE_STOP&&(se++,ne+=se*G),_=D,D+=k.reduce((ii,Ks)=>ii+Ks,0),G){case fe.CODE_START_A:case fe.CODE_START_B:case fe.CODE_START_C:throw new $}switch(d){case fe.CODE_CODE_A:if(G<64)He===Ke?S+=String.fromCharCode(32+G):S+=String.fromCharCode(32+G+128),He=!1;else if(G<96)He===Ke?S+=String.fromCharCode(G-64):S+=String.fromCharCode(G+64),He=!1;else switch(G!==fe.CODE_STOP&&(J=!1),G){case fe.CODE_FNC_1:s&&(S.length===0?S+="]C1":S+="");break;case fe.CODE_FNC_2:case fe.CODE_FNC_3:break;case fe.CODE_FNC_4_A:!Ke&&He?(Ke=!0,He=!1):Ke&&He?(Ke=!1,He=!1):He=!0;break;case fe.CODE_SHIFT:E=!0,d=fe.CODE_CODE_B;break;case fe.CODE_CODE_B:d=fe.CODE_CODE_B;break;case fe.CODE_CODE_C:d=fe.CODE_CODE_C;break;case fe.CODE_STOP:w=!0;break}break;case fe.CODE_CODE_B:if(G<96)He===Ke?S+=String.fromCharCode(32+G):S+=String.fromCharCode(32+G+128),He=!1;else switch(G!==fe.CODE_STOP&&(J=!1),G){case fe.CODE_FNC_1:s&&(S.length===0?S+="]C1":S+="");break;case fe.CODE_FNC_2:case fe.CODE_FNC_3:break;case fe.CODE_FNC_4_B:!Ke&&He?(Ke=!0,He=!1):Ke&&He?(Ke=!1,He=!1):He=!0;break;case fe.CODE_SHIFT:E=!0,d=fe.CODE_CODE_A;break;case fe.CODE_CODE_A:d=fe.CODE_CODE_A;break;case fe.CODE_CODE_C:d=fe.CODE_CODE_C;break;case fe.CODE_STOP:w=!0;break}break;case fe.CODE_CODE_C:if(G<100)G<10&&(S+="0"),S+=G;else switch(G!==fe.CODE_STOP&&(J=!1),G){case fe.CODE_FNC_1:s&&(S.length===0?S+="]C1":S+="");break;case fe.CODE_CODE_A:d=fe.CODE_CODE_A;break;case fe.CODE_CODE_B:d=fe.CODE_CODE_B;break;case fe.CODE_STOP:w=!0;break}break}hr&&(d=d===fe.CODE_CODE_A?fe.CODE_CODE_B:fe.CODE_CODE_A)}const Cn=D-_;if(D=n.getNextUnset(D),!n.isRange(D,Math.min(n.getSize(),D+(D-_)/2),!1))throw new Z;if(ne-=se*F,ne%103!==F)throw new xe;const Yn=S.length;if(Yn===0)throw new Z;Yn>0&&J&&(d===fe.CODE_CODE_C?S=S.substring(0,Yn-2):S=S.substring(0,Yn-1));const Ht=(o[1]+o[0])/2,ut=_+Cn/2,bt=f.length,gn=new Uint8Array(bt);for(let hr=0;hr<bt;hr++)gn[hr]=f[hr];const Pr=[new we(Ht,e),new we(ut,e)];return new ke(S,gn,0,Pr,ce.CODE_128,new Date().getTime())}}fe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],fe.MAX_AVG_VARIANCE=.25,fe.MAX_INDIVIDUAL_VARIANCE=.7,fe.CODE_SHIFT=98,fe.CODE_CODE_C=99,fe.CODE_CODE_B=100,fe.CODE_CODE_A=101,fe.CODE_FNC_1=102,fe.CODE_FNC_2=97,fe.CODE_FNC_3=96,fe.CODE_FNC_4_A=101,fe.CODE_FNC_4_B=100,fe.CODE_START_A=103,fe.CODE_START_B=104,fe.CODE_START_C=105,fe.CODE_STOP=106;class jt extends Dt{constructor(e=!1,n=!1){super(),this.usingCheckDigit=e,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,n,r){let s=this.counters;s.fill(0),this.decodeRowResult="";let o=jt.findAsteriskPattern(n,s),l=n.getNextSet(o[1]),u=n.getSize(),f,d;do{jt.recordPattern(n,l,s);let k=jt.toNarrowWidePattern(s);if(k<0)throw new Z;f=jt.patternToChar(k),this.decodeRowResult+=f,d=l;for(let F of s)l+=F;l=n.getNextSet(l)}while(f!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let w=0;for(let k of s)w+=k;let E=l-d-w;if(l!==u&&E*2<w)throw new Z;if(this.usingCheckDigit){let k=this.decodeRowResult.length-1,F=0;for(let G=0;G<k;G++)F+=jt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(G));if(this.decodeRowResult.charAt(k)!==jt.ALPHABET_STRING.charAt(F%43))throw new xe;this.decodeRowResult=this.decodeRowResult.substring(0,k)}if(this.decodeRowResult.length===0)throw new Z;let S;this.extendedMode?S=jt.decodeExtended(this.decodeRowResult):S=this.decodeRowResult;let _=(o[1]+o[0])/2,D=d+w/2;return new ke(S,null,0,[new we(_,e),new we(D,e)],ce.CODE_39,new Date().getTime())}static findAsteriskPattern(e,n){let r=e.getSize(),s=e.getNextSet(0),o=0,l=s,u=!1,f=n.length;for(let d=s;d<r;d++)if(e.get(d)!==u)n[o]++;else{if(o===f-1){if(this.toNarrowWidePattern(n)===jt.ASTERISK_ENCODING&&e.isRange(Math.max(0,l-Math.floor((d-l)/2)),l,!1))return[l,d];l+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,u=!u}throw new Z}static toNarrowWidePattern(e){let n=e.length,r=0,s;do{let o=2147483647;for(let f of e)f<o&&f>r&&(o=f);r=o,s=0;let l=0,u=0;for(let f=0;f<n;f++){let d=e[f];d>r&&(u|=1<<n-1-f,s++,l+=d)}if(s===3){for(let f=0;f<n&&s>0;f++){let d=e[f];if(d>r&&(s--,d*2>=l))return-1}return u}}while(s>3);return-1}static patternToChar(e){for(let n=0;n<jt.CHARACTER_ENCODINGS.length;n++)if(jt.CHARACTER_ENCODINGS[n]===e)return jt.ALPHABET_STRING.charAt(n);if(e===jt.ASTERISK_ENCODING)return"*";throw new Z}static decodeExtended(e){let n=e.length,r="";for(let s=0;s<n;s++){let o=e.charAt(s);if(o==="+"||o==="$"||o==="%"||o==="/"){let l=e.charAt(s+1),u="\0";switch(o){case"+":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)+32);else throw new $;break;case"$":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)-64);else throw new $;break;case"%":if(l>="A"&&l<="E")u=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")u=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")u=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")u="\0";else if(l==="V")u="@";else if(l==="W")u="`";else if(l==="X"||l==="Y"||l==="Z")u="";else throw new $;break;case"/":if(l>="A"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")u=":";else throw new $;break}r+=u,s++}else r+=o}return r}}jt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",jt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],jt.ASTERISK_ENCODING=148;class at extends Dt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,n,r){let s=this.decodeStart(n),o=this.decodeEnd(n),l=new Xe;at.decodeMiddle(n,s[1],o[0],l);let u=l.toString(),f=null;r!=null&&(f=r.get(Ce.ALLOWED_LENGTHS)),f==null&&(f=at.DEFAULT_ALLOWED_LENGTHS);let d=u.length,w=!1,E=0;for(let D of f){if(d===D){w=!0;break}D>E&&(E=D)}if(!w&&d>E&&(w=!0),!w)throw new $;const S=[new we(s[1],e),new we(o[0],e)];return new ke(u,null,0,S,ce.ITF,new Date().getTime())}static decodeMiddle(e,n,r,s){let o=new Int32Array(10),l=new Int32Array(5),u=new Int32Array(5);for(o.fill(0),l.fill(0),u.fill(0);n<r;){Dt.recordPattern(e,n,o);for(let d=0;d<5;d++){let w=2*d;l[d]=o[w],u[d]=o[w+1]}let f=at.decodeDigit(l);s.append(f.toString()),f=this.decodeDigit(u),s.append(f.toString()),o.forEach(function(d){n+=d})}}decodeStart(e){let n=at.skipWhiteSpace(e),r=at.findGuardPattern(e,n,at.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,n){let r=this.narrowLineWidth*10;r=r<n?r:n;for(let s=n-1;r>0&&s>=0&&!e.get(s);s--)r--;if(r!==0)throw new Z}static skipWhiteSpace(e){const n=e.getSize(),r=e.getNextSet(0);if(r===n)throw new Z;return r}decodeEnd(e){e.reverse();try{let n=at.skipWhiteSpace(e),r;try{r=at.findGuardPattern(e,n,at.END_PATTERN_REVERSED[0])}catch(o){o instanceof Z&&(r=at.findGuardPattern(e,n,at.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let s=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-s,r}finally{e.reverse()}}static findGuardPattern(e,n,r){let s=r.length,o=new Int32Array(s),l=e.getSize(),u=!1,f=0,d=n;o.fill(0);for(let w=n;w<l;w++)if(e.get(w)!==u)o[f]++;else{if(f===s-1){if(Dt.patternMatchVariance(o,r,at.MAX_INDIVIDUAL_VARIANCE)<at.MAX_AVG_VARIANCE)return[d,w];d+=o[0]+o[1],ae.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,u=!u}throw new Z}static decodeDigit(e){let n=at.MAX_AVG_VARIANCE,r=-1,s=at.PATTERNS.length;for(let o=0;o<s;o++){let l=at.PATTERNS[o],u=Dt.patternMatchVariance(e,l,at.MAX_INDIVIDUAL_VARIANCE);u<n?(n=u,r=o):u===n&&(r=-1)}if(r>=0)return r%10;throw new Z}}at.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],at.MAX_AVG_VARIANCE=.38,at.MAX_INDIVIDUAL_VARIANCE=.5,at.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],at.START_PATTERN=Int32Array.from([1,1,1,1]),at.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ct extends Dt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let n=!1,r,s=0,o=Int32Array.from([0,0,0]);for(;!n;){o=Int32Array.from([0,0,0]),r=Ct.findGuardPattern(e,s,!1,this.START_END_PATTERN,o);let l=r[0];s=r[1];let u=l-(s-l);u>=0&&(n=e.isRange(u,l,!1))}return r}static checkChecksum(e){return Ct.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let r=parseInt(e.charAt(n-1),10);return Ct.getStandardUPCEANChecksum(e.substring(0,n-1))===r}static getStandardUPCEANChecksum(e){let n=e.length,r=0;for(let s=n-1;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new $;r+=o}r*=3;for(let s=n-2;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new $;r+=o}return(1e3-r)%10}static decodeEnd(e,n){return Ct.findGuardPattern(e,n,!1,Ct.START_END_PATTERN,new Int32Array(Ct.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,n,r,s){return this.findGuardPattern(e,n,r,s,new Int32Array(s.length))}static findGuardPattern(e,n,r,s,o){let l=e.getSize();n=r?e.getNextUnset(n):e.getNextSet(n);let u=0,f=n,d=s.length,w=r;for(let E=n;E<l;E++)if(e.get(E)!==w)o[u]++;else{if(u===d-1){if(Dt.patternMatchVariance(o,s,Ct.MAX_INDIVIDUAL_VARIANCE)<Ct.MAX_AVG_VARIANCE)return Int32Array.from([f,E]);f+=o[0]+o[1];let S=o.slice(2,o.length-1);for(let _=0;_<u-1;_++)o[_]=S[_];o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,w=!w}throw new Z}static decodeDigit(e,n,r,s){this.recordPattern(e,r,n);let o=this.MAX_AVG_VARIANCE,l=-1,u=s.length;for(let f=0;f<u;f++){let d=s[f],w=Dt.patternMatchVariance(n,d,Ct.MAX_INDIVIDUAL_VARIANCE);w<o&&(o=w,l=f)}if(l>=0)return l;throw new Z}}Ct.MAX_AVG_VARIANCE=.48,Ct.MAX_INDIVIDUAL_VARIANCE=.7,Ct.START_END_PATTERN=Int32Array.from([1,1,1]),Ct.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ct.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ct.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Or{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,r){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,s),l=s.toString(),u=Or.parseExtensionString(l),f=[new we((r[0]+r[1])/2,e),new we(o,e)],d=new ke(l,null,0,f,ce.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&d.putAllMetadata(u),d}decodeMiddle(e,n,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l=n[1],u=0;for(let d=0;d<5&&l<o;d++){let w=Ct.decodeDigit(e,s,l,Ct.L_AND_G_PATTERNS);r+=String.fromCharCode(48+w%10);for(let E of s)l+=E;w>=10&&(u|=1<<4-d),d!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(r.length!==5)throw new Z;let f=this.determineCheckDigit(u);if(Or.extensionChecksum(r.toString())!==f)throw new Z;return l}static extensionChecksum(e){let n=e.length,r=0;for(let s=n-2;s>=0;s-=2)r+=e.charAt(s).charCodeAt(0)-48;r*=3;for(let s=n-1;s>=0;s-=2)r+=e.charAt(s).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(e){for(let n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new Z}static parseExtensionString(e){if(e.length!==5)return null;let n=Or.parseExtension5String(e);return n==null?null:new Map([[Ve.SUGGESTED_PRICE,n]])}static parseExtension5String(e){let n;switch(e.charAt(0)){case"0":n="£";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let r=parseInt(e.substring(1)),s=(r/100).toString(),o=r%100,l=o<10?"0"+o:o.toString();return n+s+"."+l}}class Ai{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,r){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,s),l=s.toString(),u=Ai.parseExtensionString(l),f=[new we((r[0]+r[1])/2,e),new we(o,e)],d=new ke(l,null,0,f,ce.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&d.putAllMetadata(u),d}decodeMiddle(e,n,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l=n[1],u=0;for(let f=0;f<2&&l<o;f++){let d=Ct.decodeDigit(e,s,l,Ct.L_AND_G_PATTERNS);r+=String.fromCharCode(48+d%10);for(let w of s)l+=w;d>=10&&(u|=1<<1-f),f!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(r.length!==2)throw new Z;if(parseInt(r.toString())%4!==u)throw new Z;return l}static parseExtensionString(e){return e.length!==2?null:new Map([[Ve.ISSUE_NUMBER,parseInt(e)]])}}class Ji{static decodeRow(e,n,r){let s=Ct.findGuardPattern(n,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Or().decodeRow(e,n,s)}catch{return new Ai().decodeRow(e,n,s)}}}Ji.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Qe extends Ct{constructor(){super(),this.decodeRowStringBuffer="",Qe.L_AND_G_PATTERNS=Qe.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let n=Qe.L_PATTERNS[e-10],r=new Int32Array(n.length);for(let s=0;s<n.length;s++)r[s]=n[n.length-s-1];Qe.L_AND_G_PATTERNS[e]=r}}decodeRow(e,n,r){let s=Qe.findStartGuardPattern(n),o=r==null?null:r.get(Ce.NEED_RESULT_POINT_CALLBACK);if(o!=null){const J=new we((s[0]+s[1])/2,e);o.foundPossibleResultPoint(J)}let l=this.decodeMiddle(n,s,this.decodeRowStringBuffer),u=l.rowOffset,f=l.resultString;if(o!=null){const J=new we(u,e);o.foundPossibleResultPoint(J)}let d=this.decodeEnd(n,u);if(o!=null){const J=new we((d[0]+d[1])/2,e);o.foundPossibleResultPoint(J)}let w=d[1],E=w+(w-d[0]);if(E>=n.getSize()||!n.isRange(w,E,!1))throw new Z;let S=f.toString();if(S.length<8)throw new $;if(!Qe.checkChecksum(S))throw new xe;let _=(s[1]+s[0])/2,D=(d[1]+d[0])/2,k=this.getBarcodeFormat(),F=[new we(_,e),new we(D,e)],G=new ke(S,null,0,F,k,new Date().getTime()),ne=0;try{let J=Ji.decodeRow(e,n,d[1]);G.putMetadata(Ve.UPC_EAN_EXTENSION,J.getText()),G.putAllMetadata(J.getResultMetadata()),G.addResultPoints(J.getResultPoints()),ne=J.getText().length}catch{}let se=r==null?null:r.get(Ce.ALLOWED_EAN_EXTENSIONS);if(se!=null){let J=!1;for(let Ke in se)if(ne.toString()===Ke){J=!0;break}if(!J)throw new Z}return G}decodeEnd(e,n){return Qe.findGuardPattern(e,n,!1,Qe.START_END_PATTERN,new Int32Array(Qe.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Qe.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let r=parseInt(e.charAt(n-1),10);return Qe.getStandardUPCEANChecksum(e.substring(0,n-1))===r}static getStandardUPCEANChecksum(e){let n=e.length,r=0;for(let s=n-1;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new $;r+=o}r*=3;for(let s=n-2;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new $;r+=o}return(1e3-r)%10}}class On extends Qe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l=n[1],u=0;for(let d=0;d<6&&l<o;d++){let w=Qe.decodeDigit(e,s,l,Qe.L_AND_G_PATTERNS);r+=String.fromCharCode(48+w%10);for(let E of s)l+=E;w>=10&&(u|=1<<5-d)}r=On.determineFirstDigit(r,u),l=Qe.findGuardPattern(e,l,!0,Qe.MIDDLE_PATTERN,new Int32Array(Qe.MIDDLE_PATTERN.length).fill(0))[1];for(let d=0;d<6&&l<o;d++){let w=Qe.decodeDigit(e,s,l,Qe.L_PATTERNS);r+=String.fromCharCode(48+w);for(let E of s)l+=E}return{rowOffset:l,resultString:r}}getBarcodeFormat(){return ce.EAN_13}static determineFirstDigit(e,n){for(let r=0;r<10;r++)if(n===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode(48+r)+e,e;throw new Z}}On.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Rs extends Qe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,r){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l=n[1];for(let f=0;f<4&&l<o;f++){let d=Qe.decodeDigit(e,s,l,Qe.L_PATTERNS);r+=String.fromCharCode(48+d);for(let w of s)l+=w}l=Qe.findGuardPattern(e,l,!0,Qe.MIDDLE_PATTERN,new Int32Array(Qe.MIDDLE_PATTERN.length).fill(0))[1];for(let f=0;f<4&&l<o;f++){let d=Qe.decodeDigit(e,s,l,Qe.L_PATTERNS);r+=String.fromCharCode(48+d);for(let w of s)l+=w}return{rowOffset:l,resultString:r}}getBarcodeFormat(){return ce.EAN_8}}class Os extends Qe{constructor(){super(...arguments),this.ean13Reader=new On}getBarcodeFormat(){return ce.UPC_A}decode(e,n){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,n,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,n,r))}decodeMiddle(e,n,r){return this.ean13Reader.decodeMiddle(e,n,r)}maybeReturnResult(e){let n=e.getText();if(n.charAt(0)==="0"){let r=new ke(n.substring(1),null,null,e.getResultPoints(),ce.UPC_A);return e.getResultMetadata()!=null&&r.putAllMetadata(e.getResultMetadata()),r}else throw new Z}reset(){this.ean13Reader.reset()}}class Dn extends Qe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,n,r){const s=this.decodeMiddleCounters.map(d=>d);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const o=e.getSize();let l=n[1],u=0;for(let d=0;d<6&&l<o;d++){const w=Dn.decodeDigit(e,s,l,Dn.L_AND_G_PATTERNS);r+=String.fromCharCode(48+w%10);for(let E of s)l+=E;w>=10&&(u|=1<<5-d)}let f=Dn.determineNumSysAndCheckDigit(r,u);return{rowOffset:l,resultString:f}}decodeEnd(e,n){return Dn.findGuardPatternWithoutCounters(e,n,!0,Dn.MIDDLE_END_PATTERN)}checkChecksum(e){return Qe.checkChecksum(Dn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,n){for(let r=0;r<=1;r++)for(let s=0;s<10;s++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][s]){let o=String.fromCharCode(48+r),l=String.fromCharCode(48+s);return o+e+l}throw Z.getNotFoundInstance()}getBarcodeFormat(){return ce.UPC_E}static convertUPCEtoUPCA(e){const n=e.slice(1,7).split("").map(o=>o.charCodeAt(0)),r=new Xe;r.append(e.charAt(0));let s=n[5];switch(s){case 0:case 1:case 2:r.appendChars(n,0,2),r.append(s),r.append("0000"),r.appendChars(n,2,3);break;case 3:r.appendChars(n,0,3),r.append("00000"),r.appendChars(n,3,2);break;case 4:r.appendChars(n,0,4),r.append("00000"),r.append(n[4]);break;default:r.appendChars(n,0,5),r.append("0000"),r.append(s);break}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}Dn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Dn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class $i extends Dt{constructor(e){super();let n=e==null?null:e.get(Ce.POSSIBLE_FORMATS),r=[];A(n)?(r.push(new On),r.push(new Os),r.push(new Rs),r.push(new Dn)):(n.indexOf(ce.EAN_13)>-1&&r.push(new On),n.indexOf(ce.UPC_A)>-1&&r.push(new Os),n.indexOf(ce.EAN_8)>-1&&r.push(new Rs),n.indexOf(ce.UPC_E)>-1&&r.push(new Dn)),this.readers=r}decodeRow(e,n,r){for(let s of this.readers)try{const o=s.decodeRow(e,n,r),l=o.getBarcodeFormat()===ce.EAN_13&&o.getText().charAt(0)==="0",u=r==null?null:r.get(Ce.POSSIBLE_FORMATS),f=u==null||u.includes(ce.UPC_A);if(l&&f){const d=o.getRawBytes(),w=new ke(o.getText().substring(1),d,d?d.length:null,o.getResultPoints(),ce.UPC_A);return w.putAllMetadata(o.getResultMetadata()),w}return o}catch{}throw new Z}reset(){for(let e of this.readers)e.reset()}}class qt extends Dt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,n){for(let r=0;r<n.length;r++)if(Dt.patternMatchVariance(e,n[r],qt.MAX_INDIVIDUAL_VARIANCE)<qt.MAX_AVG_VARIANCE)return r;throw new Z}static count(e){return Je.sum(new Int32Array(e))}static increment(e,n){let r=0,s=n[0];for(let o=1;o<e.length;o++)n[o]>s&&(s=n[o],r=o);e[r]++}static decrement(e,n){let r=0,s=n[0];for(let o=1;o<e.length;o++)n[o]<s&&(s=n[o],r=o);e[r]--}static isFinderPattern(e){let n=e[0]+e[1],r=n+e[2]+e[3],s=n/r;if(s>=qt.MIN_FINDER_PATTERN_RATIO&&s<=qt.MAX_FINDER_PATTERN_RATIO){let o=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;for(let u of e)u>l&&(l=u),u<o&&(o=u);return l<10*o}return!1}}qt.MAX_AVG_VARIANCE=.2,qt.MAX_INDIVIDUAL_VARIANCE=.45,qt.MIN_FINDER_PATTERN_RATIO=9.5/12,qt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ar{constructor(e,n){this.value=e,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Ar))return!1;const n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class vi{constructor(e,n,r,s,o){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new we(r,o)),this.resultPoints.push(new we(s,o))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof vi))return!1;const n=e;return this.value===n.value}hashCode(){return this.value}}class wn{constructor(){}static getRSSvalue(e,n,r){let s=0;for(let f of e)s+=f;let o=0,l=0,u=e.length;for(let f=0;f<u-1;f++){let d;for(d=1,l|=1<<f;d<e[f];d++,l&=~(1<<f)){let w=wn.combins(s-d-1,u-f-2);if(r&&l===0&&s-d-(u-f-1)>=u-f-1&&(w-=wn.combins(s-d-(u-f),u-f-2)),u-f-1>1){let E=0;for(let S=s-d-(u-f-2);S>n;S--)E+=wn.combins(s-d-S-1,u-f-3);w-=E*(u-1-f)}else s-d>n&&w--;o+=w}s-=d}return o}static combins(e,n){let r,s;e-n>n?(s=n,r=e-n):(s=e-n,r=n);let o=1,l=1;for(let u=e;u>r;u--)o*=u,l<=s&&(o/=l,l++);for(;l<=s;)o/=l,l++;return o}}class Ds{static buildBitArray(e){let n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);let r=12*n,s=new Se(r),o=0,u=e[0].getRightChar().getValue();for(let f=11;f>=0;--f)(u&1<<f)!=0&&s.set(o),o++;for(let f=1;f<e.length;++f){let d=e[f],w=d.getLeftChar().getValue();for(let E=11;E>=0;--E)(w&1<<E)!=0&&s.set(o),o++;if(d.getRightChar()!=null){let E=d.getRightChar().getValue();for(let S=11;S>=0;--S)(E&1<<S)!=0&&s.set(o),o++}}return s}}class jn{constructor(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class bs{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Xt extends bs{constructor(e,n){super(e),this.value=n}getValue(){return this.value}isFNC1(){return this.value===Xt.FNC1}}Xt.FNC1="$";class $n extends bs{constructor(e,n,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class fn extends bs{constructor(e,n,r){if(super(e),n<0||n>10||r<0||r>10)throw new $;this.firstDigit=n,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===fn.FNC1}isSecondDigitFNC1(){return this.secondDigit===fn.FNC1}isAnyFNC1(){return this.firstDigit===fn.FNC1||this.secondDigit===fn.FNC1}}fn.FNC1=10;class pe{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new Z;let n=e.substring(0,2);for(let o of pe.TWO_DIGIT_DATA_LENGTH)if(o[0]===n)return o[1]===pe.VARIABLE_LENGTH?pe.processVariableAI(2,o[2],e):pe.processFixedAI(2,o[1],e);if(e.length<3)throw new Z;let r=e.substring(0,3);for(let o of pe.THREE_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===pe.VARIABLE_LENGTH?pe.processVariableAI(3,o[2],e):pe.processFixedAI(3,o[1],e);for(let o of pe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===pe.VARIABLE_LENGTH?pe.processVariableAI(4,o[2],e):pe.processFixedAI(4,o[1],e);if(e.length<4)throw new Z;let s=e.substring(0,4);for(let o of pe.FOUR_DIGIT_DATA_LENGTH)if(o[0]===s)return o[1]===pe.VARIABLE_LENGTH?pe.processVariableAI(4,o[2],e):pe.processFixedAI(4,o[1],e);throw new Z}static processFixedAI(e,n,r){if(r.length<e)throw new Z;let s=r.substring(0,e);if(r.length<e+n)throw new Z;let o=r.substring(e,e+n),l=r.substring(e+n),u="("+s+")"+o,f=pe.parseFieldsInGeneralPurpose(l);return f==null?u:u+f}static processVariableAI(e,n,r){let s=r.substring(0,e),o;r.length<e+n?o=r.length:o=e+n;let l=r.substring(e,o),u=r.substring(o),f="("+s+")"+l,d=pe.parseFieldsInGeneralPurpose(u);return d==null?f:f+d}}pe.VARIABLE_LENGTH=[],pe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",pe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",pe.VARIABLE_LENGTH,20],["22",pe.VARIABLE_LENGTH,29],["30",pe.VARIABLE_LENGTH,8],["37",pe.VARIABLE_LENGTH,8],["90",pe.VARIABLE_LENGTH,30],["91",pe.VARIABLE_LENGTH,30],["92",pe.VARIABLE_LENGTH,30],["93",pe.VARIABLE_LENGTH,30],["94",pe.VARIABLE_LENGTH,30],["95",pe.VARIABLE_LENGTH,30],["96",pe.VARIABLE_LENGTH,30],["97",pe.VARIABLE_LENGTH,3],["98",pe.VARIABLE_LENGTH,30],["99",pe.VARIABLE_LENGTH,30]],pe.THREE_DIGIT_DATA_LENGTH=[["240",pe.VARIABLE_LENGTH,30],["241",pe.VARIABLE_LENGTH,30],["242",pe.VARIABLE_LENGTH,6],["250",pe.VARIABLE_LENGTH,30],["251",pe.VARIABLE_LENGTH,30],["253",pe.VARIABLE_LENGTH,17],["254",pe.VARIABLE_LENGTH,20],["400",pe.VARIABLE_LENGTH,30],["401",pe.VARIABLE_LENGTH,30],["402",17],["403",pe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",pe.VARIABLE_LENGTH,20],["421",pe.VARIABLE_LENGTH,15],["422",3],["423",pe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],pe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",pe.VARIABLE_LENGTH,15],["391",pe.VARIABLE_LENGTH,18],["392",pe.VARIABLE_LENGTH,15],["393",pe.VARIABLE_LENGTH,18],["703",pe.VARIABLE_LENGTH,30]],pe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",pe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",pe.VARIABLE_LENGTH,20],["8003",pe.VARIABLE_LENGTH,30],["8004",pe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",pe.VARIABLE_LENGTH,30],["8008",pe.VARIABLE_LENGTH,12],["8018",18],["8020",pe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",pe.VARIABLE_LENGTH,70],["8200",pe.VARIABLE_LENGTH,70]];class Zr{constructor(e){this.buffer=new Xe,this.information=e}decodeAllCodes(e,n){let r=n,s=null;do{let o=this.decodeGeneralPurposeField(r,s),l=pe.parseFieldsInGeneralPurpose(o.getNewString());if(l!=null&&e.append(l),o.isRemaining()?s=""+o.getRemainingValue():s=null,r===o.getNewPosition())break;r=o.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let o=this.extractNumericValueFromBitArray(e,4);return o===0?new fn(this.information.getSize(),fn.FNC1,fn.FNC1):new fn(this.information.getSize(),o-1,fn.FNC1)}let n=this.extractNumericValueFromBitArray(e,7),r=(n-8)/11,s=(n-8)%11;return new fn(e+7,r,s)}extractNumericValueFromBitArray(e,n){return Zr.extractNumericValueFromBitArray(this.information,e,n)}static extractNumericValueFromBitArray(e,n,r){let s=0;for(let o=0;o<r;++o)e.get(n+o)&&(s|=1<<r-o-1);return s}decodeGeneralPurposeField(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new $n(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new $n(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,n;do{let r=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished()),!(r!==this.current.getPosition())&&!e)break}while(!e);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let n;return e.isSecondDigitFNC1()?n=new $n(this.current.getPosition(),this.buffer.toString()):n=new $n(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new jn(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let n=new $n(this.current.getPosition(),this.buffer.toString());return new jn(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new jn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new $n(this.current.getPosition(),this.buffer.toString());return new jn(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new jn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new $n(this.current.getPosition(),this.buffer.toString());return new jn(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new jn(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,8);return s>=232&&s<253}decodeIsoIec646(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Xt(e+5,Xt.FNC1);if(n>=5&&n<15)return new Xt(e+5,"0"+(n-5));let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new Xt(e+7,""+(r+1));if(r>=90&&r<116)return new Xt(e+7,""+(r+7));let s=this.extractNumericValueFromBitArray(e,8),o;switch(s){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new $}return new Xt(e+8,o)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Xt(e+5,Xt.FNC1);if(n>=5&&n<15)return new Xt(e+5,"0"+(n-5));let r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new Xt(e+6,""+(r+33));let s;switch(r){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new Un("Decoding invalid alphanumeric value: "+r)}return new Xt(e+6,s)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0}}class Ms{constructor(e){this.information=e,this.generalDecoder=new Zr(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class yn extends Ms{constructor(e){super(e)}encodeCompressedGtin(e,n){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,n,r)}encodeCompressedGtinWithoutAI(e,n,r){for(let s=0;s<4;++s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*s,10);o/100===0&&e.append("0"),o/10===0&&e.append("0"),e.append(o)}yn.appendCheckDigit(e,r)}static appendCheckDigit(e,n){let r=0;for(let s=0;s<13;s++){let o=e.charAt(s+n).charCodeAt(0)-48;r+=(s&1)===0?3*o:o}r=10-r%10,r===10&&(r=0),e.append(r)}}yn.GTIN_SIZE=40;class bn extends yn{constructor(e){super(e)}parseInformation(){let e=new Xe;e.append("(01)");let n=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(bn.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,bn.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,bn.HEADER_SIZE+44)}}bn.HEADER_SIZE=4;class Si extends Ms{constructor(e){super(e)}parseInformation(){let e=new Xe;return this.getGeneralDecoder().decodeAllCodes(e,Si.HEADER_SIZE)}}Si.HEADER_SIZE=5;class Ii extends yn{constructor(e){super(e)}encodeCompressedWeight(e,n,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(n,r);this.addWeightCode(e,s);let o=this.checkWeight(s),l=1e5;for(let u=0;u<5;++u)o/l===0&&e.append("0"),l/=10;e.append(o)}}class er extends Ii{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=er.HEADER_SIZE+Ii.GTIN_SIZE+er.WEIGHT_SIZE)throw new Z;let e=new Xe;return this.encodeCompressedGtin(e,er.HEADER_SIZE),this.encodeCompressedWeight(e,er.HEADER_SIZE+Ii.GTIN_SIZE,er.WEIGHT_SIZE),e.toString()}}er.HEADER_SIZE=5,er.WEIGHT_SIZE=15;class Ao extends er{constructor(e){super(e)}addWeightCode(e,n){e.append("(3103)")}checkWeight(e){return e}}class vo extends er{constructor(e){super(e)}addWeightCode(e,n){n<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class zn extends yn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<zn.HEADER_SIZE+yn.GTIN_SIZE)throw new Z;let e=new Xe;this.encodeCompressedGtin(e,zn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(zn.HEADER_SIZE+yn.GTIN_SIZE,zn.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(zn.HEADER_SIZE+yn.GTIN_SIZE+zn.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}zn.HEADER_SIZE=8,zn.LAST_DIGIT_SIZE=2;class on extends yn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<on.HEADER_SIZE+yn.GTIN_SIZE)throw new Z;let e=new Xe;this.encodeCompressedGtin(e,on.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(on.HEADER_SIZE+yn.GTIN_SIZE,on.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(on.HEADER_SIZE+yn.GTIN_SIZE+on.LAST_DIGIT_SIZE,on.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let s=this.getGeneralDecoder().decodeGeneralPurposeField(on.HEADER_SIZE+yn.GTIN_SIZE+on.LAST_DIGIT_SIZE+on.FIRST_THREE_DIGITS_SIZE,null);return e.append(s.getNewString()),e.toString()}}on.HEADER_SIZE=8,on.LAST_DIGIT_SIZE=2,on.FIRST_THREE_DIGITS_SIZE=10;class At extends Ii{constructor(e,n,r){super(e),this.dateCode=r,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=At.HEADER_SIZE+At.GTIN_SIZE+At.WEIGHT_SIZE+At.DATE_SIZE)throw new Z;let e=new Xe;return this.encodeCompressedGtin(e,At.HEADER_SIZE),this.encodeCompressedWeight(e,At.HEADER_SIZE+At.GTIN_SIZE,At.WEIGHT_SIZE),this.encodeCompressedDate(e,At.HEADER_SIZE+At.GTIN_SIZE+At.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,n){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(n,At.DATE_SIZE);if(r==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let s=r%32;r/=32;let o=r%12+1;r/=12;let l=r;l/10==0&&e.append("0"),e.append(l),o/10==0&&e.append("0"),e.append(o),s/10==0&&e.append("0"),e.append(s)}addWeightCode(e,n){e.append("("),e.append(this.firstAIdigits),e.append(n/1e5),e.append(")")}checkWeight(e){return e%1e5}}At.HEADER_SIZE=8,At.WEIGHT_SIZE=20,At.DATE_SIZE=16;function So(y){try{if(y.get(1))return new bn(y);if(!y.get(2))return new Si(y);switch(Zr.extractNumericValueFromBitArray(y,1,4)){case 4:return new Ao(y);case 5:return new vo(y)}switch(Zr.extractNumericValueFromBitArray(y,1,5)){case 12:return new zn(y);case 13:return new on(y)}switch(Zr.extractNumericValueFromBitArray(y,1,7)){case 56:return new At(y,"310","11");case 57:return new At(y,"320","11");case 58:return new At(y,"310","13");case 59:return new At(y,"320","13");case 60:return new At(y,"310","15");case 61:return new At(y,"320","15");case 62:return new At(y,"310","17");case 63:return new At(y,"320","17")}}catch(e){throw console.log(e),new Un("unknown decoder: "+y)}}class gt{constructor(e,n,r,s){this.leftchar=e,this.rightchar=n,this.finderpattern=r,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,n){return e instanceof gt?gt.equalsOrNull(e.leftchar,n.leftchar)&&gt.equalsOrNull(e.rightchar,n.rightchar)&&gt.equalsOrNull(e.finderpattern,n.finderpattern):!1}static equalsOrNull(e,n){return e===null?n===null:gt.equals(e,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ks{constructor(e,n,r){this.pairs=e,this.rowNumber=n,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,n){return e instanceof ks?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1}checkEqualitity(e,n){if(!e||!n)return;let r;return e.forEach((s,o)=>{n.forEach(l=>{s.getLeftChar().getValue()===l.getLeftChar().getValue()&&s.getRightChar().getValue()===l.getRightChar().getValue()&&s.getFinderPatter().getValue()===l.getFinderPatter().getValue()&&(r=!0)})}),r}}class Q extends qt{constructor(e){super(...arguments),this.pairs=new Array(Q.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,n,r){this.pairs.length=0,this.startFromEven=!1;try{return Q.constructResult(this.decodeRow2pairs(e,n))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,Q.constructResult(this.decodeRow2pairs(e,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,n){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,e))}catch(o){if(o instanceof Z){if(!this.pairs.length)throw new Z;r=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(e,!1),s){let o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new Z}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),n}checkRows(e,n){for(let r=n;r<this.rows.length;r++){let s=this.rows[r];this.pairs.length=0;for(let l of e)this.pairs.push(l.getPairs());if(this.pairs.push(s.getPairs()),!Q.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let o=new Array(e);o.push(s);try{return this.checkRows(o,r+1)}catch(l){this.verbose&&console.log(l)}}throw new Z}static isValidSequence(e){for(let n of Q.FINDER_PATTERN_SEQUENCES){if(e.length>n.length)continue;let r=!0;for(let s=0;s<e.length;s++)if(e[s].getFinderPattern().getValue()!=n[s]){r=!1;break}if(r)return!0}return!1}storeRow(e,n){let r=0,s=!1,o=!1;for(;r<this.rows.length;){let l=this.rows[r];if(l.getRowNumber()>e){o=l.isEquivalent(this.pairs);break}s=l.isEquivalent(this.pairs),r++}o||s||Q.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new ks(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,n){for(let r of n)if(r.getPairs().length!==e.length){for(let s of r.getPairs())for(let o of e)if(gt.equals(s,o))break}}static isPartialRow(e,n){for(let r of n){let s=!0;for(let o of e){let l=!1;for(let u of r.getPairs())if(o.equals(u)){l=!0;break}if(!l){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(e){let n=Ds.buildBitArray(e),s=So(n).parseInformation(),o=e[0].getFinderPattern().getResultPoints(),l=e[e.length-1].getFinderPattern().getResultPoints(),u=[o[0],o[1],l[0],l[1]];return new ke(s,null,null,u,ce.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),n=e.getLeftChar(),r=e.getRightChar();if(r==null)return!1;let s=r.getChecksumPortion(),o=2;for(let u=1;u<this.pairs.size();++u){let f=this.pairs.get(u);s+=f.getLeftChar().getChecksumPortion(),o++;let d=f.getRightChar();d!=null&&(s+=d.getChecksumPortion(),o++)}return s%=211,211*(o-4)+s==n.getValue()}static getNextSecondBar(e,n){let r;return e.get(n)?(r=e.getNextUnset(n),r=e.getNextSet(r)):(r=e.getNextSet(n),r=e.getNextUnset(r)),r}retrieveNextPair(e,n,r){let s=n.length%2==0;this.startFromEven&&(s=!s);let o,l=!0,u=-1;do this.findNextPair(e,n,u),o=this.parseFoundFinderPattern(e,r,s),o==null?u=Q.getNextSecondBar(e,this.startEnd[0]):l=!1;while(l);let f=this.decodeDataCharacter(e,o,s,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new Z;let d;try{d=this.decodeDataCharacter(e,o,s,!1)}catch(w){d=null,this.verbose&&console.log(w)}return new gt(f,d,o,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,n,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l;r>=0?l=r:this.isEmptyPair(n)?l=0:l=n[n.length-1].getFinderPattern().getStartEnd()[1];let u=n.length%2!=0;this.startFromEven&&(u=!u);let f=!1;for(;l<o&&(f=!e.get(l),!!f);)l++;let d=0,w=l;for(let E=l;E<o;E++)if(e.get(E)!=f)s[d]++;else{if(d==3){if(u&&Q.reverseCounters(s),Q.isFinderPattern(s)){this.startEnd[0]=w,this.startEnd[1]=E;return}u&&Q.reverseCounters(s),w+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,d--}else d++;s[d]=1,f=!f}throw new Z}static reverseCounters(e){let n=e.length;for(let r=0;r<n/2;++r){let s=e[r];e[r]=e[n-r-1],e[n-r-1]=s}}parseFoundFinderPattern(e,n,r){let s,o,l;if(r){let d=this.startEnd[0]-1;for(;d>=0&&!e.get(d);)d--;d++,s=this.startEnd[0]-d,o=d,l=this.startEnd[1]}else o=this.startEnd[0],l=e.getNextUnset(this.startEnd[1]+1),s=l-this.startEnd[1];let u=this.getDecodeFinderCounters();ae.arraycopy(u,0,u,1,u.length-1),u[0]=s;let f;try{f=this.parseFinderValue(u,Q.FINDER_PATTERNS)}catch{return null}return new vi(f,[o,l],o,l,n)}decodeDataCharacter(e,n,r,s){let o=this.getDataCharacterCounters();for(let ut=0;ut<o.length;ut++)o[ut]=0;if(s)Q.recordPatternInReverse(e,n.getStartEnd()[0],o);else{Q.recordPattern(e,n.getStartEnd()[1],o);for(let ut=0,bt=o.length-1;ut<bt;ut++,bt--){let gn=o[ut];o[ut]=o[bt],o[bt]=gn}}let l=17,u=Je.sum(new Int32Array(o))/l,f=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(u-f)/f>.3)throw new Z;let d=this.getOddCounts(),w=this.getEvenCounts(),E=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let ut=0;ut<o.length;ut++){let bt=1*o[ut]/u,gn=bt+.5;if(gn<1){if(bt<.3)throw new Z;gn=1}else if(gn>8){if(bt>8.7)throw new Z;gn=8}let Pr=ut/2;(ut&1)==0?(d[Pr]=gn,E[Pr]=bt-gn):(w[Pr]=gn,S[Pr]=bt-gn)}this.adjustOddEvenCounts(l);let _=4*n.getValue()+(r?0:2)+(s?0:1)-1,D=0,k=0;for(let ut=d.length-1;ut>=0;ut--){if(Q.isNotA1left(n,r,s)){let bt=Q.WEIGHTS[_][2*ut];k+=d[ut]*bt}D+=d[ut]}let F=0;for(let ut=w.length-1;ut>=0;ut--)if(Q.isNotA1left(n,r,s)){let bt=Q.WEIGHTS[_][2*ut+1];F+=w[ut]*bt}let G=k+F;if((D&1)!=0||D>13||D<4)throw new Z;let ne=(13-D)/2,se=Q.SYMBOL_WIDEST[ne],J=9-se,Ke=wn.getRSSvalue(d,se,!0),He=wn.getRSSvalue(w,J,!1),Cn=Q.EVEN_TOTAL_SUBSET[ne],Yn=Q.GSUM[ne],Ht=Ke*Cn+He+Yn;return new Ar(Ht,G)}static isNotA1left(e,n,r){return!(e.getValue()==0&&n&&r)}adjustOddEvenCounts(e){let n=Je.sum(new Int32Array(this.getOddCounts())),r=Je.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1;n>13?o=!0:n<4&&(s=!0);let l=!1,u=!1;r>13?u=!0:r<4&&(l=!0);let f=n+r-e,d=(n&1)==1,w=(r&1)==0;if(f==1)if(d){if(w)throw new Z;o=!0}else{if(!w)throw new Z;u=!0}else if(f==-1)if(d){if(w)throw new Z;s=!0}else{if(!w)throw new Z;l=!0}else if(f==0){if(d){if(!w)throw new Z;n<r?(s=!0,u=!0):(o=!0,l=!0)}else if(w)throw new Z}else throw new Z;if(s){if(o)throw new Z;Q.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&Q.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new Z;Q.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&Q.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Q.SYMBOL_WIDEST=[7,5,4,3,1],Q.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Q.GSUM=[0,348,1388,2948,3988],Q.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Q.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Q.FINDER_PAT_A=0,Q.FINDER_PAT_B=1,Q.FINDER_PAT_C=2,Q.FINDER_PAT_D=3,Q.FINDER_PAT_E=4,Q.FINDER_PAT_F=5,Q.FINDER_PATTERN_SEQUENCES=[[Q.FINDER_PAT_A,Q.FINDER_PAT_A],[Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B],[Q.FINDER_PAT_A,Q.FINDER_PAT_C,Q.FINDER_PAT_B,Q.FINDER_PAT_D],[Q.FINDER_PAT_A,Q.FINDER_PAT_E,Q.FINDER_PAT_B,Q.FINDER_PAT_D,Q.FINDER_PAT_C],[Q.FINDER_PAT_A,Q.FINDER_PAT_E,Q.FINDER_PAT_B,Q.FINDER_PAT_D,Q.FINDER_PAT_D,Q.FINDER_PAT_F],[Q.FINDER_PAT_A,Q.FINDER_PAT_E,Q.FINDER_PAT_B,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_F,Q.FINDER_PAT_F],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_D],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_E],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_F,Q.FINDER_PAT_F],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_E,Q.FINDER_PAT_F,Q.FINDER_PAT_F]],Q.MAX_PAIRS=11;class Io extends Ar{constructor(e,n,r){super(e,n),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class yt extends qt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,n,r){const s=this.decodePair(n,!1,e,r);yt.addOrTally(this.possibleLeftPairs,s),n.reverse();let o=this.decodePair(n,!0,e,r);yt.addOrTally(this.possibleRightPairs,o),n.reverse();for(let l of this.possibleLeftPairs)if(l.getCount()>1){for(let u of this.possibleRightPairs)if(u.getCount()>1&&yt.checkChecksum(l,u))return yt.constructResult(l,u)}throw new Z}static addOrTally(e,n){if(n==null)return;let r=!1;for(let s of e)if(s.getValue()===n.getValue()){s.incrementCount(),r=!0;break}r||e.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,n){let r=4537077*e.getValue()+n.getValue(),s=new String(r).toString(),o=new Xe;for(let d=13-s.length;d>0;d--)o.append("0");o.append(s);let l=0;for(let d=0;d<13;d++){let w=o.charAt(d).charCodeAt(0)-48;l+=(d&1)===0?3*w:w}l=10-l%10,l===10&&(l=0),o.append(l.toString());let u=e.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new ke(o.toString(),null,0,[u[0],u[1],f[0],f[1]],ce.RSS_14,new Date().getTime())}static checkChecksum(e,n){let r=(e.getChecksumPortion()+16*n.getChecksumPortion())%79,s=9*e.getFinderPattern().getValue()+n.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,r===s}decodePair(e,n,r,s){try{let o=this.findFinderPattern(e,n),l=this.parseFoundFinderPattern(e,r,n,o),u=s==null?null:s.get(Ce.NEED_RESULT_POINT_CALLBACK);if(u!=null){let w=(o[0]+o[1])/2;n&&(w=e.getSize()-1-w),u.foundPossibleResultPoint(new we(w,r))}let f=this.decodeDataCharacter(e,l,!0),d=this.decodeDataCharacter(e,l,!1);return new Io(1597*f.getValue()+d.getValue(),f.getChecksumPortion()+4*d.getChecksumPortion(),l)}catch{return null}}decodeDataCharacter(e,n,r){let s=this.getDataCharacterCounters();for(let F=0;F<s.length;F++)s[F]=0;if(r)Dt.recordPatternInReverse(e,n.getStartEnd()[0],s);else{Dt.recordPattern(e,n.getStartEnd()[1]+1,s);for(let F=0,G=s.length-1;F<G;F++,G--){let ne=s[F];s[F]=s[G],s[G]=ne}}let o=r?16:15,l=Je.sum(new Int32Array(s))/o,u=this.getOddCounts(),f=this.getEvenCounts(),d=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let F=0;F<s.length;F++){let G=s[F]/l,ne=Math.floor(G+.5);ne<1?ne=1:ne>8&&(ne=8);let se=Math.floor(F/2);(F&1)===0?(u[se]=ne,d[se]=G-ne):(f[se]=ne,w[se]=G-ne)}this.adjustOddEvenCounts(r,o);let E=0,S=0;for(let F=u.length-1;F>=0;F--)S*=9,S+=u[F],E+=u[F];let _=0,D=0;for(let F=f.length-1;F>=0;F--)_*=9,_+=f[F],D+=f[F];let k=S+3*_;if(r){if((E&1)!==0||E>12||E<4)throw new Z;let F=(12-E)/2,G=yt.OUTSIDE_ODD_WIDEST[F],ne=9-G,se=wn.getRSSvalue(u,G,!1),J=wn.getRSSvalue(f,ne,!0),Ke=yt.OUTSIDE_EVEN_TOTAL_SUBSET[F],He=yt.OUTSIDE_GSUM[F];return new Ar(se*Ke+J+He,k)}else{if((D&1)!==0||D>10||D<4)throw new Z;let F=(10-D)/2,G=yt.INSIDE_ODD_WIDEST[F],ne=9-G,se=wn.getRSSvalue(u,G,!0),J=wn.getRSSvalue(f,ne,!1),Ke=yt.INSIDE_ODD_TOTAL_SUBSET[F],He=yt.INSIDE_GSUM[F];return new Ar(J*Ke+se+He,k)}}findFinderPattern(e,n){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let s=e.getSize(),o=!1,l=0;for(;l<s&&(o=!e.get(l),n!==o);)l++;let u=0,f=l;for(let d=l;d<s;d++)if(e.get(d)!==o)r[u]++;else{if(u===3){if(qt.isFinderPattern(r))return[f,d];f+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,u--}else u++;r[u]=1,o=!o}throw new Z}parseFoundFinderPattern(e,n,r,s){let o=e.get(s[0]),l=s[0]-1;for(;l>=0&&o!==e.get(l);)l--;l++;const u=s[0]-l,f=this.getDecodeFinderCounters(),d=new Int32Array(f.length);ae.arraycopy(f,0,d,1,f.length-1),d[0]=u;const w=this.parseFinderValue(d,yt.FINDER_PATTERNS);let E=l,S=s[1];return r&&(E=e.getSize()-1-E,S=e.getSize()-1-S),new vi(w,[l,s[1]],E,S,n)}adjustOddEvenCounts(e,n){let r=Je.sum(new Int32Array(this.getOddCounts())),s=Je.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1,u=!1,f=!1;e?(r>12?l=!0:r<4&&(o=!0),s>12?f=!0:s<4&&(u=!0)):(r>11?l=!0:r<5&&(o=!0),s>10?f=!0:s<4&&(u=!0));let d=r+s-n,w=(r&1)===(e?1:0),E=(s&1)===1;if(d===1)if(w){if(E)throw new Z;l=!0}else{if(!E)throw new Z;f=!0}else if(d===-1)if(w){if(E)throw new Z;o=!0}else{if(!E)throw new Z;u=!0}else if(d===0){if(w){if(!E)throw new Z;r<s?(o=!0,f=!0):(l=!0,u=!0)}else if(E)throw new Z}else throw new Z;if(o){if(l)throw new Z;qt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&qt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new Z;qt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&qt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}yt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],yt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],yt.OUTSIDE_GSUM=[0,161,961,2015,2715],yt.INSIDE_GSUM=[0,336,1036,1516],yt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],yt.INSIDE_ODD_WIDEST=[2,4,6,8],yt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Kr extends Dt{constructor(e,n){super(),this.readers=[],this.verbose=n===!0;const r=e?e.get(Ce.POSSIBLE_FORMATS):null,s=e&&e.get(Ce.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(ce.EAN_13)||r.includes(ce.UPC_A)||r.includes(ce.EAN_8)||r.includes(ce.UPC_E))&&this.readers.push(new $i(e)),r.includes(ce.CODE_39)&&this.readers.push(new jt(s)),r.includes(ce.CODE_128)&&this.readers.push(new fe),r.includes(ce.ITF)&&this.readers.push(new at),r.includes(ce.RSS_14)&&this.readers.push(new yt),r.includes(ce.RSS_EXPANDED)&&this.readers.push(new Q(this.verbose))):(this.readers.push(new $i(e)),this.readers.push(new jt),this.readers.push(new $i(e)),this.readers.push(new fe),this.readers.push(new at),this.readers.push(new yt),this.readers.push(new Q(this.verbose)))}decodeRow(e,n,r){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(e,n,r)}catch{}throw new Z}reset(){this.readers.forEach(e=>e.reset())}}class No extends je{constructor(e=500,n){super(new Kr(n),e,n)}}class rt{constructor(e,n,r){this.ecCodewords=e,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ye{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class $e{constructor(e,n,r,s,o,l){this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=o,this.ecBlocks=l;let u=0;const f=l.getECCodewords(),d=l.getECBlocks();for(let w of d)u+=w.getCount()*(w.getDataCodewords()+f);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,n){if((e&1)!==0||(n&1)!==0)throw new $;for(let r of $e.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===n)return r;throw new $}toString(){return""+this.versionNumber}static buildVersions(){return[new $e(1,10,10,8,8,new rt(5,new Ye(1,3))),new $e(2,12,12,10,10,new rt(7,new Ye(1,5))),new $e(3,14,14,12,12,new rt(10,new Ye(1,8))),new $e(4,16,16,14,14,new rt(12,new Ye(1,12))),new $e(5,18,18,16,16,new rt(14,new Ye(1,18))),new $e(6,20,20,18,18,new rt(18,new Ye(1,22))),new $e(7,22,22,20,20,new rt(20,new Ye(1,30))),new $e(8,24,24,22,22,new rt(24,new Ye(1,36))),new $e(9,26,26,24,24,new rt(28,new Ye(1,44))),new $e(10,32,32,14,14,new rt(36,new Ye(1,62))),new $e(11,36,36,16,16,new rt(42,new Ye(1,86))),new $e(12,40,40,18,18,new rt(48,new Ye(1,114))),new $e(13,44,44,20,20,new rt(56,new Ye(1,144))),new $e(14,48,48,22,22,new rt(68,new Ye(1,174))),new $e(15,52,52,24,24,new rt(42,new Ye(2,102))),new $e(16,64,64,14,14,new rt(56,new Ye(2,140))),new $e(17,72,72,16,16,new rt(36,new Ye(4,92))),new $e(18,80,80,18,18,new rt(48,new Ye(4,114))),new $e(19,88,88,20,20,new rt(56,new Ye(4,144))),new $e(20,96,96,22,22,new rt(68,new Ye(4,174))),new $e(21,104,104,24,24,new rt(56,new Ye(6,136))),new $e(22,120,120,18,18,new rt(68,new Ye(6,175))),new $e(23,132,132,20,20,new rt(62,new Ye(8,163))),new $e(24,144,144,22,22,new rt(62,new Ye(8,156),new Ye(2,155))),new $e(25,8,18,6,16,new rt(7,new Ye(1,5))),new $e(26,8,32,6,14,new rt(11,new Ye(1,10))),new $e(27,12,26,10,24,new rt(14,new Ye(1,16))),new $e(28,12,36,10,16,new rt(18,new Ye(1,22))),new $e(29,16,36,14,16,new rt(24,new Ye(1,32))),new $e(30,16,48,14,22,new rt(28,new Ye(1,49)))]}}$e.VERSIONS=$e.buildVersions();class Nn{constructor(e){const n=e.getHeight();if(n<8||n>144||(n&1)!==0)throw new $;this.version=Nn.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ft(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const n=e.getHeight(),r=e.getWidth();return $e.getVersionForDimensions(n,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let n=0,r=4,s=0;const o=this.mappingBitMatrix.getHeight(),l=this.mappingBitMatrix.getWidth();let u=!1,f=!1,d=!1,w=!1;do if(r===o&&s===0&&!u)e[n++]=this.readCorner1(o,l)&255,r-=2,s+=2,u=!0;else if(r===o-2&&s===0&&(l&3)!==0&&!f)e[n++]=this.readCorner2(o,l)&255,r-=2,s+=2,f=!0;else if(r===o+4&&s===2&&(l&7)===0&&!d)e[n++]=this.readCorner3(o,l)&255,r-=2,s+=2,d=!0;else if(r===o-2&&s===0&&(l&7)===4&&!w)e[n++]=this.readCorner4(o,l)&255,r-=2,s+=2,w=!0;else{do r<o&&s>=0&&!this.readMappingMatrix.get(s,r)&&(e[n++]=this.readUtah(r,s,o,l)&255),r-=2,s+=2;while(r>=0&&s<l);r+=1,s+=3;do r>=0&&s<l&&!this.readMappingMatrix.get(s,r)&&(e[n++]=this.readUtah(r,s,o,l)&255),r+=2,s-=2;while(r<o&&s>=0);r+=3,s+=1}while(r<o||s<l);if(n!==this.version.getTotalCodewords())throw new $;return e}readModule(e,n,r,s){return e<0&&(e+=r,n+=4-(r+4&7)),n<0&&(n+=s,e+=4-(s+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)}readUtah(e,n,r,s){let o=0;return this.readModule(e-2,n-2,r,s)&&(o|=1),o<<=1,this.readModule(e-2,n-1,r,s)&&(o|=1),o<<=1,this.readModule(e-1,n-2,r,s)&&(o|=1),o<<=1,this.readModule(e-1,n-1,r,s)&&(o|=1),o<<=1,this.readModule(e-1,n,r,s)&&(o|=1),o<<=1,this.readModule(e,n-2,r,s)&&(o|=1),o<<=1,this.readModule(e,n-1,r,s)&&(o|=1),o<<=1,this.readModule(e,n,r,s)&&(o|=1),o}readCorner1(e,n){let r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,1,e,n)&&(r|=1),r<<=1,this.readModule(e-1,2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r}readCorner2(e,n){let r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-4,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r}readCorner3(e,n){let r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-3,e,n)&&(r|=1),r<<=1,this.readModule(1,n-2,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r}readCorner4(e,n){let r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r}extractDataRegion(e){const n=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new M("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),l=n/s|0,u=r/o|0,f=l*s,d=u*o,w=new ft(d,f);for(let E=0;E<l;++E){const S=E*s;for(let _=0;_<u;++_){const D=_*o;for(let k=0;k<s;++k){const F=E*(s+2)+1+k,G=S+k;for(let ne=0;ne<o;++ne){const se=_*(o+2)+1+ne;if(e.get(se,F)){const J=D+ne;w.set(J,G)}}}}}return w}}class Ps{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n){const r=n.getECBlocks();let s=0;const o=r.getECBlocks();for(let k of o)s+=k.getCount();const l=new Array(s);let u=0;for(let k of o)for(let F=0;F<k.getCount();F++){const G=k.getDataCodewords(),ne=r.getECCodewords()+G;l[u++]=new Ps(G,new Uint8Array(ne))}const d=l[0].codewords.length-r.getECCodewords(),w=d-1;let E=0;for(let k=0;k<w;k++)for(let F=0;F<u;F++)l[F].codewords[k]=e[E++];const S=n.getVersionNumber()===24,_=S?8:u;for(let k=0;k<_;k++)l[k].codewords[d-1]=e[E++];const D=l[0].codewords.length;for(let k=d;k<D;k++)for(let F=0;F<u;F++){const G=S?(F+8)%u:F,ne=S&&G>7?k-1:k;l[G].codewords[ne]=e[E++]}if(E!==e.length)throw new M;return l}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Bs{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new M(""+e);let n=0,r=this.bitOffset,s=this.byteOffset;const o=this.bytes;if(r>0){const l=8-r,u=e<l?e:l,f=l-u,d=255>>8-u<<f;n=(o[s]&d)>>f,e-=u,r+=u,r===8&&(r=0,s++)}if(e>0){for(;e>=8;)n=n<<8|o[s]&255,s++,e-=8;if(e>0){const l=8-e,u=255>>l<<l;n=n<<e|(o[s]&u)>>l,r+=e}}return this.bitOffset=r,this.byteOffset=s,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var zt;(function(y){y[y.PAD_ENCODE=0]="PAD_ENCODE",y[y.ASCII_ENCODE=1]="ASCII_ENCODE",y[y.C40_ENCODE=2]="C40_ENCODE",y[y.TEXT_ENCODE=3]="TEXT_ENCODE",y[y.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",y[y.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",y[y.BASE256_ENCODE=6]="BASE256_ENCODE"})(zt||(zt={}));class Wn{static decode(e){const n=new Bs(e),r=new Xe,s=new Xe,o=new Array;let l=zt.ASCII_ENCODE;do if(l===zt.ASCII_ENCODE)l=this.decodeAsciiSegment(n,r,s);else{switch(l){case zt.C40_ENCODE:this.decodeC40Segment(n,r);break;case zt.TEXT_ENCODE:this.decodeTextSegment(n,r);break;case zt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,r);break;case zt.EDIFACT_ENCODE:this.decodeEdifactSegment(n,r);break;case zt.BASE256_ENCODE:this.decodeBase256Segment(n,r,o);break;default:throw new $}l=zt.ASCII_ENCODE}while(l!==zt.PAD_ENCODE&&n.available()>0);return s.length()>0&&r.append(s.toString()),new ht(e,r.toString(),o.length===0?null:o,null)}static decodeAsciiSegment(e,n,r){let s=!1;do{let o=e.readBits(8);if(o===0)throw new $;if(o<=128)return s&&(o+=128),n.append(String.fromCharCode(o-1)),zt.ASCII_ENCODE;if(o===129)return zt.PAD_ENCODE;if(o<=229){const l=o-130;l<10&&n.append("0"),n.append(""+l)}else switch(o){case 230:return zt.C40_ENCODE;case 231:return zt.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:n.append("[)>05"),r.insert(0,"");break;case 237:n.append("[)>06"),r.insert(0,"");break;case 238:return zt.ANSIX12_ENCODE;case 239:return zt.TEXT_ENCODE;case 240:return zt.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new $;break}}while(e.available()>0);return zt.ASCII_ENCODE}static decodeC40Segment(e,n){let r=!1;const s=[];let o=0;do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),s);for(let u=0;u<3;u++){const f=s[u];switch(o){case 0:if(f<3)o=f+1;else if(f<this.C40_BASIC_SET_CHARS.length){const d=this.C40_BASIC_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d)}else throw new $;break;case 1:r?(n.append(String.fromCharCode(f+128)),r=!1):n.append(String.fromCharCode(f)),o=0;break;case 2:if(f<this.C40_SHIFT2_SET_CHARS.length){const d=this.C40_SHIFT2_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d)}else switch(f){case 27:n.append("");break;case 30:r=!0;break;default:throw new $}o=0;break;case 3:r?(n.append(String.fromCharCode(f+224)),r=!1):n.append(String.fromCharCode(f+96)),o=0;break;default:throw new $}}}while(e.available()>0)}static decodeTextSegment(e,n){let r=!1,s=[],o=0;do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),s);for(let u=0;u<3;u++){const f=s[u];switch(o){case 0:if(f<3)o=f+1;else if(f<this.TEXT_BASIC_SET_CHARS.length){const d=this.TEXT_BASIC_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d)}else throw new $;break;case 1:r?(n.append(String.fromCharCode(f+128)),r=!1):n.append(String.fromCharCode(f)),o=0;break;case 2:if(f<this.TEXT_SHIFT2_SET_CHARS.length){const d=this.TEXT_SHIFT2_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d)}else switch(f){case 27:n.append("");break;case 30:r=!0;break;default:throw new $}o=0;break;case 3:if(f<this.TEXT_SHIFT3_SET_CHARS.length){const d=this.TEXT_SHIFT3_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d),o=0}else throw new $;break;default:throw new $}}}while(e.available()>0)}static decodeAnsiX12Segment(e,n){const r=[];do{if(e.available()===8)return;const s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),r);for(let o=0;o<3;o++){const l=r[o];switch(l){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(l<14)n.append(String.fromCharCode(l+44));else if(l<40)n.append(String.fromCharCode(l+51));else throw new $;break}}}while(e.available()>0)}static parseTwoBytes(e,n,r){let s=(e<<8)+n-1,o=Math.floor(s/1600);r[0]=o,s-=o*1600,o=Math.floor(s/40),r[1]=o,r[2]=s-o*40}static decodeEdifactSegment(e,n){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let s=e.readBits(6);if(s===31){const o=8-e.getBitOffset();o!==8&&e.readBits(o);return}(s&32)===0&&(s|=64),n.append(String.fromCharCode(s))}}while(e.available()>0)}static decodeBase256Segment(e,n,r){let s=1+e.getByteOffset();const o=this.unrandomize255State(e.readBits(8),s++);let l;if(o===0?l=e.available()/8|0:o<250?l=o:l=250*(o-249)+this.unrandomize255State(e.readBits(8),s++),l<0)throw new $;const u=new Uint8Array(l);for(let f=0;f<l;f++){if(e.available()<8)throw new $;u[f]=this.unrandomize255State(e.readBits(8),s++)}r.push(u);try{n.append(Pt.decode(u,Oe.ISO88591))}catch(f){throw new Un("Platform does not support required encoding: "+f.message)}}static unrandomize255State(e,n){const r=149*n%255+1,s=e-r;return s>=0?s:s+256}}Wn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Wn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Wn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Wn.TEXT_SHIFT2_SET_CHARS=Wn.C40_SHIFT2_SET_CHARS,Wn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class es{constructor(){this.rsDecoder=new Gr(tt.DATA_MATRIX_FIELD_256)}decode(e){const n=new Nn(e),r=n.getVersion(),s=n.readCodewords(),o=Ps.getDataBlocks(s,r);let l=0;for(let d of o)l+=d.getNumDataCodewords();const u=new Uint8Array(l),f=o.length;for(let d=0;d<f;d++){const w=o[d],E=w.getCodewords(),S=w.getNumDataCodewords();this.correctErrors(E,S);for(let _=0;_<S;_++)u[_*f+d]=E[_]}return Wn.decode(u)}correctErrors(e,n){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new xe}for(let s=0;s<n;s++)e[s]=r[s]}}class Et{constructor(e){this.image=e,this.rectangleDetector=new Jn(this.image)}detect(){const e=this.rectangleDetector.detect();let n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new Z;n=this.shiftToModuleCenter(n);const r=n[0],s=n[1],o=n[2],l=n[3];let u=this.transitionsBetween(r,l)+1,f=this.transitionsBetween(o,l)+1;(u&1)===1&&(u+=1),(f&1)===1&&(f+=1),4*u<7*f&&4*f<7*u&&(u=f=Math.max(u,f));let d=Et.sampleGrid(this.image,r,s,o,l,u,f);return new Xr(d,[r,s,o,l])}static shiftPoint(e,n,r){let s=(n.getX()-e.getX())/(r+1),o=(n.getY()-e.getY())/(r+1);return new we(e.getX()+s,e.getY()+o)}static moveAway(e,n,r){let s=e.getX(),o=e.getY();return s<n?s-=1:s+=1,o<r?o-=1:o+=1,new we(s,o)}detectSolid1(e){let n=e[0],r=e[1],s=e[3],o=e[2],l=this.transitionsBetween(n,r),u=this.transitionsBetween(r,s),f=this.transitionsBetween(s,o),d=this.transitionsBetween(o,n),w=l,E=[o,n,r,s];return w>u&&(w=u,E[0]=n,E[1]=r,E[2]=s,E[3]=o),w>f&&(w=f,E[0]=r,E[1]=s,E[2]=o,E[3]=n),w>d&&(E[0]=s,E[1]=o,E[2]=n,E[3]=r),E}detectSolid2(e){let n=e[0],r=e[1],s=e[2],o=e[3],l=this.transitionsBetween(n,o),u=Et.shiftPoint(r,s,(l+1)*4),f=Et.shiftPoint(s,r,(l+1)*4),d=this.transitionsBetween(u,n),w=this.transitionsBetween(f,o);return d<w?(e[0]=n,e[1]=r,e[2]=s,e[3]=o):(e[0]=r,e[1]=s,e[2]=o,e[3]=n),e}correctTopRight(e){let n=e[0],r=e[1],s=e[2],o=e[3],l=this.transitionsBetween(n,o),u=this.transitionsBetween(r,o),f=Et.shiftPoint(n,r,(u+1)*4),d=Et.shiftPoint(s,r,(l+1)*4);l=this.transitionsBetween(f,o),u=this.transitionsBetween(d,o);let w=new we(o.getX()+(s.getX()-r.getX())/(l+1),o.getY()+(s.getY()-r.getY())/(l+1)),E=new we(o.getX()+(n.getX()-r.getX())/(u+1),o.getY()+(n.getY()-r.getY())/(u+1));if(!this.isValid(w))return this.isValid(E)?E:null;if(!this.isValid(E))return w;let S=this.transitionsBetween(f,w)+this.transitionsBetween(d,w),_=this.transitionsBetween(f,E)+this.transitionsBetween(d,E);return S>_?w:E}shiftToModuleCenter(e){let n=e[0],r=e[1],s=e[2],o=e[3],l=this.transitionsBetween(n,o)+1,u=this.transitionsBetween(s,o)+1,f=Et.shiftPoint(n,r,u*4),d=Et.shiftPoint(s,r,l*4);l=this.transitionsBetween(f,o)+1,u=this.transitionsBetween(d,o)+1,(l&1)===1&&(l+=1),(u&1)===1&&(u+=1);let w=(n.getX()+r.getX()+s.getX()+o.getX())/4,E=(n.getY()+r.getY()+s.getY()+o.getY())/4;n=Et.moveAway(n,w,E),r=Et.moveAway(r,w,E),s=Et.moveAway(s,w,E),o=Et.moveAway(o,w,E);let S,_;return f=Et.shiftPoint(n,r,u*4),f=Et.shiftPoint(f,o,l*4),S=Et.shiftPoint(r,n,u*4),S=Et.shiftPoint(S,s,l*4),d=Et.shiftPoint(s,o,u*4),d=Et.shiftPoint(d,r,l*4),_=Et.shiftPoint(o,s,u*4),_=Et.shiftPoint(_,n,l*4),[f,S,d,_]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,n,r,s,o,l,u){return Vn.getInstance().sampleGrid(e,l,u,.5,.5,l-.5,.5,l-.5,u-.5,.5,u-.5,n.getX(),n.getY(),o.getX(),o.getY(),s.getX(),s.getY(),r.getX(),r.getY())}transitionsBetween(e,n){let r=Math.trunc(e.getX()),s=Math.trunc(e.getY()),o=Math.trunc(n.getX()),l=Math.trunc(n.getY()),u=Math.abs(l-s)>Math.abs(o-r);if(u){let k=r;r=s,s=k,k=o,o=l,l=k}let f=Math.abs(o-r),d=Math.abs(l-s),w=-f/2,E=s<l?1:-1,S=r<o?1:-1,_=0,D=this.image.get(u?s:r,u?r:s);for(let k=r,F=s;k!==o;k+=S){let G=this.image.get(u?F:k,u?k:F);if(G!==D&&(_++,D=G),w+=d,w>0){if(F===l)break;F+=E,w-=f}}return _}}class Hn{constructor(){this.decoder=new es}decode(e,n=null){let r,s;if(n!=null&&n.has(Ce.PURE_BARCODE)){const d=Hn.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(d),s=Hn.NO_POINTS}else{const d=new Et(e.getBlackMatrix()).detect();r=this.decoder.decode(d.getBits()),s=d.getPoints()}const o=r.getRawBytes(),l=new ke(r.getText(),o,8*o.length,s,ce.DATA_MATRIX,ae.currentTimeMillis()),u=r.getByteSegments();u!=null&&l.putMetadata(Ve.BYTE_SEGMENTS,u);const f=r.getECLevel();return f!=null&&l.putMetadata(Ve.ERROR_CORRECTION_LEVEL,f),l}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n==null||r==null)throw new Z;const s=this.moduleSize(n,e);let o=n[1];const l=r[1];let u=n[0];const d=(r[0]-u+1)/s,w=(l-o+1)/s;if(d<=0||w<=0)throw new Z;const E=s/2;o+=E,u+=E;const S=new ft(d,w);for(let _=0;_<w;_++){const D=o+_*s;for(let k=0;k<d;k++)e.get(u+k*s,D)&&S.set(k,_)}return S}static moduleSize(e,n){const r=n.getWidth();let s=e[0];const o=e[1];for(;s<r&&n.get(s,o);)s++;if(s===r)throw new Z;const l=s-e[0];if(l===0)throw new Z;return l}}Hn.NO_POINTS=[];class Ll extends je{constructor(e=500){super(new Hn,e)}}var Qr;(function(y){y[y.L=0]="L",y[y.M=1]="M",y[y.Q=2]="Q",y[y.H=3]="H"})(Qr||(Qr={}));class xt{constructor(e,n,r){this.value=e,this.stringValue=n,this.bits=r,xt.FOR_BITS.set(r,this),xt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return xt.L;case"M":return xt.M;case"Q":return xt.Q;case"H":return xt.H;default:throw new W(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof xt))return!1;const n=e;return this.value===n.value}static forBits(e){if(e<0||e>=xt.FOR_BITS.size)throw new M;return xt.FOR_BITS.get(e)}}xt.FOR_BITS=new Map,xt.FOR_VALUE=new Map,xt.L=new xt(Qr.L,"L",1),xt.M=new xt(Qr.M,"M",0),xt.Q=new xt(Qr.Q,"Q",3),xt.H=new xt(Qr.H,"H",2);class Jt{constructor(e){this.errorCorrectionLevel=xt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,n){return re.bitCount(e^n)}static decodeFormatInformation(e,n){const r=Jt.doDecodeFormatInformation(e,n);return r!==null?r:Jt.doDecodeFormatInformation(e^Jt.FORMAT_INFO_MASK_QR,n^Jt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,n){let r=Number.MAX_SAFE_INTEGER,s=0;for(const o of Jt.FORMAT_INFO_DECODE_LOOKUP){const l=o[0];if(l===e||l===n)return new Jt(o[1]);let u=Jt.numBitsDiffering(e,l);u<r&&(s=o[1],r=u),e!==n&&(u=Jt.numBitsDiffering(n,l),u<r&&(s=o[1],r=u))}return r<=3?new Jt(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Jt))return!1;const n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}Jt.FORMAT_INFO_MASK_QR=21522,Jt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class j{constructor(e,...n){this.ecCodewordsPerBlock=e,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const n=this.ecBlocks;for(const r of n)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class T{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Re{constructor(e,n,...r){this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=r;let s=0;const o=r[0].getECCodewordsPerBlock(),l=r[0].getECBlocks();for(const u of l)s+=u.getCount()*(u.getDataCodewords()+o);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new $;try{return this.getVersionForNumber((e-17)/4)}catch{throw new $}}static getVersionForNumber(e){if(e<1||e>40)throw new M;return Re.VERSIONS[e-1]}static decodeVersionInformation(e){let n=Number.MAX_SAFE_INTEGER,r=0;for(let s=0;s<Re.VERSION_DECODE_INFO.length;s++){const o=Re.VERSION_DECODE_INFO[s];if(o===e)return Re.getVersionForNumber(s+7);const l=Jt.numBitsDiffering(e,o);l<n&&(r=s+7,n=l)}return n<=3?Re.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),n=new ft(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let s=0;s<r;s++){const o=this.alignmentPatternCenters[s]-2;for(let l=0;l<r;l++)s===0&&(l===0||l===r-1)||s===r-1&&l===0||n.setRegion(this.alignmentPatternCenters[l]-2,o,5,5)}return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n}toString(){return""+this.versionNumber}}Re.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Re.VERSIONS=[new Re(1,new Int32Array(0),new j(7,new T(1,19)),new j(10,new T(1,16)),new j(13,new T(1,13)),new j(17,new T(1,9))),new Re(2,Int32Array.from([6,18]),new j(10,new T(1,34)),new j(16,new T(1,28)),new j(22,new T(1,22)),new j(28,new T(1,16))),new Re(3,Int32Array.from([6,22]),new j(15,new T(1,55)),new j(26,new T(1,44)),new j(18,new T(2,17)),new j(22,new T(2,13))),new Re(4,Int32Array.from([6,26]),new j(20,new T(1,80)),new j(18,new T(2,32)),new j(26,new T(2,24)),new j(16,new T(4,9))),new Re(5,Int32Array.from([6,30]),new j(26,new T(1,108)),new j(24,new T(2,43)),new j(18,new T(2,15),new T(2,16)),new j(22,new T(2,11),new T(2,12))),new Re(6,Int32Array.from([6,34]),new j(18,new T(2,68)),new j(16,new T(4,27)),new j(24,new T(4,19)),new j(28,new T(4,15))),new Re(7,Int32Array.from([6,22,38]),new j(20,new T(2,78)),new j(18,new T(4,31)),new j(18,new T(2,14),new T(4,15)),new j(26,new T(4,13),new T(1,14))),new Re(8,Int32Array.from([6,24,42]),new j(24,new T(2,97)),new j(22,new T(2,38),new T(2,39)),new j(22,new T(4,18),new T(2,19)),new j(26,new T(4,14),new T(2,15))),new Re(9,Int32Array.from([6,26,46]),new j(30,new T(2,116)),new j(22,new T(3,36),new T(2,37)),new j(20,new T(4,16),new T(4,17)),new j(24,new T(4,12),new T(4,13))),new Re(10,Int32Array.from([6,28,50]),new j(18,new T(2,68),new T(2,69)),new j(26,new T(4,43),new T(1,44)),new j(24,new T(6,19),new T(2,20)),new j(28,new T(6,15),new T(2,16))),new Re(11,Int32Array.from([6,30,54]),new j(20,new T(4,81)),new j(30,new T(1,50),new T(4,51)),new j(28,new T(4,22),new T(4,23)),new j(24,new T(3,12),new T(8,13))),new Re(12,Int32Array.from([6,32,58]),new j(24,new T(2,92),new T(2,93)),new j(22,new T(6,36),new T(2,37)),new j(26,new T(4,20),new T(6,21)),new j(28,new T(7,14),new T(4,15))),new Re(13,Int32Array.from([6,34,62]),new j(26,new T(4,107)),new j(22,new T(8,37),new T(1,38)),new j(24,new T(8,20),new T(4,21)),new j(22,new T(12,11),new T(4,12))),new Re(14,Int32Array.from([6,26,46,66]),new j(30,new T(3,115),new T(1,116)),new j(24,new T(4,40),new T(5,41)),new j(20,new T(11,16),new T(5,17)),new j(24,new T(11,12),new T(5,13))),new Re(15,Int32Array.from([6,26,48,70]),new j(22,new T(5,87),new T(1,88)),new j(24,new T(5,41),new T(5,42)),new j(30,new T(5,24),new T(7,25)),new j(24,new T(11,12),new T(7,13))),new Re(16,Int32Array.from([6,26,50,74]),new j(24,new T(5,98),new T(1,99)),new j(28,new T(7,45),new T(3,46)),new j(24,new T(15,19),new T(2,20)),new j(30,new T(3,15),new T(13,16))),new Re(17,Int32Array.from([6,30,54,78]),new j(28,new T(1,107),new T(5,108)),new j(28,new T(10,46),new T(1,47)),new j(28,new T(1,22),new T(15,23)),new j(28,new T(2,14),new T(17,15))),new Re(18,Int32Array.from([6,30,56,82]),new j(30,new T(5,120),new T(1,121)),new j(26,new T(9,43),new T(4,44)),new j(28,new T(17,22),new T(1,23)),new j(28,new T(2,14),new T(19,15))),new Re(19,Int32Array.from([6,30,58,86]),new j(28,new T(3,113),new T(4,114)),new j(26,new T(3,44),new T(11,45)),new j(26,new T(17,21),new T(4,22)),new j(26,new T(9,13),new T(16,14))),new Re(20,Int32Array.from([6,34,62,90]),new j(28,new T(3,107),new T(5,108)),new j(26,new T(3,41),new T(13,42)),new j(30,new T(15,24),new T(5,25)),new j(28,new T(15,15),new T(10,16))),new Re(21,Int32Array.from([6,28,50,72,94]),new j(28,new T(4,116),new T(4,117)),new j(26,new T(17,42)),new j(28,new T(17,22),new T(6,23)),new j(30,new T(19,16),new T(6,17))),new Re(22,Int32Array.from([6,26,50,74,98]),new j(28,new T(2,111),new T(7,112)),new j(28,new T(17,46)),new j(30,new T(7,24),new T(16,25)),new j(24,new T(34,13))),new Re(23,Int32Array.from([6,30,54,78,102]),new j(30,new T(4,121),new T(5,122)),new j(28,new T(4,47),new T(14,48)),new j(30,new T(11,24),new T(14,25)),new j(30,new T(16,15),new T(14,16))),new Re(24,Int32Array.from([6,28,54,80,106]),new j(30,new T(6,117),new T(4,118)),new j(28,new T(6,45),new T(14,46)),new j(30,new T(11,24),new T(16,25)),new j(30,new T(30,16),new T(2,17))),new Re(25,Int32Array.from([6,32,58,84,110]),new j(26,new T(8,106),new T(4,107)),new j(28,new T(8,47),new T(13,48)),new j(30,new T(7,24),new T(22,25)),new j(30,new T(22,15),new T(13,16))),new Re(26,Int32Array.from([6,30,58,86,114]),new j(28,new T(10,114),new T(2,115)),new j(28,new T(19,46),new T(4,47)),new j(28,new T(28,22),new T(6,23)),new j(30,new T(33,16),new T(4,17))),new Re(27,Int32Array.from([6,34,62,90,118]),new j(30,new T(8,122),new T(4,123)),new j(28,new T(22,45),new T(3,46)),new j(30,new T(8,23),new T(26,24)),new j(30,new T(12,15),new T(28,16))),new Re(28,Int32Array.from([6,26,50,74,98,122]),new j(30,new T(3,117),new T(10,118)),new j(28,new T(3,45),new T(23,46)),new j(30,new T(4,24),new T(31,25)),new j(30,new T(11,15),new T(31,16))),new Re(29,Int32Array.from([6,30,54,78,102,126]),new j(30,new T(7,116),new T(7,117)),new j(28,new T(21,45),new T(7,46)),new j(30,new T(1,23),new T(37,24)),new j(30,new T(19,15),new T(26,16))),new Re(30,Int32Array.from([6,26,52,78,104,130]),new j(30,new T(5,115),new T(10,116)),new j(28,new T(19,47),new T(10,48)),new j(30,new T(15,24),new T(25,25)),new j(30,new T(23,15),new T(25,16))),new Re(31,Int32Array.from([6,30,56,82,108,134]),new j(30,new T(13,115),new T(3,116)),new j(28,new T(2,46),new T(29,47)),new j(30,new T(42,24),new T(1,25)),new j(30,new T(23,15),new T(28,16))),new Re(32,Int32Array.from([6,34,60,86,112,138]),new j(30,new T(17,115)),new j(28,new T(10,46),new T(23,47)),new j(30,new T(10,24),new T(35,25)),new j(30,new T(19,15),new T(35,16))),new Re(33,Int32Array.from([6,30,58,86,114,142]),new j(30,new T(17,115),new T(1,116)),new j(28,new T(14,46),new T(21,47)),new j(30,new T(29,24),new T(19,25)),new j(30,new T(11,15),new T(46,16))),new Re(34,Int32Array.from([6,34,62,90,118,146]),new j(30,new T(13,115),new T(6,116)),new j(28,new T(14,46),new T(23,47)),new j(30,new T(44,24),new T(7,25)),new j(30,new T(59,16),new T(1,17))),new Re(35,Int32Array.from([6,30,54,78,102,126,150]),new j(30,new T(12,121),new T(7,122)),new j(28,new T(12,47),new T(26,48)),new j(30,new T(39,24),new T(14,25)),new j(30,new T(22,15),new T(41,16))),new Re(36,Int32Array.from([6,24,50,76,102,128,154]),new j(30,new T(6,121),new T(14,122)),new j(28,new T(6,47),new T(34,48)),new j(30,new T(46,24),new T(10,25)),new j(30,new T(2,15),new T(64,16))),new Re(37,Int32Array.from([6,28,54,80,106,132,158]),new j(30,new T(17,122),new T(4,123)),new j(28,new T(29,46),new T(14,47)),new j(30,new T(49,24),new T(10,25)),new j(30,new T(24,15),new T(46,16))),new Re(38,Int32Array.from([6,32,58,84,110,136,162]),new j(30,new T(4,122),new T(18,123)),new j(28,new T(13,46),new T(32,47)),new j(30,new T(48,24),new T(14,25)),new j(30,new T(42,15),new T(32,16))),new Re(39,Int32Array.from([6,26,54,82,110,138,166]),new j(30,new T(20,117),new T(4,118)),new j(28,new T(40,47),new T(7,48)),new j(30,new T(43,24),new T(22,25)),new j(30,new T(10,15),new T(67,16))),new Re(40,Int32Array.from([6,30,58,86,114,142,170]),new j(30,new T(19,118),new T(6,119)),new j(28,new T(18,47),new T(31,48)),new j(30,new T(34,24),new T(34,25)),new j(30,new T(20,15),new T(61,16)))];var Bt;(function(y){y[y.DATA_MASK_000=0]="DATA_MASK_000",y[y.DATA_MASK_001=1]="DATA_MASK_001",y[y.DATA_MASK_010=2]="DATA_MASK_010",y[y.DATA_MASK_011=3]="DATA_MASK_011",y[y.DATA_MASK_100=4]="DATA_MASK_100",y[y.DATA_MASK_101=5]="DATA_MASK_101",y[y.DATA_MASK_110=6]="DATA_MASK_110",y[y.DATA_MASK_111=7]="DATA_MASK_111"})(Bt||(Bt={}));class Ze{constructor(e,n){this.value=e,this.isMasked=n}unmaskBitMatrix(e,n){for(let r=0;r<n;r++)for(let s=0;s<n;s++)this.isMasked(r,s)&&e.flip(s,r)}}Ze.values=new Map([[Bt.DATA_MASK_000,new Ze(Bt.DATA_MASK_000,(y,e)=>(y+e&1)===0)],[Bt.DATA_MASK_001,new Ze(Bt.DATA_MASK_001,(y,e)=>(y&1)===0)],[Bt.DATA_MASK_010,new Ze(Bt.DATA_MASK_010,(y,e)=>e%3===0)],[Bt.DATA_MASK_011,new Ze(Bt.DATA_MASK_011,(y,e)=>(y+e)%3===0)],[Bt.DATA_MASK_100,new Ze(Bt.DATA_MASK_100,(y,e)=>(Math.floor(y/2)+Math.floor(e/3)&1)===0)],[Bt.DATA_MASK_101,new Ze(Bt.DATA_MASK_101,(y,e)=>y*e%6===0)],[Bt.DATA_MASK_110,new Ze(Bt.DATA_MASK_110,(y,e)=>y*e%6<3)],[Bt.DATA_MASK_111,new Ze(Bt.DATA_MASK_111,(y,e)=>(y+e+y*e%3&1)===0)]]);class To{constructor(e){const n=e.getHeight();if(n<21||(n&3)!==1)throw new $;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let o=0;o<6;o++)e=this.copyBit(o,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let o=5;o>=0;o--)e=this.copyBit(8,o,e);const n=this.bitMatrix.getHeight();let r=0;const s=n-7;for(let o=n-1;o>=s;o--)r=this.copyBit(8,o,r);for(let o=n-8;o<n;o++)r=this.copyBit(o,8,r);if(this.parsedFormatInfo=Jt.decodeFormatInformation(e,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new $}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return Re.getVersionForNumber(n);let r=0;const s=e-11;for(let l=5;l>=0;l--)for(let u=e-9;u>=s;u--)r=this.copyBit(u,l,r);let o=Re.decodeVersionInformation(r);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;r=0;for(let l=5;l>=0;l--)for(let u=e-9;u>=s;u--)r=this.copyBit(l,u,r);if(o=Re.decodeVersionInformation(r),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new $}copyBit(e,n,r){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),n=this.readVersion(),r=Ze.values.get(e.getDataMask()),s=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,s);const o=n.buildFunctionPattern();let l=!0;const u=new Uint8Array(n.getTotalCodewords());let f=0,d=0,w=0;for(let E=s-1;E>0;E-=2){E===6&&E--;for(let S=0;S<s;S++){const _=l?s-1-S:S;for(let D=0;D<2;D++)o.get(E-D,_)||(w++,d<<=1,this.bitMatrix.get(E-D,_)&&(d|=1),w===8&&(u[f++]=d,w=0,d=0))}l=!l}if(f!==n.getTotalCodewords())throw new $;return u}remask(){if(this.parsedFormatInfo===null)return;const e=Ze.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let n=0,r=e.getWidth();n<r;n++)for(let s=n+1,o=e.getHeight();s<o;s++)e.get(n,s)!==e.get(s,n)&&(e.flip(s,n),e.flip(n,s))}}class ts{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n,r){if(e.length!==n.getTotalCodewords())throw new M;const s=n.getECBlocksForLevel(r);let o=0;const l=s.getECBlocks();for(const D of l)o+=D.getCount();const u=new Array(o);let f=0;for(const D of l)for(let k=0;k<D.getCount();k++){const F=D.getDataCodewords(),G=s.getECCodewordsPerBlock()+F;u[f++]=new ts(F,new Uint8Array(G))}const d=u[0].codewords.length;let w=u.length-1;for(;w>=0&&u[w].codewords.length!==d;)w--;w++;const E=d-s.getECCodewordsPerBlock();let S=0;for(let D=0;D<E;D++)for(let k=0;k<f;k++)u[k].codewords[D]=e[S++];for(let D=w;D<f;D++)u[D].codewords[E]=e[S++];const _=u[0].codewords.length;for(let D=E;D<_;D++)for(let k=0;k<f;k++){const F=k<w?D:D+1;u[k].codewords[F]=e[S++]}return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var En;(function(y){y[y.TERMINATOR=0]="TERMINATOR",y[y.NUMERIC=1]="NUMERIC",y[y.ALPHANUMERIC=2]="ALPHANUMERIC",y[y.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",y[y.BYTE=4]="BYTE",y[y.ECI=5]="ECI",y[y.KANJI=6]="KANJI",y[y.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",y[y.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",y[y.HANZI=9]="HANZI"})(En||(En={}));class De{constructor(e,n,r,s){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=s,De.FOR_BITS.set(s,this),De.FOR_VALUE.set(e,this)}static forBits(e){const n=De.FOR_BITS.get(e);if(n===void 0)throw new M;return n}getCharacterCountBits(e){const n=e.getVersionNumber();let r;return n<=9?r=0:n<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof De))return!1;const n=e;return this.value===n.value}toString(){return this.stringValue}}De.FOR_BITS=new Map,De.FOR_VALUE=new Map,De.TERMINATOR=new De(En.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),De.NUMERIC=new De(En.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),De.ALPHANUMERIC=new De(En.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),De.STRUCTURED_APPEND=new De(En.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),De.BYTE=new De(En.BYTE,"BYTE",Int32Array.from([8,16,16]),4),De.ECI=new De(En.ECI,"ECI",Int32Array.from([0,0,0]),7),De.KANJI=new De(En.KANJI,"KANJI",Int32Array.from([8,10,12]),8),De.FNC1_FIRST_POSITION=new De(En.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),De.FNC1_SECOND_POSITION=new De(En.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),De.HANZI=new De(En.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class vt{static decode(e,n,r,s){const o=new Bs(e);let l=new Xe;const u=new Array;let f=-1,d=-1;try{let w=null,E=!1,S;do{if(o.available()<4)S=De.TERMINATOR;else{const _=o.readBits(4);S=De.forBits(_)}switch(S){case De.TERMINATOR:break;case De.FNC1_FIRST_POSITION:case De.FNC1_SECOND_POSITION:E=!0;break;case De.STRUCTURED_APPEND:if(o.available()<16)throw new $;f=o.readBits(8),d=o.readBits(8);break;case De.ECI:const _=vt.parseECIValue(o);if(w=ie.getCharacterSetECIByValue(_),w===null)throw new $;break;case De.HANZI:const D=o.readBits(4),k=o.readBits(S.getCharacterCountBits(n));D===vt.GB2312_SUBSET&&vt.decodeHanziSegment(o,l,k);break;default:const F=o.readBits(S.getCharacterCountBits(n));switch(S){case De.NUMERIC:vt.decodeNumericSegment(o,l,F);break;case De.ALPHANUMERIC:vt.decodeAlphanumericSegment(o,l,F,E);break;case De.BYTE:vt.decodeByteSegment(o,l,F,w,u,s);break;case De.KANJI:vt.decodeKanjiSegment(o,l,F);break;default:throw new $}break}}while(S!==De.TERMINATOR)}catch{throw new $}return new ht(e,l.toString(),u.length===0?null:u,r===null?null:r.toString(),f,d)}static decodeHanziSegment(e,n,r){if(r*13>e.available())throw new $;const s=new Uint8Array(2*r);let o=0;for(;r>0;){const l=e.readBits(13);let u=l/96<<8&4294967295|l%96;u<959?u+=41377:u+=42657,s[o]=u>>8&255,s[o+1]=u&255,o+=2,r--}try{n.append(Pt.decode(s,Oe.GB2312))}catch(l){throw new $(l)}}static decodeKanjiSegment(e,n,r){if(r*13>e.available())throw new $;const s=new Uint8Array(2*r);let o=0;for(;r>0;){const l=e.readBits(13);let u=l/192<<8&4294967295|l%192;u<7936?u+=33088:u+=49472,s[o]=u>>8,s[o+1]=u,o+=2,r--}try{n.append(Pt.decode(s,Oe.SHIFT_JIS))}catch(l){throw new $(l)}}static decodeByteSegment(e,n,r,s,o,l){if(8*r>e.available())throw new $;const u=new Uint8Array(r);for(let d=0;d<r;d++)u[d]=e.readBits(8);let f;s===null?f=Oe.guessEncoding(u,l):f=s.getName();try{n.append(Pt.decode(u,f))}catch(d){throw new $(d)}o.push(u)}static toAlphaNumericChar(e){if(e>=vt.ALPHANUMERIC_CHARS.length)throw new $;return vt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,n,r,s){const o=n.length();for(;r>1;){if(e.available()<11)throw new $;const l=e.readBits(11);n.append(vt.toAlphaNumericChar(Math.floor(l/45))),n.append(vt.toAlphaNumericChar(l%45)),r-=2}if(r===1){if(e.available()<6)throw new $;n.append(vt.toAlphaNumericChar(e.readBits(6)))}if(s)for(let l=o;l<n.length();l++)n.charAt(l)==="%"&&(l<n.length()-1&&n.charAt(l+1)==="%"?n.deleteCharAt(l+1):n.setCharAt(l,""))}static decodeNumericSegment(e,n,r){for(;r>=3;){if(e.available()<10)throw new $;const s=e.readBits(10);if(s>=1e3)throw new $;n.append(vt.toAlphaNumericChar(Math.floor(s/100))),n.append(vt.toAlphaNumericChar(Math.floor(s/10)%10)),n.append(vt.toAlphaNumericChar(s%10)),r-=3}if(r===2){if(e.available()<7)throw new $;const s=e.readBits(7);if(s>=100)throw new $;n.append(vt.toAlphaNumericChar(Math.floor(s/10))),n.append(vt.toAlphaNumericChar(s%10))}else if(r===1){if(e.available()<4)throw new $;const s=e.readBits(4);if(s>=10)throw new $;n.append(vt.toAlphaNumericChar(s))}}static parseECIValue(e){const n=e.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){const r=e.readBits(8);return(n&63)<<8&4294967295|r}if((n&224)===192){const r=e.readBits(16);return(n&31)<<16&4294967295|r}throw new $}}vt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",vt.GB2312_SUBSET=1;class Ls{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const n=e[0];e[0]=e[2],e[2]=n}}class Fs{constructor(){this.rsDecoder=new Gr(tt.QR_CODE_FIELD_256)}decodeBooleanArray(e,n){return this.decodeBitMatrix(ft.parseFromBooleanArray(e),n)}decodeBitMatrix(e,n){const r=new To(e);let s=null;try{return this.decodeBitMatrixParser(r,n)}catch(o){s=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const o=this.decodeBitMatrixParser(r,n);return o.setOther(new Ls(!0)),o}catch(o){throw s!==null?s:o}}decodeBitMatrixParser(e,n){const r=e.readVersion(),s=e.readFormatInformation().getErrorCorrectionLevel(),o=e.readCodewords(),l=ts.getDataBlocks(o,r,s);let u=0;for(const w of l)u+=w.getNumDataCodewords();const f=new Uint8Array(u);let d=0;for(const w of l){const E=w.getCodewords(),S=w.getNumDataCodewords();this.correctErrors(E,S);for(let _=0;_<S;_++)f[d++]=E[_]}return vt.decode(f,r,s,n)}correctErrors(e,n){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new xe}for(let s=0;s<n;s++)e[s]=r[s]}}class qr extends we{constructor(e,n,r){super(e,n),this.estimatedModuleSize=r}aboutEquals(e,n,r){if(Math.abs(n-this.getY())<=e&&Math.abs(r-this.getX())<=e){const s=Math.abs(e-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(e,n,r){const s=(this.getX()+n)/2,o=(this.getY()+e)/2,l=(this.estimatedModuleSize+r)/2;return new qr(s,o,l)}}class Gn{constructor(e,n,r,s,o,l,u){this.image=e,this.startX=n,this.startY=r,this.width=s,this.height=o,this.moduleSize=l,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,n=this.height,r=this.width,s=e+r,o=this.startY+n/2,l=new Int32Array(3),u=this.image;for(let f=0;f<n;f++){const d=o+((f&1)===0?Math.floor((f+1)/2):-Math.floor((f+1)/2));l[0]=0,l[1]=0,l[2]=0;let w=e;for(;w<s&&!u.get(w,d);)w++;let E=0;for(;w<s;){if(u.get(w,d))if(E===1)l[1]++;else if(E===2){if(this.foundPatternCross(l)){const S=this.handlePossibleCenter(l,d,w);if(S!==null)return S}l[0]=l[2],l[1]=1,l[2]=0,E=1}else l[++E]++;else E===1&&E++,l[E]++;w++}if(this.foundPatternCross(l)){const S=this.handlePossibleCenter(l,d,s);if(S!==null)return S}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Z}static centerFromEnd(e,n){return n-e[2]-e[1]/2}foundPatternCross(e){const n=this.moduleSize,r=n/2;for(let s=0;s<3;s++)if(Math.abs(n-e[s])>=r)return!1;return!0}crossCheckVertical(e,n,r,s){const o=this.image,l=o.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;let f=e;for(;f>=0&&o.get(n,f)&&u[1]<=r;)u[1]++,f--;if(f<0||u[1]>r)return NaN;for(;f>=0&&!o.get(n,f)&&u[0]<=r;)u[0]++,f--;if(u[0]>r)return NaN;for(f=e+1;f<l&&o.get(n,f)&&u[1]<=r;)u[1]++,f++;if(f===l||u[1]>r)return NaN;for(;f<l&&!o.get(n,f)&&u[2]<=r;)u[2]++,f++;if(u[2]>r)return NaN;const d=u[0]+u[1]+u[2];return 5*Math.abs(d-s)>=2*s?NaN:this.foundPatternCross(u)?Gn.centerFromEnd(u,f):NaN}handlePossibleCenter(e,n,r){const s=e[0]+e[1]+e[2],o=Gn.centerFromEnd(e,r),l=this.crossCheckVertical(n,o,2*e[1],s);if(!isNaN(l)){const u=(e[0]+e[1]+e[2])/3;for(const d of this.possibleCenters)if(d.aboutEquals(u,l,o))return d.combineEstimate(l,o,u);const f=new qr(o,l,u);this.possibleCenters.push(f),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(f)}return null}}class tr extends we{constructor(e,n,r,s){super(e,n),this.estimatedModuleSize=r,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,n,r){if(Math.abs(n-this.getY())<=e&&Math.abs(r-this.getX())<=e){const s=Math.abs(e-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(e,n,r){const s=this.count+1,o=(this.count*this.getX()+n)/s,l=(this.count*this.getY()+e)/s,u=(this.count*this.estimatedModuleSize+r)/s;return new tr(o,l,u,s)}}class vr{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Rt{constructor(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const n=e!=null&&e.get(Ce.TRY_HARDER)!==void 0,r=e!=null&&e.get(Ce.PURE_BARCODE)!==void 0,s=this.image,o=s.getHeight(),l=s.getWidth();let u=Math.floor(3*o/(4*Rt.MAX_MODULES));(u<Rt.MIN_SKIP||n)&&(u=Rt.MIN_SKIP);let f=!1;const d=new Int32Array(5);for(let E=u-1;E<o&&!f;E+=u){d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0;let S=0;for(let _=0;_<l;_++)if(s.get(_,E))(S&1)===1&&S++,d[S]++;else if((S&1)===0)if(S===4)if(Rt.foundPatternCross(d)){if(this.handlePossibleCenter(d,E,_,r)===!0)if(u=2,this.hasSkipped===!0)f=this.haveMultiplyConfirmedCenters();else{const k=this.findRowSkip();k>d[2]&&(E+=k-d[2]-u,_=l-1)}else{d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,S=3;continue}S=0,d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0}else d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,S=3;else d[++S]++;else d[S]++;Rt.foundPatternCross(d)&&this.handlePossibleCenter(d,E,l,r)===!0&&(u=d[0],this.hasSkipped&&(f=this.haveMultiplyConfirmedCenters()))}const w=this.selectBestPatterns();return we.orderBestPatterns(w),new vr(w)}static centerFromEnd(e,n){return n-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let n=0;for(let o=0;o<5;o++){const l=e[o];if(l===0)return!1;n+=l}if(n<7)return!1;const r=n/7,s=r/2;return Math.abs(r-e[0])<s&&Math.abs(r-e[1])<s&&Math.abs(3*r-e[2])<3*s&&Math.abs(r-e[3])<s&&Math.abs(r-e[4])<s}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,n,r,s){const o=this.getCrossCheckStateCount();let l=0;const u=this.image;for(;e>=l&&n>=l&&u.get(n-l,e-l);)o[2]++,l++;if(e<l||n<l)return!1;for(;e>=l&&n>=l&&!u.get(n-l,e-l)&&o[1]<=r;)o[1]++,l++;if(e<l||n<l||o[1]>r)return!1;for(;e>=l&&n>=l&&u.get(n-l,e-l)&&o[0]<=r;)o[0]++,l++;if(o[0]>r)return!1;const f=u.getHeight(),d=u.getWidth();for(l=1;e+l<f&&n+l<d&&u.get(n+l,e+l);)o[2]++,l++;if(e+l>=f||n+l>=d)return!1;for(;e+l<f&&n+l<d&&!u.get(n+l,e+l)&&o[3]<r;)o[3]++,l++;if(e+l>=f||n+l>=d||o[3]>=r)return!1;for(;e+l<f&&n+l<d&&u.get(n+l,e+l)&&o[4]<r;)o[4]++,l++;if(o[4]>=r)return!1;const w=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(w-s)<2*s&&Rt.foundPatternCross(o)}crossCheckVertical(e,n,r,s){const o=this.image,l=o.getHeight(),u=this.getCrossCheckStateCount();let f=e;for(;f>=0&&o.get(n,f);)u[2]++,f--;if(f<0)return NaN;for(;f>=0&&!o.get(n,f)&&u[1]<=r;)u[1]++,f--;if(f<0||u[1]>r)return NaN;for(;f>=0&&o.get(n,f)&&u[0]<=r;)u[0]++,f--;if(u[0]>r)return NaN;for(f=e+1;f<l&&o.get(n,f);)u[2]++,f++;if(f===l)return NaN;for(;f<l&&!o.get(n,f)&&u[3]<r;)u[3]++,f++;if(f===l||u[3]>=r)return NaN;for(;f<l&&o.get(n,f)&&u[4]<r;)u[4]++,f++;if(u[4]>=r)return NaN;const d=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(d-s)>=2*s?NaN:Rt.foundPatternCross(u)?Rt.centerFromEnd(u,f):NaN}crossCheckHorizontal(e,n,r,s){const o=this.image,l=o.getWidth(),u=this.getCrossCheckStateCount();let f=e;for(;f>=0&&o.get(f,n);)u[2]++,f--;if(f<0)return NaN;for(;f>=0&&!o.get(f,n)&&u[1]<=r;)u[1]++,f--;if(f<0||u[1]>r)return NaN;for(;f>=0&&o.get(f,n)&&u[0]<=r;)u[0]++,f--;if(u[0]>r)return NaN;for(f=e+1;f<l&&o.get(f,n);)u[2]++,f++;if(f===l)return NaN;for(;f<l&&!o.get(f,n)&&u[3]<r;)u[3]++,f++;if(f===l||u[3]>=r)return NaN;for(;f<l&&o.get(f,n)&&u[4]<r;)u[4]++,f++;if(u[4]>=r)return NaN;const d=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(d-s)>=s?NaN:Rt.foundPatternCross(u)?Rt.centerFromEnd(u,f):NaN}handlePossibleCenter(e,n,r,s){const o=e[0]+e[1]+e[2]+e[3]+e[4];let l=Rt.centerFromEnd(e,r),u=this.crossCheckVertical(n,Math.floor(l),e[2],o);if(!isNaN(u)&&(l=this.crossCheckHorizontal(Math.floor(l),Math.floor(u),e[2],o),!isNaN(l)&&(!s||this.crossCheckDiagonal(Math.floor(u),Math.floor(l),e[2],o)))){const f=o/7;let d=!1;const w=this.possibleCenters;for(let E=0,S=w.length;E<S;E++){const _=w[E];if(_.aboutEquals(f,u,l)){w[E]=_.combineEstimate(u,l,f),d=!0;break}}if(!d){const E=new tr(l,u,f);w.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const r of this.possibleCenters)if(r.getCount()>=Rt.CENTER_QUORUM)if(n==null)n=r;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-r.getX())-Math.abs(n.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,n=0;const r=this.possibleCenters.length;for(const l of this.possibleCenters)l.getCount()>=Rt.CENTER_QUORUM&&(e++,n+=l.getEstimatedModuleSize());if(e<3)return!1;const s=n/r;let o=0;for(const l of this.possibleCenters)o+=Math.abs(l.getEstimatedModuleSize()-s);return o<=.05*n}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new Z;const n=this.possibleCenters;let r;if(e>3){let s=0,o=0;for(const f of this.possibleCenters){const d=f.getEstimatedModuleSize();s+=d,o+=d*d}r=s/e;let l=Math.sqrt(o/e-r*r);n.sort((f,d)=>{const w=Math.abs(d.getEstimatedModuleSize()-r),E=Math.abs(f.getEstimatedModuleSize()-r);return w<E?-1:w>E?1:0});const u=Math.max(.2*r,l);for(let f=0;f<n.length&&n.length>3;f++){const d=n[f];Math.abs(d.getEstimatedModuleSize()-r)>u&&(n.splice(f,1),f--)}}if(n.length>3){let s=0;for(const o of n)s+=o.getEstimatedModuleSize();r=s/n.length,n.sort((o,l)=>{if(l.getCount()===o.getCount()){const u=Math.abs(l.getEstimatedModuleSize()-r),f=Math.abs(o.getEstimatedModuleSize()-r);return u<f?1:u>f?-1:0}else return l.getCount()-o.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}Rt.CENTER_QUORUM=2,Rt.MIN_SKIP=3,Rt.MAX_MODULES=57;class cr{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(Ce.NEED_RESULT_POINT_CALLBACK);const r=new Rt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(r)}processFinderPatternInfo(e){const n=e.getTopLeft(),r=e.getTopRight(),s=e.getBottomLeft(),o=this.calculateModuleSize(n,r,s);if(o<1)throw new Z("No pattern found in proccess finder.");const l=cr.computeDimension(n,r,s,o),u=Re.getProvisionalVersionForDimension(l),f=u.getDimensionForVersion()-7;let d=null;if(u.getAlignmentPatternCenters().length>0){const _=r.getX()-n.getX()+s.getX(),D=r.getY()-n.getY()+s.getY(),k=1-3/f,F=Math.floor(n.getX()+k*(_-n.getX())),G=Math.floor(n.getY()+k*(D-n.getY()));for(let ne=4;ne<=16;ne<<=1)try{d=this.findAlignmentInRegion(o,F,G,ne);break}catch(se){if(!(se instanceof Z))throw se}}const w=cr.createTransform(n,r,s,d,l),E=cr.sampleGrid(this.image,w,l);let S;return d===null?S=[s,n,r]:S=[s,n,r,d],new Xr(E,S)}static createTransform(e,n,r,s,o){const l=o-3.5;let u,f,d,w;return s!==null?(u=s.getX(),f=s.getY(),d=l-3,w=d):(u=n.getX()-e.getX()+r.getX(),f=n.getY()-e.getY()+r.getY(),d=l,w=l),Rn.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,d,w,3.5,l,e.getX(),e.getY(),n.getX(),n.getY(),u,f,r.getX(),r.getY())}static sampleGrid(e,n,r){return Vn.getInstance().sampleGridWithTransform(e,r,r,n)}static computeDimension(e,n,r,s){const o=Je.round(we.distance(e,n)/s),l=Je.round(we.distance(e,r)/s);let u=Math.floor((o+l)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new Z("Dimensions could be not found.")}return u}calculateModuleSize(e,n,r){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,n){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?s/7:isNaN(s)?r/7:(r+s)/14}sizeOfBlackWhiteBlackRunBothWays(e,n,r,s){let o=this.sizeOfBlackWhiteBlackRun(e,n,r,s),l=1,u=e-(r-e);u<0?(l=e/(e-u),u=0):u>=this.image.getWidth()&&(l=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);let f=Math.floor(n-(s-n)*l);return l=1,f<0?(l=n/(n-f),f=0):f>=this.image.getHeight()&&(l=(this.image.getHeight()-1-n)/(f-n),f=this.image.getHeight()-1),u=Math.floor(e+(u-e)*l),o+=this.sizeOfBlackWhiteBlackRun(e,n,u,f),o-1}sizeOfBlackWhiteBlackRun(e,n,r,s){const o=Math.abs(s-n)>Math.abs(r-e);if(o){let _=e;e=n,n=_,_=r,r=s,s=_}const l=Math.abs(r-e),u=Math.abs(s-n);let f=-l/2;const d=e<r?1:-1,w=n<s?1:-1;let E=0;const S=r+d;for(let _=e,D=n;_!==S;_+=d){const k=o?D:_,F=o?_:D;if(E===1===this.image.get(k,F)){if(E===2)return Je.distance(_,D,e,n);E++}if(f+=u,f>0){if(D===s)break;D+=w,f-=l}}return E===2?Je.distance(r+d,s,e,n):NaN}findAlignmentInRegion(e,n,r,s){const o=Math.floor(s*e),l=Math.max(0,n-o),u=Math.min(this.image.getWidth()-1,n+o);if(u-l<e*3)throw new Z("Alignment top exceeds estimated module size.");const f=Math.max(0,r-o),d=Math.min(this.image.getHeight()-1,r+o);if(d-f<e*3)throw new Z("Alignment bottom exceeds estimated module size.");return new Gn(this.image,l,f,u-l,d-f,e,this.resultPointCallback).find()}}class dn{constructor(){this.decoder=new Fs}getDecoder(){return this.decoder}decode(e,n){let r,s;if(n!=null&&n.get(Ce.PURE_BARCODE)!==void 0){const f=dn.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(f,n),s=dn.NO_POINTS}else{const f=new cr(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(f.getBits(),n),s=f.getPoints()}r.getOther()instanceof Ls&&r.getOther().applyMirroredCorrection(s);const o=new ke(r.getText(),r.getRawBytes(),void 0,s,ce.QR_CODE,void 0),l=r.getByteSegments();l!==null&&o.putMetadata(Ve.BYTE_SEGMENTS,l);const u=r.getECLevel();return u!==null&&o.putMetadata(Ve.ERROR_CORRECTION_LEVEL,u),r.hasStructuredAppend()&&(o.putMetadata(Ve.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),o.putMetadata(Ve.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),o}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n===null||r===null)throw new Z;const s=this.moduleSize(n,e);let o=n[1],l=r[1],u=n[0],f=r[0];if(u>=f||o>=l)throw new Z;if(l-o!==f-u&&(f=u+(l-o),f>=e.getWidth()))throw new Z;const d=Math.round((f-u+1)/s),w=Math.round((l-o+1)/s);if(d<=0||w<=0)throw new Z;if(w!==d)throw new Z;const E=Math.floor(s/2);o+=E,u+=E;const S=u+Math.floor((d-1)*s)-f;if(S>0){if(S>E)throw new Z;u-=S}const _=o+Math.floor((w-1)*s)-l;if(_>0){if(_>E)throw new Z;o-=_}const D=new ft(d,w);for(let k=0;k<w;k++){const F=o+Math.floor(k*s);for(let G=0;G<d;G++)e.get(u+Math.floor(G*s),F)&&D.set(G,k)}return D}static moduleSize(e,n){const r=n.getHeight(),s=n.getWidth();let o=e[0],l=e[1],u=!0,f=0;for(;o<s&&l<r;){if(u!==n.get(o,l)){if(++f===5)break;u=!u}o++,l++}if(o===s||l===r)throw new Z;return(o-e[0])/7}}dn.NO_POINTS=new Array;class Fe{PDF417Common(){}static getBitCountSum(e){return Je.sum(e)}static toIntArray(e){if(e==null||!e.length)return Fe.EMPTY_INT_ARRAY;const n=new Int32Array(e.length);let r=0;for(const s of e)n[r++]=s;return n}static getCodeword(e){const n=Te.binarySearch(Fe.SYMBOL_TABLE,e&262143);return n<0?-1:(Fe.CODEWORD_TABLE[n]-1)%Fe.NUMBER_OF_CODEWORDS}}Fe.NUMBER_OF_CODEWORDS=929,Fe.MAX_CODEWORDS_IN_BARCODE=Fe.NUMBER_OF_CODEWORDS-1,Fe.MIN_ROWS_IN_BARCODE=3,Fe.MAX_ROWS_IN_BARCODE=90,Fe.MODULES_IN_CODEWORD=17,Fe.MODULES_IN_STOP_PATTERN=18,Fe.BARS_IN_MODULE=8,Fe.EMPTY_INT_ARRAY=new Int32Array([]),Fe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Fe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class _o{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class We{static detectMultiple(e,n,r){let s=e.getBlackMatrix(),o=We.detect(r,s);return o.length||(s=s.clone(),s.rotate180(),o=We.detect(r,s)),new _o(s,o)}static detect(e,n){const r=new Array;let s=0,o=0,l=!1;for(;s<n.getHeight();){const u=We.findVertices(n,s,o);if(u[0]==null&&u[3]==null){if(!l)break;l=!1,o=0;for(const f of r)f[1]!=null&&(s=Math.trunc(Math.max(s,f[1].getY()))),f[3]!=null&&(s=Math.max(s,Math.trunc(f[3].getY())));s+=We.ROW_STEP;continue}if(l=!0,r.push(u),!e)break;u[2]!=null?(o=Math.trunc(u[2].getX()),s=Math.trunc(u[2].getY())):(o=Math.trunc(u[4].getX()),s=Math.trunc(u[4].getY()))}return r}static findVertices(e,n,r){const s=e.getHeight(),o=e.getWidth(),l=new Array(8);return We.copyToResult(l,We.findRowsWithPattern(e,s,o,n,r,We.START_PATTERN),We.INDEXES_START_PATTERN),l[4]!=null&&(r=Math.trunc(l[4].getX()),n=Math.trunc(l[4].getY())),We.copyToResult(l,We.findRowsWithPattern(e,s,o,n,r,We.STOP_PATTERN),We.INDEXES_STOP_PATTERN),l}static copyToResult(e,n,r){for(let s=0;s<r.length;s++)e[r[s]]=n[s]}static findRowsWithPattern(e,n,r,s,o,l){const u=new Array(4);let f=!1;const d=new Int32Array(l.length);for(;s<n;s+=We.ROW_STEP){let E=We.findGuardPattern(e,o,s,r,!1,l,d);if(E!=null){for(;s>0;){const S=We.findGuardPattern(e,o,--s,r,!1,l,d);if(S!=null)E=S;else{s++;break}}u[0]=new we(E[0],s),u[1]=new we(E[1],s),f=!0;break}}let w=s+1;if(f){let E=0,S=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);for(;w<n;w++){const _=We.findGuardPattern(e,S[0],w,r,!1,l,d);if(_!=null&&Math.abs(S[0]-_[0])<We.MAX_PATTERN_DRIFT&&Math.abs(S[1]-_[1])<We.MAX_PATTERN_DRIFT)S=_,E=0;else{if(E>We.SKIPPED_ROW_COUNT_MAX)break;E++}}w-=E+1,u[2]=new we(S[0],w),u[3]=new we(S[1],w)}return w-s<We.BARCODE_MIN_HEIGHT&&Te.fill(u,null),u}static findGuardPattern(e,n,r,s,o,l,u){Te.fillWithin(u,0,u.length,0);let f=n,d=0;for(;e.get(f,r)&&f>0&&d++<We.MAX_PIXEL_DRIFT;)f--;let w=f,E=0,S=l.length;for(let _=o;w<s;w++)if(e.get(w,r)!==_)u[E]++;else{if(E===S-1){if(We.patternMatchVariance(u,l,We.MAX_INDIVIDUAL_VARIANCE)<We.MAX_AVG_VARIANCE)return new Int32Array([f,w]);f+=u[0]+u[1],ae.arraycopy(u,2,u,0,E-1),u[E-1]=0,u[E]=0,E--}else E++;u[E]=1,_=!_}return E===S-1&&We.patternMatchVariance(u,l,We.MAX_INDIVIDUAL_VARIANCE)<We.MAX_AVG_VARIANCE?new Int32Array([f,w-1]):null}static patternMatchVariance(e,n,r){let s=e.length,o=0,l=0;for(let d=0;d<s;d++)o+=e[d],l+=n[d];if(o<l)return 1/0;let u=o/l;r*=u;let f=0;for(let d=0;d<s;d++){let w=e[d],E=n[d]*u,S=w>E?w-E:E-w;if(S>r)return 1/0;f+=S}return f/o}}We.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),We.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),We.MAX_AVG_VARIANCE=.42,We.MAX_INDIVIDUAL_VARIANCE=.8,We.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),We.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),We.MAX_PIXEL_DRIFT=3,We.MAX_PATTERN_DRIFT=5,We.SKIPPED_ROW_COUNT_MAX=25,We.ROW_STEP=5,We.BARCODE_MIN_HEIGHT=10;class $t{constructor(e,n){if(n.length===0)throw new M;this.field=e;let r=n.length;if(r>1&&n[0]===0){let s=1;for(;s<r&&n[s]===0;)s++;s===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-s),ae.arraycopy(n,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let s=0;for(let o of this.coefficients)s=this.field.add(s,o);return s}let n=this.coefficients[0],r=this.coefficients.length;for(let s=1;s<r;s++)n=this.field.add(this.field.multiply(e,n),this.coefficients[s]);return n}add(e){if(!this.field.equals(e.field))throw new M("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,r=e.coefficients;if(n.length>r.length){let l=n;n=r,r=l}let s=new Int32Array(r.length),o=r.length-n.length;ae.arraycopy(r,0,s,0,o);for(let l=o;l<r.length;l++)s[l]=this.field.add(n[l-o],r[l]);return new $t(this.field,s)}subtract(e){if(!this.field.equals(e.field))throw new M("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof $t?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new M("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new $t(this.field,new Int32Array([0]));let n=this.coefficients,r=n.length,s=e.coefficients,o=s.length,l=new Int32Array(r+o-1);for(let u=0;u<r;u++){let f=n[u];for(let d=0;d<o;d++)l[u+d]=this.field.add(l[u+d],this.field.multiply(f,s[d]))}return new $t(this.field,l)}negative(){let e=this.coefficients.length,n=new Int32Array(e);for(let r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new $t(this.field,n)}multiplyScalar(e){if(e===0)return new $t(this.field,new Int32Array([0]));if(e===1)return this;let n=this.coefficients.length,r=new Int32Array(n);for(let s=0;s<n;s++)r[s]=this.field.multiply(this.coefficients[s],e);return new $t(this.field,r)}multiplyByMonomial(e,n){if(e<0)throw new M;if(n===0)return new $t(this.field,new Int32Array([0]));let r=this.coefficients.length,s=new Int32Array(r+e);for(let o=0;o<r;o++)s[o]=this.field.multiply(this.coefficients[o],n);return new $t(this.field,s)}toString(){let e=new Xe;for(let n=this.getDegree();n>=0;n--){let r=this.getCoefficient(n);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(n===0||r!==1)&&e.append(r),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()}}class Ro{add(e,n){return(e+n)%this.modulus}subtract(e,n){return(this.modulus+e-n)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new M;return this.logTable[e]}inverse(e){if(e===0)throw new Ci;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Jr extends Ro{constructor(e,n){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let s=0;s<e;s++)this.expTable[s]=r,r=r*n%e;for(let s=0;s<e-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new $t(this,new Int32Array([0])),this.one=new $t(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new M;if(n===0)return this.zero;let r=new Int32Array(e+1);return r[0]=n,new $t(this,r)}}Jr.PDF417_GF=new Jr(Fe.NUMBER_OF_CODEWORDS,3);class Us{constructor(){this.field=Jr.PDF417_GF}decode(e,n,r){let s=new $t(this.field,e),o=new Int32Array(n),l=!1;for(let D=n;D>0;D--){let k=s.evaluateAt(this.field.exp(D));o[n-D]=k,k!==0&&(l=!0)}if(!l)return 0;let u=this.field.getOne();if(r!=null)for(const D of r){let k=this.field.exp(e.length-1-D),F=new $t(this.field,new Int32Array([this.field.subtract(0,k),1]));u=u.multiply(F)}let f=new $t(this.field,o),d=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),f,n),w=d[0],E=d[1],S=this.findErrorLocations(w),_=this.findErrorMagnitudes(E,w,S);for(let D=0;D<S.length;D++){let k=e.length-1-this.field.log(S[D]);if(k<0)throw xe.getChecksumInstance();e[k]=this.field.subtract(e[k],_[D])}return S.length}runEuclideanAlgorithm(e,n,r){if(e.getDegree()<n.getDegree()){let S=e;e=n,n=S}let s=e,o=n,l=this.field.getZero(),u=this.field.getOne();for(;o.getDegree()>=Math.round(r/2);){let S=s,_=l;if(s=o,l=u,s.isZero())throw xe.getChecksumInstance();o=S;let D=this.field.getZero(),k=s.getCoefficient(s.getDegree()),F=this.field.inverse(k);for(;o.getDegree()>=s.getDegree()&&!o.isZero();){let G=o.getDegree()-s.getDegree(),ne=this.field.multiply(o.getCoefficient(o.getDegree()),F);D=D.add(this.field.buildMonomial(G,ne)),o=o.subtract(s.multiplyByMonomial(G,ne))}u=D.multiply(l).subtract(_).negative()}let f=u.getCoefficient(0);if(f===0)throw xe.getChecksumInstance();let d=this.field.inverse(f),w=u.multiply(d),E=o.multiply(d);return[w,E]}findErrorLocations(e){let n=e.getDegree(),r=new Int32Array(n),s=0;for(let o=1;o<this.field.getSize()&&s<n;o++)e.evaluateAt(o)===0&&(r[s]=this.field.inverse(o),s++);if(s!==n)throw xe.getChecksumInstance();return r}findErrorMagnitudes(e,n,r){let s=n.getDegree(),o=new Int32Array(s);for(let d=1;d<=s;d++)o[s-d]=this.field.multiply(d,n.getCoefficient(d));let l=new $t(this.field,o),u=r.length,f=new Int32Array(u);for(let d=0;d<u;d++){let w=this.field.inverse(r[d]),E=this.field.subtract(0,e.evaluateAt(w)),S=this.field.inverse(l.evaluateAt(w));f[d]=this.field.multiply(E,S)}return f}}class Dr{constructor(e,n,r,s,o){e instanceof Dr?this.constructor_2(e):this.constructor_1(e,n,r,s,o)}constructor_1(e,n,r,s,o){const l=n==null||r==null,u=s==null||o==null;if(l&&u)throw new Z;l?(n=new we(0,s.getY()),r=new we(0,o.getY())):u&&(s=new we(e.getWidth()-1,n.getY()),o=new we(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=n,this.bottomLeft=r,this.topRight=s,this.bottomRight=o,this.minX=Math.trunc(Math.min(n.getX(),r.getX())),this.maxX=Math.trunc(Math.max(s.getX(),o.getX())),this.minY=Math.trunc(Math.min(n.getY(),s.getY())),this.maxY=Math.trunc(Math.max(r.getY(),o.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,n){return e==null?n:n==null?e:new Dr(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(e,n,r){let s=this.topLeft,o=this.bottomLeft,l=this.topRight,u=this.bottomRight;if(e>0){let f=r?this.topLeft:this.topRight,d=Math.trunc(f.getY()-e);d<0&&(d=0);let w=new we(f.getX(),d);r?s=w:l=w}if(n>0){let f=r?this.bottomLeft:this.bottomRight,d=Math.trunc(f.getY()+n);d>=this.image.getHeight()&&(d=this.image.getHeight()-1);let w=new we(f.getX(),d);r?o=w:u=w}return new Dr(this.image,s,o,l,u)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ni{constructor(e,n,r,s){this.columnCount=e,this.errorCorrectionLevel=s,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class fr{constructor(){this.buffer=""}static form(e,n){let r=-1;function s(l,u,f,d,w,E){if(l==="%%")return"%";if(n[++r]===void 0)return;l=d?parseInt(d.substr(1)):void 0;let S=w?parseInt(w.substr(1)):void 0,_;switch(E){case"s":_=n[r];break;case"c":_=n[r][0];break;case"f":_=parseFloat(n[r]).toFixed(l);break;case"p":_=parseFloat(n[r]).toPrecision(l);break;case"e":_=parseFloat(n[r]).toExponential(l);break;case"x":_=parseInt(n[r]).toString(S||16);break;case"d":_=parseFloat(parseInt(n[r],S||10).toPrecision(l)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(S);let D=parseInt(f),k=f&&f[0]+""=="0"?"0":" ";for(;_.length<D;)_=u!==void 0?_+k:k+_;return _}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,s)}format(e,...n){this.buffer+=fr.form(e,n)}toString(){return this.buffer}}class nr{constructor(e){this.boundingBox=new Dr(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let n=this.getCodeword(e);if(n!=null)return n;for(let r=1;r<nr.MAX_NEARBY_DISTANCE;r++){let s=this.imageRowToCodewordIndex(e)-r;if(s>=0&&(n=this.codewords[s],n!=null)||(s=this.imageRowToCodewordIndex(e)+r,s<this.codewords.length&&(n=this.codewords[s],n!=null)))return n}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new fr;let n=0;for(const r of this.codewords){if(r==null){e.format("%3d:    |   %n",n++);continue}e.format("%3d: %3d|%3d%n",n++,r.getRowNumber(),r.getValue())}return e.toString()}}nr.MAX_NEARBY_DISTANCE=5;class Sr{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)}getValue(){let e=-1,n=new Array;for(const[r,s]of this.values.entries()){const o={getKey:()=>r,getValue:()=>s};o.getValue()>e?(e=o.getValue(),n=[],n.push(o.getKey())):o.getValue()===e&&n.push(o.getKey())}return Fe.toIntArray(n)}getConfidence(e){return this.values.get(e)}}class Oo extends nr{constructor(e,n){super(e),this._isLeft=n}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,e);let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=-1,d=1,w=0;for(let E=l;E<u;E++){if(n[E]==null)continue;let S=n[E],_=S.getRowNumber()-f;if(_===0)w++;else if(_===1)d=Math.max(d,w),w=1,f=S.getRowNumber();else if(_<0||S.getRowNumber()>=e.getRowCount()||_>E)n[E]=null;else{let D;d>2?D=(d-2)*_:D=_;let k=D>=E;for(let F=1;F<=D&&!k;F++)k=n[E-F]!=null;k?n[E]=null:(f=S.getRowNumber(),w=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let n=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(r!=null){let s=r.getRowNumber();if(s>=n.length)continue;n[s]++}return n}adjustIncompleteIndicatorColumnRowNumbers(e){let n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),s=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.getCodewords(),f=-1;for(let d=o;d<l;d++){if(u[d]==null)continue;let w=u[d];w.setRowNumberAsRowIndicatorColumn();let E=w.getRowNumber()-f;E===0||(E===1?f=w.getRowNumber():w.getRowNumber()>=e.getRowCount()?u[d]=null:f=w.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),n=new Sr,r=new Sr,s=new Sr,o=new Sr;for(let u of e){if(u==null)continue;u.setRowNumberAsRowIndicatorColumn();let f=u.getValue()%30,d=u.getRowNumber();switch(this._isLeft||(d+=2),d%3){case 0:r.setValue(f*3+1);break;case 1:o.setValue(f/3),s.setValue(f%3);break;case 2:n.setValue(f+1);break}}if(n.getValue().length===0||r.getValue().length===0||s.getValue().length===0||o.getValue().length===0||n.getValue()[0]<1||r.getValue()[0]+s.getValue()[0]<Fe.MIN_ROWS_IN_BARCODE||r.getValue()[0]+s.getValue()[0]>Fe.MAX_ROWS_IN_BARCODE)return null;let l=new Ni(n.getValue()[0],r.getValue()[0],s.getValue()[0],o.getValue()[0]);return this.removeIncorrectCodewords(e,l),l}removeIncorrectCodewords(e,n){for(let r=0;r<e.length;r++){let s=e[r];if(e[r]==null)continue;let o=s.getValue()%30,l=s.getRowNumber();if(l>n.getRowCount()){e[r]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(e[r]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(e[r]=null);break;case 2:o+1!==n.getColumnCount()&&(e[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ti{constructor(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Fe.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let r=this.detectionResultColumns[n].getCodewords();for(let s=0;s<r.length;s++)r[s]!=null&&(r[s].hasValidRowNumber()||this.adjustRowNumbers(n,s,r))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(e[r]!=null&&n[r]!=null&&e[r].getRowNumber()===n[r].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let o=this.detectionResultColumns[s].getCodewords()[r];o!=null&&(o.setRowNumber(e[r].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<n.length;r++){if(n[r]==null)continue;let s=n[r].getRowNumber(),o=0;for(let l=this.barcodeColumnCount+1;l>0&&o<this.ADJUST_ROW_NUMBER_SKIP;l--){let u=this.detectionResultColumns[l].getCodewords()[r];u!=null&&(o=Ti.adjustRowNumberIfValid(s,o,u),u.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,n=this.detectionResultColumns[0].getCodewords();for(let r=0;r<n.length;r++){if(n[r]==null)continue;let s=n[r].getRowNumber(),o=0;for(let l=1;l<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;l++){let u=this.detectionResultColumns[l].getCodewords()[r];u!=null&&(o=Ti.adjustRowNumberIfValid(s,o,u),u.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,n,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),n=0):++n),n}adjustRowNumbers(e,n,r){if(!this.detectionResultColumns[e-1])return;let s=r[n],o=this.detectionResultColumns[e-1].getCodewords(),l=o;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());let u=new Array(14);u[2]=o[n],u[3]=l[n],n>0&&(u[0]=r[n-1],u[4]=o[n-1],u[5]=l[n-1]),n>1&&(u[8]=r[n-2],u[10]=o[n-2],u[11]=l[n-2]),n<r.length-1&&(u[1]=r[n+1],u[6]=o[n+1],u[7]=l[n+1]),n<r.length-2&&(u[9]=r[n+2],u[12]=o[n+2],u[13]=l[n+2]);for(let f of u)if(Ti.adjustRowNumber(s,f))return}static adjustRowNumber(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,n){this.detectionResultColumns[e]=n}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new fr;for(let r=0;r<e.getCodewords().length;r++){n.format("CW %3d:",r);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){n.format("    |   ");continue}let o=this.detectionResultColumns[s].getCodewords()[r];if(o==null){n.format("    |   ");continue}n.format(" %3d|%3d",o.getRowNumber(),o.getValue())}n.format("%n")}return n.toString()}}class br{constructor(e,n,r,s){this.rowNumber=br.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==br.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}br.BARCODE_ROW_UNKNOWN=-1;class en{static initialize(){for(let e=0;e<Fe.SYMBOL_TABLE.length;e++){let n=Fe.SYMBOL_TABLE[e],r=n&1;for(let s=0;s<Fe.BARS_IN_MODULE;s++){let o=0;for(;(n&1)===r;)o+=1,n>>=1;r=n&1,en.RATIOS_TABLE[e]||(en.RATIOS_TABLE[e]=new Array(Fe.BARS_IN_MODULE)),en.RATIOS_TABLE[e][Fe.BARS_IN_MODULE-s-1]=Math.fround(o/Fe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let n=en.getDecodedCodewordValue(en.sampleBitCounts(e));return n!==-1?n:en.getClosestDecodedValue(e)}static sampleBitCounts(e){let n=Je.sum(e),r=new Int32Array(Fe.BARS_IN_MODULE),s=0,o=0;for(let l=0;l<Fe.MODULES_IN_CODEWORD;l++){let u=n/(2*Fe.MODULES_IN_CODEWORD)+l*n/Fe.MODULES_IN_CODEWORD;o+e[s]<=u&&(o+=e[s],s++),r[s]++}return r}static getDecodedCodewordValue(e){let n=en.getBitValue(e);return Fe.getCodeword(n)===-1?-1:n}static getBitValue(e){let n=0;for(let r=0;r<e.length;r++)for(let s=0;s<e[r];s++)n=n<<1|(r%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(e){let n=Je.sum(e),r=new Array(Fe.BARS_IN_MODULE);if(n>1)for(let l=0;l<r.length;l++)r[l]=Math.fround(e[l]/n);let s=Er.MAX_VALUE,o=-1;this.bSymbolTableReady||en.initialize();for(let l=0;l<en.RATIOS_TABLE.length;l++){let u=0,f=en.RATIOS_TABLE[l];for(let d=0;d<Fe.BARS_IN_MODULE;d++){let w=Math.fround(f[d]-r[d]);if(u+=Math.fround(w*w),u>=s)break}u<s&&(s=u,o=Fe.SYMBOL_TABLE[l])}return o}}en.bSymbolTableReady=!1,en.RATIOS_TABLE=new Array(Fe.SYMBOL_TABLE.length).map(y=>new Array(Fe.BARS_IN_MODULE));class ns{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Vs{static parseLong(e,n=void 0){return parseInt(e,n)}}class dr extends N{}dr.kind="NullPointerException";class js{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,n,r){if(e==null)throw new dr;if(n<0||n>e.length||r<0||n+r>e.length||n+r<0)throw new he;if(r===0)return;for(let s=0;s<r;s++)this.write(e[n+s])}flush(){}close(){}}class rs extends N{}class Do extends js{constructor(e=32){if(super(),this.count=0,e<0)throw new M("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let r=this.buf.length<<1;if(r-e<0&&(r=e),r<0){if(e<0)throw new rs;r=re.MAX_VALUE}this.buf=Te.copyOfUint8Array(this.buf,r)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,n,r){if(n<0||n>e.length||r<0||n+r-e.length>0)throw new he;this.ensureCapacity(this.count+r),ae.arraycopy(e,n,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Te.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var st;(function(y){y[y.ALPHA=0]="ALPHA",y[y.LOWER=1]="LOWER",y[y.MIXED=2]="MIXED",y[y.PUNCT=3]="PUNCT",y[y.ALPHA_SHIFT=4]="ALPHA_SHIFT",y[y.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(st||(st={}));function _i(){if(typeof window<"u")return window.BigInt||null;if(typeof _l<"u")return _l.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ri;function Lt(y){if(typeof Ri>"u"&&(Ri=_i()),Ri===null)throw new Error("BigInt is not supported!");return Ri(y)}function $r(){let y=[];y[0]=Lt(1);let e=Lt(900);y[1]=e;for(let n=2;n<16;n++)y[n]=y[n-1]*e;return y}class X{static decode(e,n){let r=new Xe(""),s=ie.ISO8859_1;r.enableDecoding(s);let o=1,l=e[o++],u=new ns;for(;o<e[0];){switch(l){case X.TEXT_COMPACTION_MODE_LATCH:o=X.textCompaction(e,o,r);break;case X.BYTE_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH_6:o=X.byteCompaction(l,e,s,o,r);break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[o++]);break;case X.NUMERIC_COMPACTION_MODE_LATCH:o=X.numericCompaction(e,o,r);break;case X.ECI_CHARSET:ie.getCharacterSetECIByValue(e[o++]);break;case X.ECI_GENERAL_PURPOSE:o+=2;break;case X.ECI_USER_DEFINED:o++;break;case X.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=X.decodeMacroBlock(e,o,u);break;case X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case X.MACRO_PDF417_TERMINATOR:throw new $;default:o--,o=X.textCompaction(e,o,r);break}if(o<e.length)l=e[o++];else throw $.getFormatInstance()}if(r.length()===0)throw $.getFormatInstance();let f=new ht(null,r.toString(),null,n);return f.setOther(u),f}static decodeMacroBlock(e,n,r){if(n+X.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw $.getFormatInstance();let s=new Int32Array(X.NUMBER_OF_SEQUENCE_CODEWORDS);for(let u=0;u<X.NUMBER_OF_SEQUENCE_CODEWORDS;u++,n++)s[u]=e[n];r.setSegmentIndex(re.parseInt(X.decodeBase900toBase10(s,X.NUMBER_OF_SEQUENCE_CODEWORDS)));let o=new Xe;n=X.textCompaction(e,n,o),r.setFileId(o.toString());let l=-1;for(e[n]===X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=n+1);n<e[0];)switch(e[n]){case X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case X.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let u=new Xe;n=X.textCompaction(e,n+1,u),r.setFileName(u.toString());break;case X.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let f=new Xe;n=X.textCompaction(e,n+1,f),r.setSender(f.toString());break;case X.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let d=new Xe;n=X.textCompaction(e,n+1,d),r.setAddressee(d.toString());break;case X.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new Xe;n=X.numericCompaction(e,n+1,w),r.setSegmentCount(re.parseInt(w.toString()));break;case X.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let E=new Xe;n=X.numericCompaction(e,n+1,E),r.setTimestamp(Vs.parseLong(E.toString()));break;case X.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let S=new Xe;n=X.numericCompaction(e,n+1,S),r.setChecksum(re.parseInt(S.toString()));break;case X.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let _=new Xe;n=X.numericCompaction(e,n+1,_),r.setFileSize(Vs.parseLong(_.toString()));break;default:throw $.getFormatInstance()}break;case X.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw $.getFormatInstance()}if(l!==-1){let u=n-l;r.isLastSegment()&&u--,r.setOptionalData(Te.copyOfRange(e,l,l+u))}return n}static textCompaction(e,n,r){let s=new Int32Array((e[0]-n)*2),o=new Int32Array((e[0]-n)*2),l=0,u=!1;for(;n<e[0]&&!u;){let f=e[n++];if(f<X.TEXT_COMPACTION_MODE_LATCH)s[l]=f/30,s[l+1]=f%30,l+=2;else switch(f){case X.TEXT_COMPACTION_MODE_LATCH:s[l++]=X.TEXT_COMPACTION_MODE_LATCH;break;case X.BYTE_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH_6:case X.NUMERIC_COMPACTION_MODE_LATCH:case X.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case X.MACRO_PDF417_TERMINATOR:n--,u=!0;break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[l]=X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,f=e[n++],o[l]=f,l++;break}}return X.decodeTextCompaction(s,o,l,r),n}static decodeTextCompaction(e,n,r,s){let o=st.ALPHA,l=st.ALPHA,u=0;for(;u<r;){let f=e[u],d="";switch(o){case st.ALPHA:if(f<26)d=String.fromCharCode(65+f);else switch(f){case 26:d=" ";break;case X.LL:o=st.LOWER;break;case X.ML:o=st.MIXED;break;case X.PS:l=o,o=st.PUNCT_SHIFT;break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case X.TEXT_COMPACTION_MODE_LATCH:o=st.ALPHA;break}break;case st.LOWER:if(f<26)d=String.fromCharCode(97+f);else switch(f){case 26:d=" ";break;case X.AS:l=o,o=st.ALPHA_SHIFT;break;case X.ML:o=st.MIXED;break;case X.PS:l=o,o=st.PUNCT_SHIFT;break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case X.TEXT_COMPACTION_MODE_LATCH:o=st.ALPHA;break}break;case st.MIXED:if(f<X.PL)d=X.MIXED_CHARS[f];else switch(f){case X.PL:o=st.PUNCT;break;case 26:d=" ";break;case X.LL:o=st.LOWER;break;case X.AL:o=st.ALPHA;break;case X.PS:l=o,o=st.PUNCT_SHIFT;break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case X.TEXT_COMPACTION_MODE_LATCH:o=st.ALPHA;break}break;case st.PUNCT:if(f<X.PAL)d=X.PUNCT_CHARS[f];else switch(f){case X.PAL:o=st.ALPHA;break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case X.TEXT_COMPACTION_MODE_LATCH:o=st.ALPHA;break}break;case st.ALPHA_SHIFT:if(o=l,f<26)d=String.fromCharCode(65+f);else switch(f){case 26:d=" ";break;case X.TEXT_COMPACTION_MODE_LATCH:o=st.ALPHA;break}break;case st.PUNCT_SHIFT:if(o=l,f<X.PAL)d=X.PUNCT_CHARS[f];else switch(f){case X.PAL:o=st.ALPHA;break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case X.TEXT_COMPACTION_MODE_LATCH:o=st.ALPHA;break}break}d!==""&&s.append(d),u++}}static byteCompaction(e,n,r,s,o){let l=new Do,u=0,f=0,d=!1;switch(e){case X.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),E=n[s++];for(;s<n[0]&&!d;)switch(w[u++]=E,f=900*f+E,E=n[s++],E){case X.TEXT_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH:case X.NUMERIC_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH_6:case X.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case X.MACRO_PDF417_TERMINATOR:s--,d=!0;break;default:if(u%5===0&&u>0){for(let S=0;S<6;++S)l.write(Number(Lt(f)>>Lt(8*(5-S))));f=0,u=0}break}s===n[0]&&E<X.TEXT_COMPACTION_MODE_LATCH&&(w[u++]=E);for(let S=0;S<u;S++)l.write(w[S]);break;case X.BYTE_COMPACTION_MODE_LATCH_6:for(;s<n[0]&&!d;){let S=n[s++];if(S<X.TEXT_COMPACTION_MODE_LATCH)u++,f=900*f+S;else switch(S){case X.TEXT_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH:case X.NUMERIC_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH_6:case X.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case X.MACRO_PDF417_TERMINATOR:s--,d=!0;break}if(u%5===0&&u>0){for(let _=0;_<6;++_)l.write(Number(Lt(f)>>Lt(8*(5-_))));f=0,u=0}}break}return o.append(Pt.decode(l.toByteArray(),r)),s}static numericCompaction(e,n,r){let s=0,o=!1,l=new Int32Array(X.MAX_NUMERIC_CODEWORDS);for(;n<e[0]&&!o;){let u=e[n++];if(n===e[0]&&(o=!0),u<X.TEXT_COMPACTION_MODE_LATCH)l[s]=u,s++;else switch(u){case X.TEXT_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH_6:case X.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case X.MACRO_PDF417_TERMINATOR:n--,o=!0;break}(s%X.MAX_NUMERIC_CODEWORDS===0||u===X.NUMERIC_COMPACTION_MODE_LATCH||o)&&s>0&&(r.append(X.decodeBase900toBase10(l,s)),s=0)}return n}static decodeBase900toBase10(e,n){let r=Lt(0);for(let o=0;o<n;o++)r+=X.EXP900[n-o-1]*Lt(e[o]);let s=r.toString();if(s.charAt(0)!=="1")throw new $;return s.substring(1)}}X.TEXT_COMPACTION_MODE_LATCH=900,X.BYTE_COMPACTION_MODE_LATCH=901,X.NUMERIC_COMPACTION_MODE_LATCH=902,X.BYTE_COMPACTION_MODE_LATCH_6=924,X.ECI_USER_DEFINED=925,X.ECI_GENERAL_PURPOSE=926,X.ECI_CHARSET=927,X.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,X.MACRO_PDF417_TERMINATOR=922,X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,X.MAX_NUMERIC_CODEWORDS=15,X.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,X.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,X.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,X.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,X.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,X.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,X.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,X.PL=25,X.LL=27,X.AS=27,X.ML=28,X.AL=28,X.PS=29,X.PAL=29,X.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,X.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",X.EXP900=_i()?$r():[],X.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ge{constructor(){}static decode(e,n,r,s,o,l,u){let f=new Dr(e,n,r,s,o),d=null,w=null,E;for(let D=!0;;D=!1){if(n!=null&&(d=Ge.getRowIndicatorColumn(e,f,n,!0,l,u)),s!=null&&(w=Ge.getRowIndicatorColumn(e,f,s,!1,l,u)),E=Ge.merge(d,w),E==null)throw Z.getNotFoundInstance();let k=E.getBoundingBox();if(D&&k!=null&&(k.getMinY()<f.getMinY()||k.getMaxY()>f.getMaxY()))f=k;else break}E.setBoundingBox(f);let S=E.getBarcodeColumnCount()+1;E.setDetectionResultColumn(0,d),E.setDetectionResultColumn(S,w);let _=d!=null;for(let D=1;D<=S;D++){let k=_?D:S-D;if(E.getDetectionResultColumn(k)!==void 0)continue;let F;k===0||k===S?F=new Oo(f,k===0):F=new nr(f),E.setDetectionResultColumn(k,F);let G=-1,ne=G;for(let se=f.getMinY();se<=f.getMaxY();se++){if(G=Ge.getStartColumn(E,k,se,_),G<0||G>f.getMaxX()){if(ne===-1)continue;G=ne}let J=Ge.detectCodeword(e,f.getMinX(),f.getMaxX(),_,G,se,l,u);J!=null&&(F.setCodeword(se,J),ne=G,l=Math.min(l,J.getWidth()),u=Math.max(u,J.getWidth()))}}return Ge.createDecoderResult(E)}static merge(e,n){if(e==null&&n==null)return null;let r=Ge.getBarcodeMetadata(e,n);if(r==null)return null;let s=Dr.merge(Ge.adjustBoundingBox(e),Ge.adjustBoundingBox(n));return new Ti(r,s)}static adjustBoundingBox(e){if(e==null)return null;let n=e.getRowHeights();if(n==null)return null;let r=Ge.getMax(n),s=0;for(let u of n)if(s+=r-u,u>0)break;let o=e.getCodewords();for(let u=0;s>0&&o[u]==null;u++)s--;let l=0;for(let u=n.length-1;u>=0&&(l+=r-n[u],!(n[u]>0));u--);for(let u=o.length-1;l>0&&o[u]==null;u--)l--;return e.getBoundingBox().addMissingRows(s,l,e.isLeft())}static getMax(e){let n=-1;for(let r of e)n=Math.max(n,r);return n}static getBarcodeMetadata(e,n){let r;if(e==null||(r=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let s;return n==null||(s=n.getBarcodeMetadata())==null?r:r.getColumnCount()!==s.getColumnCount()&&r.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&r.getRowCount()!==s.getRowCount()?null:r}static getRowIndicatorColumn(e,n,r,s,o,l){let u=new Oo(n,s);for(let f=0;f<2;f++){let d=f===0?1:-1,w=Math.trunc(Math.trunc(r.getX()));for(let E=Math.trunc(Math.trunc(r.getY()));E<=n.getMaxY()&&E>=n.getMinY();E+=d){let S=Ge.detectCodeword(e,0,e.getWidth(),s,w,E,o,l);S!=null&&(u.setCodeword(E,S),s?w=S.getStartX():w=S.getEndX())}}return u}static adjustCodewordCount(e,n){let r=n[0][1],s=r.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Ge.getNumberOfECCodeWords(e.getBarcodeECLevel());if(s.length===0){if(o<1||o>Fe.MAX_CODEWORDS_IN_BARCODE)throw Z.getNotFoundInstance();r.setValue(o)}else s[0]!==o&&r.setValue(o)}static createDecoderResult(e){let n=Ge.createBarcodeMatrix(e);Ge.adjustCodewordCount(e,n);let r=new Array,s=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],l=new Array;for(let f=0;f<e.getBarcodeRowCount();f++)for(let d=0;d<e.getBarcodeColumnCount();d++){let w=n[f][d+1].getValue(),E=f*e.getBarcodeColumnCount()+d;w.length===0?r.push(E):w.length===1?s[E]=w[0]:(l.push(E),o.push(w))}let u=new Array(o.length);for(let f=0;f<u.length;f++)u[f]=o[f];return Ge.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),s,Fe.toIntArray(r),Fe.toIntArray(l),u)}static createDecoderResultFromAmbiguousValues(e,n,r,s,o){let l=new Int32Array(s.length),u=100;for(;u-- >0;){for(let f=0;f<l.length;f++)n[s[f]]=o[f][l[f]];try{return Ge.decodeCodewords(n,e,r)}catch(f){if(!(f instanceof xe))throw f}if(l.length===0)throw xe.getChecksumInstance();for(let f=0;f<l.length;f++)if(l[f]<o[f].length-1){l[f]++;break}else if(l[f]=0,f===l.length-1)throw xe.getChecksumInstance()}throw xe.getChecksumInstance()}static createBarcodeMatrix(e){let n=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let s=0;s<n.length;s++)for(let o=0;o<n[s].length;o++)n[s][o]=new Sr;let r=0;for(let s of e.getDetectionResultColumns()){if(s!=null){for(let o of s.getCodewords())if(o!=null){let l=o.getRowNumber();if(l>=0){if(l>=n.length)continue;n[l][r].setValue(o.getValue())}}}r++}return n}static isValidBarcodeColumn(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1}static getStartColumn(e,n,r,s){let o=s?1:-1,l=null;if(Ge.isValidBarcodeColumn(e,n-o)&&(l=e.getDetectionResultColumn(n-o).getCodeword(r)),l!=null)return s?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(n).getCodewordNearby(r),l!=null)return s?l.getStartX():l.getEndX();if(Ge.isValidBarcodeColumn(e,n-o)&&(l=e.getDetectionResultColumn(n-o).getCodewordNearby(r)),l!=null)return s?l.getEndX():l.getStartX();let u=0;for(;Ge.isValidBarcodeColumn(e,n-o);){n-=o;for(let f of e.getDetectionResultColumn(n).getCodewords())if(f!=null)return(s?f.getEndX():f.getStartX())+o*u*(f.getEndX()-f.getStartX());u++}return s?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,n,r,s,o,l,u,f){o=Ge.adjustCodewordStartColumn(e,n,r,s,o,l);let d=Ge.getModuleBitCount(e,n,r,s,o,l);if(d==null)return null;let w,E=Je.sum(d);if(s)w=o+E;else{for(let D=0;D<d.length/2;D++){let k=d[D];d[D]=d[d.length-1-D],d[d.length-1-D]=k}w=o,o=w-E}if(!Ge.checkCodewordSkew(E,u,f))return null;let S=en.getDecodedValue(d),_=Fe.getCodeword(S);return _===-1?null:new br(o,w,Ge.getCodewordBucketNumber(S),_)}static getModuleBitCount(e,n,r,s,o,l){let u=o,f=new Int32Array(8),d=0,w=s?1:-1,E=s;for(;(s?u<r:u>=n)&&d<f.length;)e.get(u,l)===E?(f[d]++,u+=w):(d++,E=!E);return d===f.length||u===(s?r:n)&&d===f.length-1?f:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,n,r,s,o,l){let u=o,f=s?-1:1;for(let d=0;d<2;d++){for(;(s?u>=n:u<r)&&s===e.get(u,l);){if(Math.abs(o-u)>Ge.CODEWORD_SKEW_SIZE)return o;u+=f}f=-f,s=!s}return u}static checkCodewordSkew(e,n,r){return n-Ge.CODEWORD_SKEW_SIZE<=e&&e<=r+Ge.CODEWORD_SKEW_SIZE}static decodeCodewords(e,n,r){if(e.length===0)throw $.getFormatInstance();let s=1<<n+1,o=Ge.correctErrors(e,r,s);Ge.verifyCodewordCount(e,s);let l=X.decode(e,""+n);return l.setErrorsCorrected(o),l.setErasures(r.length),l}static correctErrors(e,n,r){if(n!=null&&n.length>r/2+Ge.MAX_ERRORS||r<0||r>Ge.MAX_EC_CODEWORDS)throw xe.getChecksumInstance();return Ge.errorCorrection.decode(e,r,n)}static verifyCodewordCount(e,n){if(e.length<4)throw $.getFormatInstance();let r=e[0];if(r>e.length)throw $.getFormatInstance();if(r===0)if(n<e.length)e[0]=e.length-n;else throw $.getFormatInstance()}static getBitCountForCodeword(e){let n=new Int32Array(8),r=0,s=n.length-1;for(;!((e&1)!==r&&(r=e&1,s--,s<0));)n[s]++,e>>=1;return n}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Ge.getCodewordBucketNumber(Ge.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let n=new fr;for(let r=0;r<e.length;r++){n.format("Row %2d: ",r);for(let s=0;s<e[r].length;s++){let o=e[r][s];o.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}n.format("%n")}return n.toString()}}Ge.CODEWORD_SKEW_SIZE=2,Ge.MAX_ERRORS=3,Ge.MAX_EC_CODEWORDS=512,Ge.errorCorrection=new Us;class tn{decode(e,n=null){let r=tn.decode(e,n,!1);if(r==null||r.length===0||r[0]==null)throw Z.getNotFoundInstance();return r[0]}decodeMultiple(e,n=null){try{return tn.decode(e,n,!0)}catch(r){throw r instanceof $||r instanceof xe?Z.getNotFoundInstance():r}}static decode(e,n,r){const s=new Array,o=We.detectMultiple(e,n,r);for(const l of o.getPoints()){const u=Ge.decode(o.getBits(),l[4],l[5],l[6],l[7],tn.getMinCodewordWidth(l),tn.getMaxCodewordWidth(l)),f=new ke(u.getText(),u.getRawBytes(),void 0,l,ce.PDF_417);f.putMetadata(Ve.ERROR_CORRECTION_LEVEL,u.getECLevel());const d=u.getOther();d!=null&&f.putMetadata(Ve.PDF417_EXTRA_METADATA,d),s.push(f)}return s.map(l=>l)}static getMaxWidth(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMinWidth(e,n){return e==null||n==null?re.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(tn.getMaxWidth(e[0],e[4]),tn.getMaxWidth(e[6],e[2])*Fe.MODULES_IN_CODEWORD/Fe.MODULES_IN_STOP_PATTERN),Math.max(tn.getMaxWidth(e[1],e[5]),tn.getMaxWidth(e[7],e[3])*Fe.MODULES_IN_CODEWORD/Fe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(tn.getMinWidth(e[0],e[4]),tn.getMinWidth(e[6],e[2])*Fe.MODULES_IN_CODEWORD/Fe.MODULES_IN_STOP_PATTERN),Math.min(tn.getMinWidth(e[1],e[5]),tn.getMinWidth(e[7],e[3])*Fe.MODULES_IN_CODEWORD/Fe.MODULES_IN_STOP_PATTERN)))}reset(){}}class ei extends N{}ei.kind="ReaderException";class is{constructor(e,n){this.verbose=e===!0,n&&this.setHints(n)}decode(e,n){return n&&this.setHints(n),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!A(e)&&e.get(Ce.TRY_HARDER)===!0,r=A(e)?null:e.get(Ce.POSSIBLE_FORMATS),s=new Array;if(!A(r)){const o=r.some(l=>l===ce.UPC_A||l===ce.UPC_E||l===ce.EAN_13||l===ce.EAN_8||l===ce.CODABAR||l===ce.CODE_39||l===ce.CODE_93||l===ce.CODE_128||l===ce.ITF||l===ce.RSS_14||l===ce.RSS_EXPANDED);o&&!n&&s.push(new Kr(e,this.verbose)),r.includes(ce.QR_CODE)&&s.push(new dn),r.includes(ce.DATA_MATRIX)&&s.push(new Hn),r.includes(ce.AZTEC)&&s.push(new Cr),r.includes(ce.PDF_417)&&s.push(new tn),o&&n&&s.push(new Kr(e,this.verbose))}s.length===0&&(n||s.push(new Kr(e,this.verbose)),s.push(new dn),s.push(new Hn),s.push(new Cr),s.push(new tn),n&&s.push(new Kr(e,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new ei("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(r){if(r instanceof ei)continue}throw new Z("No MultiFormat Readers were able to detect the code.")}}class Oi extends je{constructor(e=null,n=500){const r=new is;r.setHints(e),super(r,n)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class ss extends je{constructor(e=500){super(new tn,e)}}class bo extends je{constructor(e=500){super(new dn,e)}}var zs;(function(y){y[y.ERROR_CORRECTION=0]="ERROR_CORRECTION",y[y.CHARACTER_SET=1]="CHARACTER_SET",y[y.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",y[y.MIN_SIZE=3]="MIN_SIZE",y[y.MAX_SIZE=4]="MAX_SIZE",y[y.MARGIN=5]="MARGIN",y[y.PDF417_COMPACT=6]="PDF417_COMPACT",y[y.PDF417_COMPACTION=7]="PDF417_COMPACTION",y[y.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",y[y.AZTEC_LAYERS=9]="AZTEC_LAYERS",y[y.QR_VERSION=10]="QR_VERSION"})(zs||(zs={}));var Wt=zs;class Ws{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Qt(e,Int32Array.from([1])))}buildGenerator(e){const n=this.cachedGenerators;if(e>=n.length){let r=n[n.length-1];const s=this.field;for(let o=n.length;o<=e;o++){const l=r.multiply(new Qt(s,Int32Array.from([1,s.exp(o-1+s.getGeneratorBase())])));n.push(l),r=l}}return n[e]}encode(e,n){if(n===0)throw new M("No error correction bytes");const r=e.length-n;if(r<=0)throw new M("No data bytes provided");const s=this.buildGenerator(n),o=new Int32Array(r);ae.arraycopy(e,0,o,0,r);let l=new Qt(this.field,o);l=l.multiplyByMonomial(n,1);const f=l.divide(s)[1].getCoefficients(),d=n-f.length;for(let w=0;w<d;w++)e[r+w]=0;ae.arraycopy(f,0,e,r+d,f.length)}}class St{constructor(){}static applyMaskPenaltyRule1(e){return St.applyMaskPenaltyRule1Internal(e,!0)+St.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let n=0;const r=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let l=0;l<o-1;l++){const u=r[l];for(let f=0;f<s-1;f++){const d=u[f];d===u[f+1]&&d===r[l+1][f]&&d===r[l+1][f+1]&&n++}}return St.N2*n}static applyMaskPenaltyRule3(e){let n=0;const r=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let l=0;l<o;l++)for(let u=0;u<s;u++){const f=r[l];u+6<s&&f[u]===1&&f[u+1]===0&&f[u+2]===1&&f[u+3]===1&&f[u+4]===1&&f[u+5]===0&&f[u+6]===1&&(St.isWhiteHorizontal(f,u-4,u)||St.isWhiteHorizontal(f,u+7,u+11))&&n++,l+6<o&&r[l][u]===1&&r[l+1][u]===0&&r[l+2][u]===1&&r[l+3][u]===1&&r[l+4][u]===1&&r[l+5][u]===0&&r[l+6][u]===1&&(St.isWhiteVertical(r,u,l-4,l)||St.isWhiteVertical(r,u,l+7,l+11))&&n++}return n*St.N3}static isWhiteHorizontal(e,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(let s=n;s<r;s++)if(e[s]===1)return!1;return!0}static isWhiteVertical(e,n,r,s){r=Math.max(r,0),s=Math.min(s,e.length);for(let o=r;o<s;o++)if(e[o][n]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let n=0;const r=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let f=0;f<o;f++){const d=r[f];for(let w=0;w<s;w++)d[w]===1&&n++}const l=e.getHeight()*e.getWidth();return Math.floor(Math.abs(n*2-l)*10/l)*St.N4}static getDataMaskBit(e,n,r){let s,o;switch(e){case 0:s=r+n&1;break;case 1:s=r&1;break;case 2:s=n%3;break;case 3:s=(r+n)%3;break;case 4:s=Math.floor(r/2)+Math.floor(n/3)&1;break;case 5:o=r*n,s=(o&1)+o%3;break;case 6:o=r*n,s=(o&1)+o%3&1;break;case 7:o=r*n,s=o%3+(r+n&1)&1;break;default:throw new M("Invalid mask pattern: "+e)}return s===0}static applyMaskPenaltyRule1Internal(e,n){let r=0;const s=n?e.getHeight():e.getWidth(),o=n?e.getWidth():e.getHeight(),l=e.getArray();for(let u=0;u<s;u++){let f=0,d=-1;for(let w=0;w<o;w++){const E=n?l[u][w]:l[w][u];E===d?f++:(f>=5&&(r+=St.N1+(f-5)),f=1,d=E)}f>=5&&(r+=St.N1+(f-5))}return r}}St.N1=3,St.N2=3,St.N3=40,St.N4=10;class os{constructor(e,n){this.width=e,this.height=n;const r=new Array(n);for(let s=0;s!==n;s++)r[s]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,n){return this.bytes[n][e]}getArray(){return this.bytes}setNumber(e,n,r){this.bytes[n][e]=r}setBoolean(e,n,r){this.bytes[n][e]=r?1:0}clear(e){for(const n of this.bytes)Te.fill(n,e)}equals(e){if(!(e instanceof os))return!1;const n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(let r=0,s=this.height;r<s;++r){const o=this.bytes[r],l=n.bytes[r];for(let u=0,f=this.width;u<f;++u)if(o[u]!==l[u])return!1}return!0}toString(){const e=new Xe;for(let n=0,r=this.height;n<r;++n){const s=this.bytes[n];for(let o=0,l=this.width;o<l;++o)switch(s[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Mr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Xe;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Mr.NUM_MASK_PATTERNS}}Mr.NUM_MASK_PATTERNS=8;class mt extends N{}mt.kind="WriterException";class Pe{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,n,r,s,o){Pe.clearMatrix(o),Pe.embedBasicPatterns(r,o),Pe.embedTypeInfo(n,s,o),Pe.maybeEmbedVersionInfo(r,o),Pe.embedDataBits(e,s,o)}static embedBasicPatterns(e,n){Pe.embedPositionDetectionPatternsAndSeparators(n),Pe.embedDarkDotAtLeftBottomCorner(n),Pe.maybeEmbedPositionAdjustmentPatterns(e,n),Pe.embedTimingPatterns(n)}static embedTypeInfo(e,n,r){const s=new Se;Pe.makeTypeInfoBits(e,n,s);for(let o=0,l=s.getSize();o<l;++o){const u=s.get(s.getSize()-1-o),f=Pe.TYPE_INFO_COORDINATES[o],d=f[0],w=f[1];if(r.setBoolean(d,w,u),o<8){const E=r.getWidth()-o-1;r.setBoolean(E,8,u)}else{const S=r.getHeight()-7+(o-8);r.setBoolean(8,S,u)}}}static maybeEmbedVersionInfo(e,n){if(e.getVersionNumber()<7)return;const r=new Se;Pe.makeVersionInfoBits(e,r);let s=6*3-1;for(let o=0;o<6;++o)for(let l=0;l<3;++l){const u=r.get(s);s--,n.setBoolean(o,n.getHeight()-11+l,u),n.setBoolean(n.getHeight()-11+l,o,u)}}static embedDataBits(e,n,r){let s=0,o=-1,l=r.getWidth()-1,u=r.getHeight()-1;for(;l>0;){for(l===6&&(l-=1);u>=0&&u<r.getHeight();){for(let f=0;f<2;++f){const d=l-f;if(!Pe.isEmpty(r.get(d,u)))continue;let w;s<e.getSize()?(w=e.get(s),++s):w=!1,n!==255&&St.getDataMaskBit(n,d,u)&&(w=!w),r.setBoolean(d,u,w)}u+=o}o=-o,u+=o,l-=2}if(s!==e.getSize())throw new mt("Not all bits consumed: "+s+"/"+e.getSize())}static findMSBSet(e){return 32-re.numberOfLeadingZeros(e)}static calculateBCHCode(e,n){if(n===0)throw new M("0 polynomial");const r=Pe.findMSBSet(n);for(e<<=r-1;Pe.findMSBSet(e)>=r;)e^=n<<Pe.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,n,r){if(!Mr.isValidMaskPattern(n))throw new mt("Invalid mask pattern");const s=e.getBits()<<3|n;r.appendBits(s,5);const o=Pe.calculateBCHCode(s,Pe.TYPE_INFO_POLY);r.appendBits(o,10);const l=new Se;if(l.appendBits(Pe.TYPE_INFO_MASK_PATTERN,15),r.xor(l),r.getSize()!==15)throw new mt("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,n){n.appendBits(e.getVersionNumber(),6);const r=Pe.calculateBCHCode(e.getVersionNumber(),Pe.VERSION_INFO_POLY);if(n.appendBits(r,12),n.getSize()!==18)throw new mt("should not happen but we got: "+n.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let n=8;n<e.getWidth()-8;++n){const r=(n+1)%2;Pe.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),Pe.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new mt;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,n,r){for(let s=0;s<8;++s){if(!Pe.isEmpty(r.get(e+s,n)))throw new mt;r.setNumber(e+s,n,0)}}static embedVerticalSeparationPattern(e,n,r){for(let s=0;s<7;++s){if(!Pe.isEmpty(r.get(e,n+s)))throw new mt;r.setNumber(e,n+s,0)}}static embedPositionAdjustmentPattern(e,n,r){for(let s=0;s<5;++s){const o=Pe.POSITION_ADJUSTMENT_PATTERN[s];for(let l=0;l<5;++l)r.setNumber(e+l,n+s,o[l])}}static embedPositionDetectionPattern(e,n,r){for(let s=0;s<7;++s){const o=Pe.POSITION_DETECTION_PATTERN[s];for(let l=0;l<7;++l)r.setNumber(e+l,n+s,o[l])}}static embedPositionDetectionPatternsAndSeparators(e){const n=Pe.POSITION_DETECTION_PATTERN[0].length;Pe.embedPositionDetectionPattern(0,0,e),Pe.embedPositionDetectionPattern(e.getWidth()-n,0,e),Pe.embedPositionDetectionPattern(0,e.getWidth()-n,e);const r=8;Pe.embedHorizontalSeparationPattern(0,r-1,e),Pe.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),Pe.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const s=7;Pe.embedVerticalSeparationPattern(s,0,e),Pe.embedVerticalSeparationPattern(e.getHeight()-s-1,0,e),Pe.embedVerticalSeparationPattern(s,e.getHeight()-s,e)}static maybeEmbedPositionAdjustmentPatterns(e,n){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,s=Pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let o=0,l=s.length;o!==l;o++){const u=s[o];if(u>=0)for(let f=0;f!==l;f++){const d=s[f];d>=0&&Pe.isEmpty(n.get(d,u))&&Pe.embedPositionAdjustmentPattern(d-2,u-2,n)}}}}Pe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Pe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Pe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Pe.VERSION_INFO_POLY=7973,Pe.TYPE_INFO_POLY=1335,Pe.TYPE_INFO_MASK_PATTERN=21522;class Fl{constructor(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class wt{constructor(){}static calculateMaskPenalty(e){return St.applyMaskPenaltyRule1(e)+St.applyMaskPenaltyRule2(e)+St.applyMaskPenaltyRule3(e)+St.applyMaskPenaltyRule4(e)}static encode(e,n,r=null){let s=wt.DEFAULT_BYTE_MODE_ENCODING;const o=r!==null&&r.get(Wt.CHARACTER_SET)!==void 0;o&&(s=r.get(Wt.CHARACTER_SET).toString());const l=this.chooseMode(e,s),u=new Se;if(l===De.BYTE&&(o||wt.DEFAULT_BYTE_MODE_ENCODING!==s)){const se=ie.getCharacterSetECIByName(s);se!==void 0&&this.appendECI(se,u)}this.appendModeInfo(l,u);const f=new Se;this.appendBytes(e,l,f,s);let d;if(r!==null&&r.get(Wt.QR_VERSION)!==void 0){const se=Number.parseInt(r.get(Wt.QR_VERSION).toString(),10);d=Re.getVersionForNumber(se);const J=this.calculateBitsNeeded(l,u,f,d);if(!this.willFit(J,d,n))throw new mt("Data too big for requested version")}else d=this.recommendVersion(n,l,u,f);const w=new Se;w.appendBitArray(u);const E=l===De.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(E,d,l,w),w.appendBitArray(f);const S=d.getECBlocksForLevel(n),_=d.getTotalCodewords()-S.getTotalECCodewords();this.terminateBits(_,w);const D=this.interleaveWithECBytes(w,d.getTotalCodewords(),_,S.getNumBlocks()),k=new Mr;k.setECLevel(n),k.setMode(l),k.setVersion(d);const F=d.getDimensionForVersion(),G=new os(F,F),ne=this.chooseMaskPattern(D,n,d,G);return k.setMaskPattern(ne),Pe.buildMatrix(D,n,d,ne,G),k.setMatrix(G),k}static recommendVersion(e,n,r,s){const o=this.calculateBitsNeeded(n,r,s,Re.getVersionForNumber(1)),l=this.chooseVersion(o,e),u=this.calculateBitsNeeded(n,r,s,l);return this.chooseVersion(u,e)}static calculateBitsNeeded(e,n,r,s){return n.getSize()+e.getCharacterCountBits(s)+r.getSize()}static getAlphanumericCode(e){return e<wt.ALPHANUMERIC_TABLE.length?wt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,n=null){if(ie.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return De.KANJI;let r=!1,s=!1;for(let o=0,l=e.length;o<l;++o){const u=e.charAt(o);if(wt.isDigit(u))r=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)s=!0;else return De.BYTE}return s?De.ALPHANUMERIC:r?De.NUMERIC:De.BYTE}static isOnlyDoubleByteKanji(e){let n;try{n=Pt.encode(e,ie.SJIS)}catch{return!1}const r=n.length;if(r%2!==0)return!1;for(let s=0;s<r;s+=2){const o=n[s]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0}static chooseMaskPattern(e,n,r,s){let o=Number.MAX_SAFE_INTEGER,l=-1;for(let u=0;u<Mr.NUM_MASK_PATTERNS;u++){Pe.buildMatrix(e,n,r,u,s);let f=this.calculateMaskPenalty(s);f<o&&(o=f,l=u)}return l}static chooseVersion(e,n){for(let r=1;r<=40;r++){const s=Re.getVersionForNumber(r);if(wt.willFit(e,s,n))return s}throw new mt("Data too big")}static willFit(e,n,r){const s=n.getTotalCodewords(),l=n.getECBlocksForLevel(r).getTotalECCodewords(),u=s-l,f=(e+7)/8;return u>=f}static terminateBits(e,n){const r=e*8;if(n.getSize()>r)throw new mt("data bits cannot fit in the QR Code"+n.getSize()+" > "+r);for(let l=0;l<4&&n.getSize()<r;++l)n.appendBit(!1);const s=n.getSize()&7;if(s>0)for(let l=s;l<8;l++)n.appendBit(!1);const o=e-n.getSizeInBytes();for(let l=0;l<o;++l)n.appendBits((l&1)===0?236:17,8);if(n.getSize()!==r)throw new mt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,n,r,s,o,l){if(s>=r)throw new mt("Block ID too large");const u=e%r,f=r-u,d=Math.floor(e/r),w=d+1,E=Math.floor(n/r),S=E+1,_=d-E,D=w-S;if(_!==D)throw new mt("EC bytes mismatch");if(r!==f+u)throw new mt("RS blocks mismatch");if(e!==(E+_)*f+(S+D)*u)throw new mt("Total bytes mismatch");s<f?(o[0]=E,l[0]=_):(o[0]=S,l[0]=D)}static interleaveWithECBytes(e,n,r,s){if(e.getSizeInBytes()!==r)throw new mt("Number of bits and data bytes does not match");let o=0,l=0,u=0;const f=new Array;for(let w=0;w<s;++w){const E=new Int32Array(1),S=new Int32Array(1);wt.getNumDataBytesAndNumECBytesForBlockID(n,r,s,w,E,S);const _=E[0],D=new Uint8Array(_);e.toBytes(8*o,D,0,_);const k=wt.generateECBytes(D,S[0]);f.push(new Fl(D,k)),l=Math.max(l,_),u=Math.max(u,k.length),o+=E[0]}if(r!==o)throw new mt("Data bytes does not match offset");const d=new Se;for(let w=0;w<l;++w)for(const E of f){const S=E.getDataBytes();w<S.length&&d.appendBits(S[w],8)}for(let w=0;w<u;++w)for(const E of f){const S=E.getErrorCorrectionBytes();w<S.length&&d.appendBits(S[w],8)}if(n!==d.getSizeInBytes())throw new mt("Interleaving error: "+n+" and "+d.getSizeInBytes()+" differ.");return d}static generateECBytes(e,n){const r=e.length,s=new Int32Array(r+n);for(let l=0;l<r;l++)s[l]=e[l]&255;new Ws(tt.QR_CODE_FIELD_256).encode(s,n);const o=new Uint8Array(n);for(let l=0;l<n;l++)o[l]=s[r+l];return o}static appendModeInfo(e,n){n.appendBits(e.getBits(),4)}static appendLengthInfo(e,n,r,s){const o=r.getCharacterCountBits(n);if(e>=1<<o)throw new mt(e+" is bigger than "+((1<<o)-1));s.appendBits(e,o)}static appendBytes(e,n,r,s){switch(n){case De.NUMERIC:wt.appendNumericBytes(e,r);break;case De.ALPHANUMERIC:wt.appendAlphanumericBytes(e,r);break;case De.BYTE:wt.append8BitBytes(e,r,s);break;case De.KANJI:wt.appendKanjiBytes(e,r);break;default:throw new mt("Invalid mode: "+n)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const n=wt.getDigit(e);return n>=0&&n<=9}static appendNumericBytes(e,n){const r=e.length;let s=0;for(;s<r;){const o=wt.getDigit(e.charAt(s));if(s+2<r){const l=wt.getDigit(e.charAt(s+1)),u=wt.getDigit(e.charAt(s+2));n.appendBits(o*100+l*10+u,10),s+=3}else if(s+1<r){const l=wt.getDigit(e.charAt(s+1));n.appendBits(o*10+l,7),s+=2}else n.appendBits(o,4),s++}}static appendAlphanumericBytes(e,n){const r=e.length;let s=0;for(;s<r;){const o=wt.getAlphanumericCode(e.charCodeAt(s));if(o===-1)throw new mt;if(s+1<r){const l=wt.getAlphanumericCode(e.charCodeAt(s+1));if(l===-1)throw new mt;n.appendBits(o*45+l,11),s+=2}else n.appendBits(o,6),s++}}static append8BitBytes(e,n,r){let s;try{s=Pt.encode(e,r)}catch(o){throw new mt(o)}for(let o=0,l=s.length;o!==l;o++){const u=s[o];n.appendBits(u,8)}}static appendKanjiBytes(e,n){let r;try{r=Pt.encode(e,ie.SJIS)}catch(o){throw new mt(o)}const s=r.length;for(let o=0;o<s;o+=2){const l=r[o]&255,u=r[o+1]&255,f=l<<8&4294967295|u;let d=-1;if(f>=33088&&f<=40956?d=f-33088:f>=57408&&f<=60351&&(d=f-49472),d===-1)throw new mt("Invalid byte sequence");const w=(d>>8)*192+(d&255);n.appendBits(w,13)}}static appendECI(e,n){n.appendBits(De.ECI.getBits(),4),n.appendBits(e.getValue(),8)}}wt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),wt.DEFAULT_BYTE_MODE_ENCODING=ie.UTF8.getName();class kr{write(e,n,r,s=null){if(e.length===0)throw new M("Found empty contents");if(n<0||r<0)throw new M("Requested dimensions are too small: "+n+"x"+r);let o=xt.L,l=kr.QUIET_ZONE_SIZE;s!==null&&(s.get(Wt.ERROR_CORRECTION)!==void 0&&(o=xt.fromString(s.get(Wt.ERROR_CORRECTION).toString())),s.get(Wt.MARGIN)!==void 0&&(l=Number.parseInt(s.get(Wt.MARGIN).toString(),10)));const u=wt.encode(e,o,s);return this.renderResult(u,n,r,l)}writeToDom(e,n,r,s,o=null){typeof e=="string"&&(e=document.querySelector(e));const l=this.write(n,r,s,o);e&&e.appendChild(l)}renderResult(e,n,r,s){const o=e.getMatrix();if(o===null)throw new Un;const l=o.getWidth(),u=o.getHeight(),f=l+s*2,d=u+s*2,w=Math.max(n,f),E=Math.max(r,d),S=Math.min(Math.floor(w/f),Math.floor(E/d)),_=Math.floor((w-l*S)/2),D=Math.floor((E-u*S)/2),k=this.createSVGElement(w,E);for(let F=0,G=D;F<u;F++,G+=S)for(let ne=0,se=_;ne<l;ne++,se+=S)if(o.get(ne,F)===1){const J=this.createSvgRectElement(se,G,S,S);k.appendChild(J)}return k}createSVGElement(e,n){const r=document.createElementNS(kr.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",n.toString()),r}createSvgRectElement(e,n,r,s){const o=document.createElementNS(kr.SVG_NS,"rect");return o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",s.toString()),o.setAttributeNS(null,"fill","#000000"),o}}kr.QUIET_ZONE_SIZE=4,kr.SVG_NS="http://www.w3.org/2000/svg";class ti{encode(e,n,r,s,o){if(e.length===0)throw new M("Found empty contents");if(n!==ce.QR_CODE)throw new M("Can only encode QR_CODE, but got "+n);if(r<0||s<0)throw new M(`Requested dimensions are too small: ${r}x${s}`);let l=xt.L,u=ti.QUIET_ZONE_SIZE;o!==null&&(o.get(Wt.ERROR_CORRECTION)!==void 0&&(l=xt.fromString(o.get(Wt.ERROR_CORRECTION).toString())),o.get(Wt.MARGIN)!==void 0&&(u=Number.parseInt(o.get(Wt.MARGIN).toString(),10)));const f=wt.encode(e,l,o);return ti.renderResult(f,r,s,u)}static renderResult(e,n,r,s){const o=e.getMatrix();if(o===null)throw new Un;const l=o.getWidth(),u=o.getHeight(),f=l+s*2,d=u+s*2,w=Math.max(n,f),E=Math.max(r,d),S=Math.min(Math.floor(w/f),Math.floor(E/d)),_=Math.floor((w-l*S)/2),D=Math.floor((E-u*S)/2),k=new ft(w,E);for(let F=0,G=D;F<u;F++,G+=S)for(let ne=0,se=_;ne<l;ne++,se+=S)o.get(ne,F)===1&&k.setRegion(se,G,S,S);return k}}ti.QUIET_ZONE_SIZE=4;class Ul{encode(e,n,r,s,o){let l;switch(n){case ce.QR_CODE:l=new ti;break;default:throw new M("No encoder available for format "+n)}return l.encode(e,n,r,s,o)}}class rr extends de{constructor(e,n,r,s,o,l,u,f){if(super(l,u),this.yuvData=e,this.dataWidth=n,this.dataHeight=r,this.left=s,this.top=o,s+l>n||o+u>r)throw new M("Crop rectangle does not fit within image data.");f&&this.reverseHorizontal(l,u)}getRow(e,n){if(e<0||e>=this.getHeight())throw new M("Requested row is outside the image: "+e);const r=this.getWidth();(n==null||n.length<r)&&(n=new Uint8ClampedArray(r));const s=(e+this.top)*this.dataWidth+this.left;return ae.arraycopy(this.yuvData,s,n,0,r),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.yuvData;const r=e*n,s=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return ae.arraycopy(this.yuvData,o,s,0,r),s;for(let l=0;l<n;l++){const u=l*e;ae.arraycopy(this.yuvData,o,s,u,e),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(e,n,r,s){return new rr(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,r,s,!1)}renderThumbnail(){const e=this.getWidth()/rr.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/rr.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*n),s=this.yuvData;let o=this.top*this.dataWidth+this.left;for(let l=0;l<n;l++){const u=l*e;for(let f=0;f<e;f++){const d=s[o+f*rr.THUMBNAIL_SCALE_FACTOR]&255;r[u+f]=4278190080|d*65793}o+=this.dataWidth*rr.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/rr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/rr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,n){const r=this.yuvData;for(let s=0,o=this.top*this.dataWidth+this.left;s<n;s++,o+=this.dataWidth){const l=o+e/2;for(let u=o,f=o+e-1;u<l;u++,f--){const d=r[u];r[u]=r[f],r[f]=d}}}invert(){return new _e(this)}}rr.THUMBNAIL_SCALE_FACTOR=2;class Di extends de{constructor(e,n,r,s,o,l,u){if(super(n,r),this.dataWidth=s,this.dataHeight=o,this.left=l,this.top=u,e.BYTES_PER_ELEMENT===4){const f=n*r,d=new Uint8ClampedArray(f);for(let w=0;w<f;w++){const E=e[w],S=E>>16&255,_=E>>7&510,D=E&255;d[w]=(S+_+D)/4&255}this.luminances=d}else this.luminances=e;if(s===void 0&&(this.dataWidth=n),o===void 0&&(this.dataHeight=r),l===void 0&&(this.left=0),u===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+r>this.dataHeight)throw new M("Crop rectangle does not fit within image data.")}getRow(e,n){if(e<0||e>=this.getHeight())throw new M("Requested row is outside the image: "+e);const r=this.getWidth();(n==null||n.length<r)&&(n=new Uint8ClampedArray(r));const s=(e+this.top)*this.dataWidth+this.left;return ae.arraycopy(this.luminances,s,n,0,r),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.luminances;const r=e*n,s=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return ae.arraycopy(this.luminances,o,s,0,r),s;for(let l=0;l<n;l++){const u=l*e;ae.arraycopy(this.luminances,o,s,u,e),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(e,n,r,s){return new Di(this.luminances,r,s,this.dataWidth,this.dataHeight,this.left+e,this.top+n)}invert(){return new _e(this)}}class Mo extends ie{static forName(e){return this.getCharacterSetECIByName(e)}}class Hs{}Hs.ISO_8859_1=ie.ISO8859_1;class ko{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Gs{static singletonList(e){return[e]}static min(e,n){return e.sort(n)[0]}}class Vl{constructor(e){this.previous=e}getPrevious(){return this.previous}}class ni extends Vl{constructor(e,n,r){super(e),this.value=n,this.bitCount=r}appendTo(e,n){e.appendBits(this.value,this.bitCount)}add(e,n){return new ni(this,e,n)}addBinaryShift(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ni(this,e,n)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+re.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Xs extends ni{constructor(e,n,r){super(e,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=r}appendTo(e,n){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):r===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(n[this.binaryShiftStart+r],8)}addBinaryShift(e,n){return new Xs(this,e,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function jl(y,e,n){return new Xs(y,e,n)}function bi(y,e,n){return new ni(y,e,n)}const zl=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ir=0,ri=1,ln=2,Po=3,Xn=4,Bo=new ni(null,0,0),ls=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Lo(y){for(let e of y)Te.fill(e,-1);return y[Ir][Xn]=0,y[ri][Xn]=0,y[ri][Ir]=28,y[Po][Xn]=0,y[ln][Xn]=0,y[ln][Ir]=15,y}const Ys=Lo(Te.createInt32Array(6,6));class hn{constructor(e,n,r,s){this.token=e,this.mode=n,this.binaryShiftByteCount=r,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,n){let r=this.bitCount,s=this.token;if(e!==this.mode){let l=ls[this.mode][e];s=bi(s,l&65535,l>>16),r+=l>>16}let o=e===ln?4:5;return s=bi(s,n,o),new hn(s,e,0,r+o)}shiftAndAppend(e,n){let r=this.token,s=this.mode===ln?4:5;return r=bi(r,Ys[this.mode][e],s),r=bi(r,n,5),new hn(r,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(e){let n=this.token,r=this.mode,s=this.bitCount;if(this.mode===Xn||this.mode===ln){let u=ls[r][Ir];n=bi(n,u&65535,u>>16),s+=u>>16,r=Ir}let o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new hn(n,r,this.binaryShiftByteCount+1,s+o);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(e+1)),l}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=jl(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new hn(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let n=this.bitCount+(ls[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=hn.calculateBinaryShiftCost(e)-hn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}toBitArray(e){let n=[];for(let s=this.endBinaryShift(e.length).token;s!==null;s=s.getPrevious())n.unshift(s);let r=new Se;for(const s of n)s.appendTo(r,e);return r}toString(){return Oe.format("%s bits=%d bytes=%d",zl[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}hn.INITIAL_STATE=new hn(Bo,Ir,0,0);function Wl(y){const e=Oe.getCharCode(" "),n=Oe.getCharCode("."),r=Oe.getCharCode(",");y[Ir][e]=1;const s=Oe.getCharCode("Z"),o=Oe.getCharCode("A");for(let S=o;S<=s;S++)y[Ir][S]=S-o+2;y[ri][e]=1;const l=Oe.getCharCode("z"),u=Oe.getCharCode("a");for(let S=u;S<=l;S++)y[ri][S]=S-u+2;y[ln][e]=1;const f=Oe.getCharCode("9"),d=Oe.getCharCode("0");for(let S=d;S<=f;S++)y[ln][S]=S-d+2;y[ln][r]=12,y[ln][n]=13;const w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let S=0;S<w.length;S++)y[Po][Oe.getCharCode(w[S])]=S;const E=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let S=0;S<E.length;S++)Oe.getCharCode(E[S])>0&&(y[Xn][Oe.getCharCode(E[S])]=S);return y}const Zs=Wl(Te.createInt32Array(5,256));class Mi{constructor(e){this.text=e}encode(){const e=Oe.getCharCode(" "),n=Oe.getCharCode(`
`);let r=Gs.singletonList(hn.INITIAL_STATE);for(let o=0;o<this.text.length;o++){let l,u=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case Oe.getCharCode("\r"):l=u===n?2:0;break;case Oe.getCharCode("."):l=u===e?3:0;break;case Oe.getCharCode(","):l=u===e?4:0;break;case Oe.getCharCode(":"):l=u===e?5:0;break;default:l=0}l>0?(r=Mi.updateStateListForPair(r,o,l),o++):r=this.updateStateListForChar(r,o)}return Gs.min(r,(o,l)=>o.getBitCount()-l.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,n){const r=[];for(let s of e)this.updateStateForChar(s,n,r);return Mi.simplifyStates(r)}updateStateForChar(e,n,r){let s=this.text[n]&255,o=Zs[e.getMode()][s]>0,l=null;for(let u=0;u<=Xn;u++){let f=Zs[u][s];if(f>0){if(l==null&&(l=e.endBinaryShift(n)),!o||u===e.getMode()||u===ln){const d=l.latchAndAppend(u,f);r.push(d)}if(!o&&Ys[e.getMode()][u]>=0){const d=l.shiftAndAppend(u,f);r.push(d)}}}if(e.getBinaryShiftByteCount()>0||Zs[e.getMode()][s]===0){let u=e.addBinaryShiftChar(n);r.push(u)}}static updateStateListForPair(e,n,r){const s=[];for(let o of e)this.updateStateForPair(o,n,r,s);return this.simplifyStates(s)}static updateStateForPair(e,n,r,s){let o=e.endBinaryShift(n);if(s.push(o.latchAndAppend(Xn,r)),e.getMode()!==Xn&&s.push(o.shiftAndAppend(Xn,r)),r===3||r===4){let l=o.latchAndAppend(ln,16-r).latchAndAppend(ln,1);s.push(l)}if(e.getBinaryShiftByteCount()>0){let l=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);s.push(l)}}static simplifyStates(e){let n=[];for(const r of e){let s=!0;for(const o of n){if(o.isBetterThanOrEqualTo(r)){s=!1;break}r.isBetterThanOrEqualTo(o)&&(n=n.filter(l=>l!==o))}s&&n.push(r)}return n}}class nt{constructor(){}static encodeBytes(e){return nt.encode(e,nt.DEFAULT_EC_PERCENT,nt.DEFAULT_AZTEC_LAYERS)}static encode(e,n,r){let s=new Mi(e).encode(),o=re.truncDivision(s.getSize()*n,100)+11,l=s.getSize()+o,u,f,d,w,E;if(r!==nt.DEFAULT_AZTEC_LAYERS){if(u=r<0,f=Math.abs(r),f>(u?nt.MAX_NB_BITS_COMPACT:nt.MAX_NB_BITS))throw new M(Oe.format("Illegal value %s for layers",r));d=nt.totalBitsInLayer(f,u),w=nt.WORD_SIZE[f];let J=d-d%w;if(E=nt.stuffBits(s,w),E.getSize()+o>J)throw new M("Data to large for user specified layer");if(u&&E.getSize()>w*64)throw new M("Data to large for user specified layer")}else{w=0,E=null;for(let J=0;;J++){if(J>nt.MAX_NB_BITS)throw new M("Data too large for an Aztec code");if(u=J<=3,f=u?J+1:J,d=nt.totalBitsInLayer(f,u),l>d)continue;(E==null||w!==nt.WORD_SIZE[f])&&(w=nt.WORD_SIZE[f],E=nt.stuffBits(s,w));let Ke=d-d%w;if(!(u&&E.getSize()>w*64)&&E.getSize()+o<=Ke)break}}let S=nt.generateCheckWords(E,d,w),_=E.getSize()/w,D=nt.generateModeMessage(u,f,_),k=(u?11:14)+f*4,F=new Int32Array(k),G;if(u){G=k;for(let J=0;J<F.length;J++)F[J]=J}else{G=k+1+2*re.truncDivision(re.truncDivision(k,2)-1,15);let J=re.truncDivision(k,2),Ke=re.truncDivision(G,2);for(let He=0;He<J;He++){let Cn=He+re.truncDivision(He,15);F[J-He-1]=Ke-Cn-1,F[J+He]=Ke+Cn+1}}let ne=new ft(G);for(let J=0,Ke=0;J<f;J++){let He=(f-J)*4+(u?9:12);for(let Cn=0;Cn<He;Cn++){let Yn=Cn*2;for(let Ht=0;Ht<2;Ht++)S.get(Ke+Yn+Ht)&&ne.set(F[J*2+Ht],F[J*2+Cn]),S.get(Ke+He*2+Yn+Ht)&&ne.set(F[J*2+Cn],F[k-1-J*2-Ht]),S.get(Ke+He*4+Yn+Ht)&&ne.set(F[k-1-J*2-Ht],F[k-1-J*2-Cn]),S.get(Ke+He*6+Yn+Ht)&&ne.set(F[k-1-J*2-Cn],F[J*2+Ht])}Ke+=He*8}if(nt.drawModeMessage(ne,u,G,D),u)nt.drawBullsEye(ne,re.truncDivision(G,2),5);else{nt.drawBullsEye(ne,re.truncDivision(G,2),7);for(let J=0,Ke=0;J<re.truncDivision(k,2)-1;J+=15,Ke+=16)for(let He=re.truncDivision(G,2)&1;He<G;He+=2)ne.set(re.truncDivision(G,2)-Ke,He),ne.set(re.truncDivision(G,2)+Ke,He),ne.set(He,re.truncDivision(G,2)-Ke),ne.set(He,re.truncDivision(G,2)+Ke)}let se=new ko;return se.setCompact(u),se.setSize(G),se.setLayers(f),se.setCodeWords(_),se.setMatrix(ne),se}static drawBullsEye(e,n,r){for(let s=0;s<r;s+=2)for(let o=n-s;o<=n+s;o++)e.set(o,n-s),e.set(o,n+s),e.set(n-s,o),e.set(n+s,o);e.set(n-r,n-r),e.set(n-r+1,n-r),e.set(n-r,n-r+1),e.set(n+r,n-r),e.set(n+r,n-r+1),e.set(n+r,n+r-1)}static generateModeMessage(e,n,r){let s=new Se;return e?(s.appendBits(n-1,2),s.appendBits(r-1,6),s=nt.generateCheckWords(s,28,4)):(s.appendBits(n-1,5),s.appendBits(r-1,11),s=nt.generateCheckWords(s,40,4)),s}static drawModeMessage(e,n,r,s){let o=re.truncDivision(r,2);if(n)for(let l=0;l<7;l++){let u=o-3+l;s.get(l)&&e.set(u,o-5),s.get(l+7)&&e.set(o+5,u),s.get(20-l)&&e.set(u,o+5),s.get(27-l)&&e.set(o-5,u)}else for(let l=0;l<10;l++){let u=o-5+l+re.truncDivision(l,5);s.get(l)&&e.set(u,o-7),s.get(l+10)&&e.set(o+7,u),s.get(29-l)&&e.set(u,o+7),s.get(39-l)&&e.set(o-7,u)}}static generateCheckWords(e,n,r){let s=e.getSize()/r,o=new Ws(nt.getGF(r)),l=re.truncDivision(n,r),u=nt.bitsToWords(e,r,l);o.encode(u,l-s);let f=n%r,d=new Se;d.appendBits(0,f);for(const w of Array.from(u))d.appendBits(w,r);return d}static bitsToWords(e,n,r){let s=new Int32Array(r),o,l;for(o=0,l=e.getSize()/n;o<l;o++){let u=0;for(let f=0;f<n;f++)u|=e.get(o*n+f)?1<<n-f-1:0;s[o]=u}return s}static getGF(e){switch(e){case 4:return tt.AZTEC_PARAM;case 6:return tt.AZTEC_DATA_6;case 8:return tt.AZTEC_DATA_8;case 10:return tt.AZTEC_DATA_10;case 12:return tt.AZTEC_DATA_12;default:throw new M("Unsupported word size "+e)}}static stuffBits(e,n){let r=new Se,s=e.getSize(),o=(1<<n)-2;for(let l=0;l<s;l+=n){let u=0;for(let f=0;f<n;f++)(l+f>=s||e.get(l+f))&&(u|=1<<n-1-f);(u&o)===o?(r.appendBits(u&o,n),l--):(u&o)===0?(r.appendBits(u|1,n),l--):r.appendBits(u,n)}return r}static totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}nt.DEFAULT_EC_PERCENT=33,nt.DEFAULT_AZTEC_LAYERS=0,nt.MAX_NB_BITS=32,nt.MAX_NB_BITS_COMPACT=4,nt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ki{encode(e,n,r,s){return this.encodeWithHints(e,n,r,s,null)}encodeWithHints(e,n,r,s,o){let l=Hs.ISO_8859_1,u=nt.DEFAULT_EC_PERCENT,f=nt.DEFAULT_AZTEC_LAYERS;return o!=null&&(o.has(Wt.CHARACTER_SET)&&(l=Mo.forName(o.get(Wt.CHARACTER_SET).toString())),o.has(Wt.ERROR_CORRECTION)&&(u=re.parseInt(o.get(Wt.ERROR_CORRECTION).toString())),o.has(Wt.AZTEC_LAYERS)&&(f=re.parseInt(o.get(Wt.AZTEC_LAYERS).toString()))),ki.encodeLayers(e,n,r,s,l,u,f)}static encodeLayers(e,n,r,s,o,l,u){if(n!==ce.AZTEC)throw new M("Can only encode AZTEC, but got "+n);let f=nt.encode(Oe.getBytes(e,o),l,u);return ki.renderResult(f,r,s)}static renderResult(e,n,r){let s=e.getMatrix();if(s==null)throw new Un;let o=s.getWidth(),l=s.getHeight(),u=Math.max(n,o),f=Math.max(r,l),d=Math.min(u/o,f/l),w=(u-o*d)/2,E=(f-l*d)/2,S=new ft(u,f);for(let _=0,D=E;_<l;_++,D+=d)for(let k=0,F=w;k<o;k++,F+=d)s.get(k,_)&&S.setRegion(F,D,d,d);return S}}g.AbstractExpandedDecoder=Ms,g.ArgumentException=W,g.ArithmeticException=Ci,g.AztecCode=ko,g.AztecCodeReader=Cr,g.AztecCodeWriter=ki,g.AztecDecoder=pt,g.AztecDetector=Yr,g.AztecDetectorResult=_s,g.AztecEncoder=nt,g.AztecHighLevelEncoder=Mi,g.AztecPoint=sn,g.BarcodeFormat=ce,g.Binarizer=be,g.BinaryBitmap=le,g.BitArray=Se,g.BitMatrix=ft,g.BitSource=Bs,g.BrowserAztecCodeReader=Bl,g.BrowserBarcodeReader=No,g.BrowserCodeReader=je,g.BrowserDatamatrixCodeReader=Ll,g.BrowserMultiFormatReader=Oi,g.BrowserPDF417Reader=ss,g.BrowserQRCodeReader=bo,g.BrowserQRCodeSvgWriter=kr,g.CharacterSetECI=ie,g.ChecksumException=xe,g.Code128Reader=fe,g.Code39Reader=jt,g.DataMatrixDecodedBitStreamParser=Wn,g.DataMatrixReader=Hn,g.DecodeHintType=Ce,g.DecoderResult=ht,g.DefaultGridSampler=qi,g.DetectorResult=Xr,g.EAN13Reader=On,g.EncodeHintType=Wt,g.Exception=N,g.FormatException=$,g.GenericGF=tt,g.GenericGFPoly=Qt,g.GlobalHistogramBinarizer=it,g.GridSampler=Qi,g.GridSamplerInstance=Vn,g.HTMLCanvasElementLuminanceSource=ge,g.HybridBinarizer=ve,g.ITFReader=at,g.IllegalArgumentException=M,g.IllegalStateException=Un,g.InvertedLuminanceSource=_e,g.LuminanceSource=de,g.MathUtils=Je,g.MultiFormatOneDReader=Kr,g.MultiFormatReader=is,g.MultiFormatWriter=Ul,g.NotFoundException=Z,g.OneDReader=Dt,g.PDF417DecodedBitStreamParser=X,g.PDF417DecoderErrorCorrection=Us,g.PDF417Reader=tn,g.PDF417ResultMetadata=ns,g.PerspectiveTransform=Rn,g.PlanarYUVLuminanceSource=rr,g.QRCodeByteMatrix=os,g.QRCodeDataMask=Ze,g.QRCodeDecodedBitStreamParser=vt,g.QRCodeDecoderErrorCorrectionLevel=xt,g.QRCodeDecoderFormatInformation=Jt,g.QRCodeEncoder=wt,g.QRCodeEncoderQRCode=Mr,g.QRCodeMaskUtil=St,g.QRCodeMatrixUtil=Pe,g.QRCodeMode=De,g.QRCodeReader=dn,g.QRCodeVersion=Re,g.QRCodeWriter=ti,g.RGBLuminanceSource=Di,g.RSS14Reader=yt,g.RSSExpandedReader=Q,g.ReaderException=ei,g.ReedSolomonDecoder=Gr,g.ReedSolomonEncoder=Ws,g.ReedSolomonException=yr,g.Result=ke,g.ResultMetadataType=Ve,g.ResultPoint=we,g.StringUtils=Oe,g.UnsupportedOperationException=mn,g.VideoInputDevice=U,g.WhiteRectangleDetector=Jn,g.WriterException=mt,g.ZXingArrays=Te,g.ZXingCharset=Mo,g.ZXingInteger=re,g.ZXingStandardCharsets=Hs,g.ZXingStringBuilder=Xe,g.ZXingStringEncoding=Pt,g.ZXingSystem=ae,g.createAbstractExpandedDecoder=So,Object.defineProperty(g,"__esModule",{value:!0})})}(mo,mo.exports)),mo.exports}var _t=wd();const yd=z1(_t),Ed=j1({__proto__:null,default:yd},[_t]);var k1=function(){function x(m,g,A){if(this.formatMap=new Map([[ye.QR_CODE,_t.BarcodeFormat.QR_CODE],[ye.AZTEC,_t.BarcodeFormat.AZTEC],[ye.CODABAR,_t.BarcodeFormat.CODABAR],[ye.CODE_39,_t.BarcodeFormat.CODE_39],[ye.CODE_93,_t.BarcodeFormat.CODE_93],[ye.CODE_128,_t.BarcodeFormat.CODE_128],[ye.DATA_MATRIX,_t.BarcodeFormat.DATA_MATRIX],[ye.MAXICODE,_t.BarcodeFormat.MAXICODE],[ye.ITF,_t.BarcodeFormat.ITF],[ye.EAN_13,_t.BarcodeFormat.EAN_13],[ye.EAN_8,_t.BarcodeFormat.EAN_8],[ye.PDF_417,_t.BarcodeFormat.PDF_417],[ye.RSS_14,_t.BarcodeFormat.RSS_14],[ye.RSS_EXPANDED,_t.BarcodeFormat.RSS_EXPANDED],[ye.UPC_A,_t.BarcodeFormat.UPC_A],[ye.UPC_E,_t.BarcodeFormat.UPC_E],[ye.UPC_EAN_EXTENSION,_t.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Ed)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=g,this.logger=A;var I=this.createZXingFormats(m),C=new Map;C.set(_t.DecodeHintType.POSSIBLE_FORMATS,I),C.set(_t.DecodeHintType.TRY_HARDER,!1),this.hints=C}return x.prototype.decodeAsync=function(m){var g=this;return new Promise(function(A,I){try{A(g.decode(m))}catch(C){I(C)}})},x.prototype.decode=function(m){var g=new _t.MultiFormatReader(this.verbose,this.hints),A=new _t.HTMLCanvasElementLuminanceSource(m),I=new _t.BinaryBitmap(new _t.HybridBinarizer(A)),C=g.decode(I);return{text:C.text,format:s0.create(this.toHtml5QrcodeSupportedFormats(C.format)),debugData:this.createDebugData()}},x.prototype.createReverseFormatMap=function(){var m=new Map;return this.formatMap.forEach(function(g,A,I){m.set(g,A)}),m},x.prototype.toHtml5QrcodeSupportedFormats=function(m){if(!this.reverseFormatMap.has(m))throw"reverseFormatMap doesn't have ".concat(m);return this.reverseFormatMap.get(m)},x.prototype.createZXingFormats=function(m){for(var g=[],A=0,I=m;A<I.length;A++){var C=I[A];this.formatMap.has(C)?g.push(this.formatMap.get(C)):this.logger.logError("".concat(C," is not supported by")+"ZXingHtml5QrcodeShim")}return g},x.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},x}(),Cd=function(x,m,g,A){function I(C){return C instanceof g?C:new g(function(O){O(C)})}return new(g||(g=Promise))(function(C,O){function P(W){try{N(A.next(W))}catch(M){O(M)}}function B(W){try{N(A.throw(W))}catch(M){O(M)}}function N(W){W.done?C(W.value):I(W.value).then(P,B)}N((A=A.apply(x,m||[])).next())})},Ad=function(x,m){var g={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},A,I,C,O;return O={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function P(N){return function(W){return B([N,W])}}function B(N){if(A)throw new TypeError("Generator is already executing.");for(;O&&(O=0,N[0]&&(g=0)),g;)try{if(A=1,I&&(C=N[0]&2?I.return:N[0]?I.throw||((C=I.return)&&C.call(I),0):I.next)&&!(C=C.call(I,N[1])).done)return C;switch(I=0,C&&(N=[N[0]&2,C.value]),N[0]){case 0:case 1:C=N;break;case 4:return g.label++,{value:N[1],done:!1};case 5:g.label++,I=N[1],N=[0];continue;case 7:N=g.ops.pop(),g.trys.pop();continue;default:if(C=g.trys,!(C=C.length>0&&C[C.length-1])&&(N[0]===6||N[0]===2)){g=0;continue}if(N[0]===3&&(!C||N[1]>C[0]&&N[1]<C[3])){g.label=N[1];break}if(N[0]===6&&g.label<C[1]){g.label=C[1],C=N;break}if(C&&g.label<C[2]){g.label=C[2],g.ops.push(N);break}C[2]&&g.ops.pop(),g.trys.pop();continue}N=m.call(x,g)}catch(W){N=[6,W],I=0}finally{A=C=0}if(N[0]&5)throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}},P1=function(){function x(m,g,A){if(this.formatMap=new Map([[ye.QR_CODE,"qr_code"],[ye.AZTEC,"aztec"],[ye.CODABAR,"codabar"],[ye.CODE_39,"code_39"],[ye.CODE_93,"code_93"],[ye.CODE_128,"code_128"],[ye.DATA_MATRIX,"data_matrix"],[ye.ITF,"itf"],[ye.EAN_13,"ean_13"],[ye.EAN_8,"ean_8"],[ye.PDF_417,"pdf417"],[ye.UPC_A,"upc_a"],[ye.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!x.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=g,this.logger=A;var I=this.createBarcodeDetectorFormats(m);if(this.detector=new BarcodeDetector(I),!this.detector)throw"BarcodeDetector detector not supported"}return x.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var m=new BarcodeDetector({formats:["qr_code"]});return typeof m<"u"},x.prototype.decodeAsync=function(m){return Cd(this,void 0,void 0,function(){var g,A;return Ad(this,function(I){switch(I.label){case 0:return[4,this.detector.detect(m)];case 1:if(g=I.sent(),!g||g.length===0)throw"No barcode or QR code detected.";return A=this.selectLargestBarcode(g),[2,{text:A.rawValue,format:s0.create(this.toHtml5QrcodeSupportedFormats(A.format)),debugData:this.createDebugData()}]}})})},x.prototype.selectLargestBarcode=function(m){for(var g=null,A=0,I=0,C=m;I<C.length;I++){var O=C[I],P=O.boundingBox.width*O.boundingBox.height;P>A&&(A=P,g=O)}if(!g)throw"No largest barcode found";return g},x.prototype.createBarcodeDetectorFormats=function(m){for(var g=[],A=0,I=m;A<I.length;A++){var C=I[A];this.formatMap.has(C)?g.push(this.formatMap.get(C)):this.logger.warn("".concat(C," is not supported by")+"BarcodeDetectorDelegate")}return{formats:g}},x.prototype.toHtml5QrcodeSupportedFormats=function(m){if(!this.reverseFormatMap.has(m))throw"reverseFormatMap doesn't have ".concat(m);return this.reverseFormatMap.get(m)},x.prototype.createReverseFormatMap=function(){var m=new Map;return this.formatMap.forEach(function(g,A,I){m.set(g,A)}),m},x.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},x}(),B1=function(x,m,g,A){function I(C){return C instanceof g?C:new g(function(O){O(C)})}return new(g||(g=Promise))(function(C,O){function P(W){try{N(A.next(W))}catch(M){O(M)}}function B(W){try{N(A.throw(W))}catch(M){O(M)}}function N(W){W.done?C(W.value):I(W.value).then(P,B)}N((A=A.apply(x,m||[])).next())})},L1=function(x,m){var g={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},A,I,C,O;return O={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function P(N){return function(W){return B([N,W])}}function B(N){if(A)throw new TypeError("Generator is already executing.");for(;O&&(O=0,N[0]&&(g=0)),g;)try{if(A=1,I&&(C=N[0]&2?I.return:N[0]?I.throw||((C=I.return)&&C.call(I),0):I.next)&&!(C=C.call(I,N[1])).done)return C;switch(I=0,C&&(N=[N[0]&2,C.value]),N[0]){case 0:case 1:C=N;break;case 4:return g.label++,{value:N[1],done:!1};case 5:g.label++,I=N[1],N=[0];continue;case 7:N=g.ops.pop(),g.trys.pop();continue;default:if(C=g.trys,!(C=C.length>0&&C[C.length-1])&&(N[0]===6||N[0]===2)){g=0;continue}if(N[0]===3&&(!C||N[1]>C[0]&&N[1]<C[3])){g.label=N[1];break}if(N[0]===6&&g.label<C[1]){g.label=C[1],C=N;break}if(C&&g.label<C[2]){g.label=C[2],g.ops.push(N);break}C[2]&&g.ops.pop(),g.trys.pop();continue}N=m.call(x,g)}catch(W){N=[6,W],I=0}finally{A=C=0}if(N[0]&5)throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}},vd=function(){function x(m,g,A,I){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=A,g&&P1.isSupported()?(this.primaryDecoder=new P1(m,A,I),this.secondaryDecoder=new k1(m,A,I)):this.primaryDecoder=new k1(m,A,I)}return x.prototype.decodeAsync=function(m){return B1(this,void 0,void 0,function(){var g;return L1(this,function(A){switch(A.label){case 0:g=performance.now(),A.label=1;case 1:return A.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(m)];case 2:return[2,A.sent()];case 3:return this.possiblyLogPerformance(g),[7];case 4:return[2]}})})},x.prototype.decodeRobustlyAsync=function(m){return B1(this,void 0,void 0,function(){var g,A;return L1(this,function(I){switch(I.label){case 0:g=performance.now(),I.label=1;case 1:return I.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(m)];case 2:return[2,I.sent()];case 3:if(A=I.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(m)];throw A;case 4:return this.possiblyLogPerformance(g),[7];case 5:return[2]}})})},x.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},x.prototype.possiblyLogPerformance=function(m){if(this.verbose){var g=performance.now()-m;this.executionResults.push(g),this.executions++,this.possiblyFlushPerformanceReport()}},x.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var m=0,g=0,A=this.executionResults;g<A.length;g++){var I=A[g];m+=I}var C=m/this.executionResults.length;console.log("".concat(C," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},x}(),yu=function(){var x=function(m,g){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,I){A.__proto__=I}||function(A,I){for(var C in I)Object.prototype.hasOwnProperty.call(I,C)&&(A[C]=I[C])},x(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");x(m,g);function A(){this.constructor=m}m.prototype=g===null?Object.create(g):(A.prototype=g.prototype,new A)}}(),bl=function(x,m,g,A){function I(C){return C instanceof g?C:new g(function(O){O(C)})}return new(g||(g=Promise))(function(C,O){function P(W){try{N(A.next(W))}catch(M){O(M)}}function B(W){try{N(A.throw(W))}catch(M){O(M)}}function N(W){W.done?C(W.value):I(W.value).then(P,B)}N((A=A.apply(x,m||[])).next())})},Ml=function(x,m){var g={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},A,I,C,O;return O={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function P(N){return function(W){return B([N,W])}}function B(N){if(A)throw new TypeError("Generator is already executing.");for(;O&&(O=0,N[0]&&(g=0)),g;)try{if(A=1,I&&(C=N[0]&2?I.return:N[0]?I.throw||((C=I.return)&&C.call(I),0):I.next)&&!(C=C.call(I,N[1])).done)return C;switch(I=0,C&&(N=[N[0]&2,C.value]),N[0]){case 0:case 1:C=N;break;case 4:return g.label++,{value:N[1],done:!1};case 5:g.label++,I=N[1],N=[0];continue;case 7:N=g.ops.pop(),g.trys.pop();continue;default:if(C=g.trys,!(C=C.length>0&&C[C.length-1])&&(N[0]===6||N[0]===2)){g=0;continue}if(N[0]===3&&(!C||N[1]>C[0]&&N[1]<C[3])){g.label=N[1];break}if(N[0]===6&&g.label<C[1]){g.label=C[1],C=N;break}if(C&&g.label<C[2]){g.label=C[2],g.ops.push(N);break}C[2]&&g.ops.pop(),g.trys.pop();continue}N=m.call(x,g)}catch(W){N=[6,W],I=0}finally{A=C=0}if(N[0]&5)throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}},l0=function(){function x(m,g){this.name=m,this.track=g}return x.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},x.prototype.apply=function(m){var g={};g[this.name]=m;var A={advanced:[g]};return this.track.applyConstraints(A)},x.prototype.value=function(){var m=this.track.getSettings();if(this.name in m){var g=m[this.name];return g}return null},x}(),Sd=function(x){yu(m,x);function m(g,A){return x.call(this,g,A)||this}return m.prototype.min=function(){return this.getCapabilities().min},m.prototype.max=function(){return this.getCapabilities().max},m.prototype.step=function(){return this.getCapabilities().step},m.prototype.apply=function(g){var A={};A[this.name]=g;var I={advanced:[A]};return this.track.applyConstraints(I)},m.prototype.getCapabilities=function(){this.failIfNotSupported();var g=this.track.getCapabilities(),A=g[this.name];return{min:A.min,max:A.max,step:A.step}},m.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},m}(l0),Id=function(x){yu(m,x);function m(g){return x.call(this,"zoom",g)||this}return m}(Sd),Nd=function(x){yu(m,x);function m(g){return x.call(this,"torch",g)||this}return m}(l0),Td=function(){function x(m){this.track=m}return x.prototype.zoomFeature=function(){return new Id(this.track)},x.prototype.torchFeature=function(){return new Nd(this.track)},x}(),_d=function(){function x(m,g,A){this.isClosed=!1,this.parentElement=m,this.mediaStream=g,this.callbacks=A,this.surface=this.createVideoElement(this.parentElement.clientWidth),m.append(this.surface)}return x.prototype.createVideoElement=function(m){var g=document.createElement("video");return g.style.width="".concat(m,"px"),g.style.display="block",g.muted=!0,g.setAttribute("muted","true"),g.playsInline=!0,g},x.prototype.setupSurface=function(){var m=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var g=function(){var A=m.surface.clientWidth,I=m.surface.clientHeight;m.callbacks.onRenderSurfaceReady(A,I),m.surface.removeEventListener("playing",g)};this.surface.addEventListener("playing",g),this.surface.srcObject=this.mediaStream,this.surface.play()},x.create=function(m,g,A,I){return bl(this,void 0,void 0,function(){var C,O;return Ml(this,function(P){switch(P.label){case 0:return C=new x(m,g,I),A.aspectRatio?(O={aspectRatio:A.aspectRatio},[4,C.getFirstTrackOrFail().applyConstraints(O)]):[3,2];case 1:P.sent(),P.label=2;case 2:return C.setupSurface(),[2,C]}})})},x.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},x.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},x.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},x.prototype.resume=function(m){this.failIfClosed();var g=this,A=function(){setTimeout(m,200),g.surface.removeEventListener("playing",A)};this.surface.addEventListener("playing",A),this.surface.play()},x.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},x.prototype.getSurface=function(){return this.failIfClosed(),this.surface},x.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},x.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},x.prototype.applyVideoConstraints=function(m){return bl(this,void 0,void 0,function(){return Ml(this,function(g){if("aspectRatio"in m)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(m)]})})},x.prototype.close=function(){if(this.isClosed)return Promise.resolve();var m=this;return new Promise(function(g,A){var I=m.mediaStream.getVideoTracks(),C=I.length,O=0;m.mediaStream.getVideoTracks().forEach(function(P){m.mediaStream.removeTrack(P),P.stop(),++O,O>=C&&(m.isClosed=!0,m.parentElement.removeChild(m.surface),g())})})},x.prototype.getCapabilities=function(){return new Td(this.getFirstTrackOrFail())},x}(),Rd=function(){function x(m){this.mediaStream=m}return x.prototype.render=function(m,g,A){return bl(this,void 0,void 0,function(){return Ml(this,function(I){return[2,_d.create(m,this.mediaStream,g,A)]})})},x.create=function(m){return bl(this,void 0,void 0,function(){var g,A;return Ml(this,function(I){switch(I.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return g={audio:!1,video:m},[4,navigator.mediaDevices.getUserMedia(g)];case 1:return A=I.sent(),[2,new x(A)]}})})},x}(),F1=function(x,m,g,A){function I(C){return C instanceof g?C:new g(function(O){O(C)})}return new(g||(g=Promise))(function(C,O){function P(W){try{N(A.next(W))}catch(M){O(M)}}function B(W){try{N(A.throw(W))}catch(M){O(M)}}function N(W){W.done?C(W.value):I(W.value).then(P,B)}N((A=A.apply(x,m||[])).next())})},U1=function(x,m){var g={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},A,I,C,O;return O={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function P(N){return function(W){return B([N,W])}}function B(N){if(A)throw new TypeError("Generator is already executing.");for(;O&&(O=0,N[0]&&(g=0)),g;)try{if(A=1,I&&(C=N[0]&2?I.return:N[0]?I.throw||((C=I.return)&&C.call(I),0):I.next)&&!(C=C.call(I,N[1])).done)return C;switch(I=0,C&&(N=[N[0]&2,C.value]),N[0]){case 0:case 1:C=N;break;case 4:return g.label++,{value:N[1],done:!1};case 5:g.label++,I=N[1],N=[0];continue;case 7:N=g.ops.pop(),g.trys.pop();continue;default:if(C=g.trys,!(C=C.length>0&&C[C.length-1])&&(N[0]===6||N[0]===2)){g=0;continue}if(N[0]===3&&(!C||N[1]>C[0]&&N[1]<C[3])){g.label=N[1];break}if(N[0]===6&&g.label<C[1]){g.label=C[1],C=N;break}if(C&&g.label<C[2]){g.label=C[2],g.ops.push(N);break}C[2]&&g.ops.pop(),g.trys.pop();continue}N=m.call(x,g)}catch(W){N=[6,W],I=0}finally{A=C=0}if(N[0]&5)throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}},Od=function(){function x(){}return x.failIfNotSupported=function(){return F1(this,void 0,void 0,function(){return U1(this,function(m){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new x]})})},x.prototype.create=function(m){return F1(this,void 0,void 0,function(){return U1(this,function(g){return[2,Rd.create(m)]})})},x}(),Dd=function(x,m,g,A){function I(C){return C instanceof g?C:new g(function(O){O(C)})}return new(g||(g=Promise))(function(C,O){function P(W){try{N(A.next(W))}catch(M){O(M)}}function B(W){try{N(A.throw(W))}catch(M){O(M)}}function N(W){W.done?C(W.value):I(W.value).then(P,B)}N((A=A.apply(x,m||[])).next())})},bd=function(x,m){var g={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},A,I,C,O;return O={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function P(N){return function(W){return B([N,W])}}function B(N){if(A)throw new TypeError("Generator is already executing.");for(;O&&(O=0,N[0]&&(g=0)),g;)try{if(A=1,I&&(C=N[0]&2?I.return:N[0]?I.throw||((C=I.return)&&C.call(I),0):I.next)&&!(C=C.call(I,N[1])).done)return C;switch(I=0,C&&(N=[N[0]&2,C.value]),N[0]){case 0:case 1:C=N;break;case 4:return g.label++,{value:N[1],done:!1};case 5:g.label++,I=N[1],N=[0];continue;case 7:N=g.ops.pop(),g.trys.pop();continue;default:if(C=g.trys,!(C=C.length>0&&C[C.length-1])&&(N[0]===6||N[0]===2)){g=0;continue}if(N[0]===3&&(!C||N[1]>C[0]&&N[1]<C[3])){g.label=N[1];break}if(N[0]===6&&g.label<C[1]){g.label=C[1],C=N;break}if(C&&g.label<C[2]){g.label=C[2],g.ops.push(N);break}C[2]&&g.ops.pop(),g.trys.pop();continue}N=m.call(x,g)}catch(W){N=[6,W],I=0}finally{A=C=0}if(N[0]&5)throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}},Md=function(){function x(){}return x.retrieve=function(){if(navigator.mediaDevices)return x.getCamerasFromMediaDevices();var m=MediaStreamTrack;return MediaStreamTrack&&m.getSources?x.getCamerasFromMediaStreamTrack():x.rejectWithError()},x.rejectWithError=function(){var m=Is.unableToQuerySupportedDevices();return x.isHttpsOrLocalhost()||(m=Is.insecureContextCameraQueryError()),Promise.reject(m)},x.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var m=location.host.split(":")[0];return m==="127.0.0.1"||m==="localhost"},x.getCamerasFromMediaDevices=function(){return Dd(this,void 0,void 0,function(){var m,g,A,I,C,O,P;return bd(this,function(B){switch(B.label){case 0:return m=function(N){for(var W=N.getVideoTracks(),M=0,le=W;M<le.length;M++){var xe=le[M];xe.enabled=!1,xe.stop(),N.removeTrack(xe)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return g=B.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(A=B.sent(),I=[],C=0,O=A;C<O.length;C++)P=O[C],P.kind==="videoinput"&&I.push({id:P.deviceId,label:P.label});return m(g),[2,I]}})})},x.getCamerasFromMediaStreamTrack=function(){return new Promise(function(m,g){var A=function(C){for(var O=[],P=0,B=C;P<B.length;P++){var N=B[P];N.kind==="video"&&O.push({id:N.id,label:N.label})}m(O)},I=MediaStreamTrack;I.getSources(A)})},x}(),Ut;(function(x){x[x.UNKNOWN=0]="UNKNOWN",x[x.NOT_STARTED=1]="NOT_STARTED",x[x.SCANNING=2]="SCANNING",x[x.PAUSED=3]="PAUSED"})(Ut||(Ut={}));var kd=function(){function x(){this.state=Ut.NOT_STARTED,this.onGoingTransactionNewState=Ut.UNKNOWN}return x.prototype.directTransition=function(m){this.failIfTransitionOngoing(),this.validateTransition(m),this.state=m},x.prototype.startTransition=function(m){return this.failIfTransitionOngoing(),this.validateTransition(m),this.onGoingTransactionNewState=m,this},x.prototype.execute=function(){if(this.onGoingTransactionNewState===Ut.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var m=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ut.UNKNOWN,this.directTransition(m)},x.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ut.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ut.UNKNOWN},x.prototype.getState=function(){return this.state},x.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ut.UNKNOWN)throw"Cannot transition to a new state, already under transition"},x.prototype.validateTransition=function(m){switch(this.state){case Ut.UNKNOWN:throw"Transition from unknown is not allowed";case Ut.NOT_STARTED:this.failIfNewStateIs(m,[Ut.PAUSED]);break;case Ut.SCANNING:break;case Ut.PAUSED:break}},x.prototype.failIfNewStateIs=function(m,g){for(var A=0,I=g;A<I.length;A++){var C=I[A];if(m===C)throw"Cannot transition from ".concat(this.state," to ").concat(m)}},x}(),Pd=function(){function x(m){this.stateManager=m}return x.prototype.startTransition=function(m){return this.stateManager.startTransition(m)},x.prototype.directTransition=function(m){this.stateManager.directTransition(m)},x.prototype.getState=function(){return this.stateManager.getState()},x.prototype.canScanFile=function(){return this.stateManager.getState()===Ut.NOT_STARTED},x.prototype.isScanning=function(){return this.stateManager.getState()!==Ut.NOT_STARTED},x.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ut.SCANNING},x.prototype.isPaused=function(){return this.stateManager.getState()===Ut.PAUSED},x}(),Bd=function(){function x(){}return x.create=function(){return new Pd(new kd)},x}(),Ld=function(){var x=function(m,g){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,I){A.__proto__=I}||function(A,I){for(var C in I)Object.prototype.hasOwnProperty.call(I,C)&&(A[C]=I[C])},x(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");x(m,g);function A(){this.constructor=m}m.prototype=g===null?Object.create(g):(A.prototype=g.prototype,new A)}}(),qn=function(x){Ld(m,x);function m(){return x!==null&&x.apply(this,arguments)||this}return m.DEFAULT_WIDTH=300,m.DEFAULT_WIDTH_OFFSET=2,m.FILE_SCAN_MIN_HEIGHT=300,m.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,m.MIN_QR_BOX_SIZE=50,m.SHADED_LEFT=1,m.SHADED_RIGHT=2,m.SHADED_TOP=3,m.SHADED_BOTTOM=4,m.SHADED_REGION_ELEMENT_ID="qr-shaded-region",m.VERBOSE=!1,m.BORDER_SHADER_DEFAULT_COLOR="#ffffff",m.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",m}(gd),Fd=function(){function x(m,g){this.logger=g,this.fps=qn.SCAN_DEFAULT_FPS,m?(m.fps&&(this.fps=m.fps),this.disableFlip=m.disableFlip===!0,this.qrbox=m.qrbox,this.aspectRatio=m.aspectRatio,this.videoConstraints=m.videoConstraints):this.disableFlip=qn.DEFAULT_DISABLE_FLIP}return x.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?o0.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},x.prototype.isShadedBoxEnabled=function(){return!Hr(this.qrbox)},x.create=function(m,g){return new x(m,g)},x}(),Ud=function(){function x(m,g){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(m))throw"HTML Element with id=".concat(m," not found");this.elementId=m,this.verbose=!1;var A;typeof g=="boolean"?this.verbose=g===!0:g&&(A=g,this.verbose=A.verbose===!0,A.experimentalFeatures),this.logger=new pd(this.verbose),this.qrcode=new vd(this.getSupportedFormats(g),this.getUseBarCodeDetectorIfSupported(A),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Bd.create()}return x.prototype.start=function(m,g,A,I){var C=this;if(!m)throw"cameraIdOrConfig is required";if(!A||typeof A!="function")throw"qrCodeSuccessCallback is required and should be a function.";var O;I?O=I:O=this.verbose?this.logger.log:function(){};var P=Fd.create(g,this.logger);this.clearElement();var B=!1;P.videoConstraints&&(P.isMediaStreamConstraintsValid()?B=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var N=B,W=document.getElementById(this.elementId);W.clientWidth?W.clientWidth:qn.DEFAULT_WIDTH,W.style.position="relative",this.shouldScan=!0,this.element=W;var M=this,le=this.stateManagerProxy.startTransition(Ut.SCANNING);return new Promise(function(xe,be){var ae=N?P.videoConstraints:M.createVideoConstraints(m);if(!ae){le.cancel(),be("videoConstraints should be defined");return}var he={};(!N||P.aspectRatio)&&(he.aspectRatio=P.aspectRatio);var Me={onRenderSurfaceReady:function(Te,re){M.setupUi(Te,re,P),M.isScanning=!0,M.foreverScan(P,A,O)}};Od.failIfNotSupported().then(function(Te){Te.create(ae).then(function(re){return re.render(C.element,he,Me).then(function(Se){M.renderedCamera=Se,le.execute(),xe(null)}).catch(function(Se){le.cancel(),be(Se)})}).catch(function(re){le.cancel(),be(Is.errorGettingUserMedia(re))})}).catch(function(Te){le.cancel(),be(Is.cameraStreamingNotSupported())})})},x.prototype.pause=function(m){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ut.PAUSED),this.showPausedState(),(Hr(m)||m!==!0)&&(m=!1),m&&this.renderedCamera&&this.renderedCamera.pause()},x.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var m=this,g=function(){m.stateManagerProxy.directTransition(Ut.SCANNING),m.hidePausedState()};if(!this.renderedCamera.isPaused()){g();return}this.renderedCamera.resume(function(){g()})},x.prototype.getState=function(){return this.stateManagerProxy.getState()},x.prototype.stop=function(){var m=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var g=this.stateManagerProxy.startTransition(Ut.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var A=function(){if(m.element){var C=document.getElementById(qn.SHADED_REGION_ELEMENT_ID);C&&m.element.removeChild(C)}},I=this;return this.renderedCamera.close().then(function(){return I.renderedCamera=null,I.element&&(I.element.removeChild(I.canvasElement),I.canvasElement=null),A(),I.qrRegion&&(I.qrRegion=null),I.context&&(I.context=null),g.execute(),I.hidePausedState(),I.isScanning=!1,Promise.resolve()})},x.prototype.scanFile=function(m,g){return this.scanFileV2(m,g).then(function(A){return A.decodedText})},x.prototype.scanFileV2=function(m,g){var A=this;if(!m||!(m instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Hr(g)&&(g=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(I,C){A.possiblyCloseLastScanImageFile(),A.clearElement(),A.lastScanImageFile=URL.createObjectURL(m);var O=new Image;O.onload=function(){var P=O.width,B=O.height,N=document.getElementById(A.elementId),W=N.clientWidth?N.clientWidth:qn.DEFAULT_WIDTH,M=Math.max(N.clientHeight?N.clientHeight:B,qn.FILE_SCAN_MIN_HEIGHT),le=A.computeCanvasDrawConfig(P,B,W,M);if(g){var xe=A.createCanvasElement(W,M,"qr-canvas-visible");xe.style.display="inline-block",N.appendChild(xe);var be=xe.getContext("2d");if(!be)throw"Unable to get 2d context from canvas";be.canvas.width=W,be.canvas.height=M,be.drawImage(O,0,0,P,B,le.x,le.y,le.width,le.height)}var ae=qn.FILE_SCAN_HIDDEN_CANVAS_PADDING,he=Math.max(O.width,le.width),Me=Math.max(O.height,le.height),Te=he+2*ae,re=Me+2*ae,Se=A.createCanvasElement(Te,re);N.appendChild(Se);var ct=Se.getContext("2d");if(!ct)throw"Unable to get 2d context from canvas";ct.canvas.width=Te,ct.canvas.height=re,ct.drawImage(O,0,0,P,B,ae,ae,he,Me);try{A.qrcode.decodeRobustlyAsync(Se).then(function(Ce){I(b1.createFromQrcodeResult(Ce))}).catch(C)}catch(Ce){C("QR code parse error, error = ".concat(Ce))}},O.onerror=C,O.onabort=C,O.onstalled=C,O.onsuspend=C,O.src=URL.createObjectURL(m)})},x.prototype.clear=function(){this.clearElement()},x.getCameras=function(){return Md.retrieve()},x.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},x.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},x.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},x.prototype.applyVideoConstraints=function(m){if(m){if(!o0.isMediaStreamConstraintsValid(m,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(m)},x.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},x.prototype.getSupportedFormats=function(m){var g=[ye.QR_CODE,ye.AZTEC,ye.CODABAR,ye.CODE_39,ye.CODE_93,ye.CODE_128,ye.DATA_MATRIX,ye.MAXICODE,ye.ITF,ye.EAN_13,ye.EAN_8,ye.PDF_417,ye.RSS_14,ye.RSS_EXPANDED,ye.UPC_A,ye.UPC_E,ye.UPC_EAN_EXTENSION];if(!m||typeof m=="boolean"||!m.formatsToSupport)return g;if(!Array.isArray(m.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(m.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var A=[],I=0,C=m.formatsToSupport;I<C.length;I++){var O=C[I];hd(O)?A.push(O):this.logger.warn("Invalid format: ".concat(O," passed in config, ignoring."))}if(A.length===0)throw"None of formatsToSupport match supported values.";return A},x.prototype.getUseBarCodeDetectorIfSupported=function(m){if(Hr(m))return!0;if(!Hr(m.useBarCodeDetectorIfSupported))return m.useBarCodeDetectorIfSupported!==!1;if(Hr(m.experimentalFeatures))return!0;var g=m.experimentalFeatures;return Hr(g.useBarCodeDetectorIfSupported)?!0:g.useBarCodeDetectorIfSupported!==!1},x.prototype.validateQrboxSize=function(m,g,A){var I=this,C=A.qrbox;this.validateQrboxConfig(C);var O=this.toQrdimensions(m,g,C),P=function(N){if(N<qn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(qn.MIN_QR_BOX_SIZE,"px.")},B=function(N){return N>m&&(I.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),N=m),N};P(O.width),P(O.height),O.width=B(O.width)},x.prototype.validateQrboxConfig=function(m){if(typeof m!="number"&&typeof m!="function"&&(m.width===void 0||m.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},x.prototype.toQrdimensions=function(m,g,A){if(typeof A=="number")return{width:A,height:A};if(typeof A=="function")try{return A(m,g)}catch(I){throw new Error("qrbox config was passed as a function but it failed with unknown error"+I)}return A},x.prototype.setupUi=function(m,g,A){A.isShadedBoxEnabled()&&this.validateQrboxSize(m,g,A);var I=Hr(A.qrbox)?{width:m,height:g}:A.qrbox;this.validateQrboxConfig(I);var C=this.toQrdimensions(m,g,I);C.height>g&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var O=A.isShadedBoxEnabled()&&C.height<=g,P={x:0,y:0,width:m,height:g},B=O?this.getShadedRegionBounds(m,g,C):P,N=this.createCanvasElement(B.width,B.height),W={willReadFrequently:!0},M=N.getContext("2d",W);M.canvas.width=B.width,M.canvas.height=B.height,this.element.append(N),O&&this.possiblyInsertShadingElement(this.element,m,g,C),this.createScannerPausedUiElement(this.element),this.qrRegion=B,this.context=M,this.canvasElement=N},x.prototype.createScannerPausedUiElement=function(m){var g=document.createElement("div");g.innerText=Is.scannerPaused(),g.style.display="none",g.style.position="absolute",g.style.top="0px",g.style.zIndex="1",g.style.background="rgba(9, 9, 9, 0.46)",g.style.color="#FFECEC",g.style.textAlign="center",g.style.width="100%",m.appendChild(g),this.scannerPausedUiElement=g},x.prototype.scanContext=function(m,g){var A=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(I){return m(I.text,b1.createFromQrcodeResult(I)),A.possiblyUpdateShaders(!0),!0}).catch(function(I){A.possiblyUpdateShaders(!1);var C=Is.codeParseError(I);return g(C,xd.createFrom(C)),!1})},x.prototype.foreverScan=function(m,g,A){var I=this;if(this.shouldScan&&this.renderedCamera){var C=this.renderedCamera.getSurface(),O=C.videoWidth/C.clientWidth,P=C.videoHeight/C.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var B=this.qrRegion.width*O,N=this.qrRegion.height*P,W=this.qrRegion.x*O,M=this.qrRegion.y*P;this.context.drawImage(C,W,M,B,N,0,0,this.qrRegion.width,this.qrRegion.height);var le=function(){I.foreverScanTimeout=setTimeout(function(){I.foreverScan(m,g,A)},I.getTimeoutFps(m.fps))};this.scanContext(g,A).then(function(xe){!xe&&m.disableFlip!==!0?(I.context.translate(I.context.canvas.width,0),I.context.scale(-1,1),I.scanContext(g,A).finally(function(){le()})):le()}).catch(function(xe){I.logger.logError("Error happend while scanning context",xe),le()})}},x.prototype.createVideoConstraints=function(m){if(typeof m=="string")return{deviceId:{exact:m}};if(typeof m=="object"){var g="facingMode",A="deviceId",I={user:!0,environment:!0},C="exact",O=function(be){if(be in I)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(be,"'")},P=Object.keys(m);if(P.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(P.length," keys");var B=Object.keys(m)[0];if(B!==g&&B!==A)throw"Only '".concat(g,"' and '").concat(A,"' ")+" are supported for 'cameraIdOrConfig'";if(B===g){var N=m.facingMode;if(typeof N=="string"){if(O(N))return{facingMode:N}}else if(typeof N=="object")if(C in N){if(O(N["".concat(C)]))return{facingMode:{exact:N["".concat(C)]}}}else throw"'facingMode' should be string or object with"+" ".concat(C," as key.");else{var W=typeof N;throw"Invalid type of 'facingMode' = ".concat(W)}}else{var M=m.deviceId;if(typeof M=="string")return{deviceId:M};if(typeof M=="object"){if(C in M)return{deviceId:{exact:M["".concat(C)]}};throw"'deviceId' should be string or object with"+" ".concat(C," as key.")}else{var le=typeof M;throw"Invalid type of 'deviceId' = ".concat(le)}}}var xe=typeof m;throw"Invalid type of 'cameraIdOrConfig' = ".concat(xe)},x.prototype.computeCanvasDrawConfig=function(m,g,A,I){if(m<=A&&g<=I){var C=(A-m)/2,O=(I-g)/2;return{x:C,y:O,width:m,height:g}}else{var P=m,B=g;return m>A&&(g=A/m*g,m=A),g>I&&(m=I/g*m,g=I),this.logger.log("Image downsampled from "+"".concat(P,"X").concat(B)+" to ".concat(m,"X").concat(g,".")),this.computeCanvasDrawConfig(m,g,A,I)}},x.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var m=document.getElementById(this.elementId);m&&(m.innerHTML="")},x.prototype.possiblyUpdateShaders=function(m){this.qrMatch!==m&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(g){g.style.backgroundColor=m?qn.BORDER_SHADER_MATCH_COLOR:qn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=m)},x.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},x.prototype.createCanvasElement=function(m,g,A){var I=m,C=g,O=document.createElement("canvas");return O.style.width="".concat(I,"px"),O.style.height="".concat(C,"px"),O.style.display="none",O.id=Hr(A)?"qr-canvas":A,O},x.prototype.getShadedRegionBounds=function(m,g,A){if(A.width>m||A.height>g)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(m-A.width)/2,y:(g-A.height)/2,width:A.width,height:A.height}},x.prototype.possiblyInsertShadingElement=function(m,g,A,I){if(!(g-I.width<1||A-I.height<1)){var C=document.createElement("div");C.style.position="absolute";var O=(g-I.width)/2,P=(A-I.height)/2;if(C.style.borderLeft="".concat(O,"px solid rgba(0, 0, 0, 0.48)"),C.style.borderRight="".concat(O,"px solid rgba(0, 0, 0, 0.48)"),C.style.borderTop="".concat(P,"px solid rgba(0, 0, 0, 0.48)"),C.style.borderBottom="".concat(P,"px solid rgba(0, 0, 0, 0.48)"),C.style.boxSizing="border-box",C.style.top="0px",C.style.bottom="0px",C.style.left="0px",C.style.right="0px",C.id="".concat(qn.SHADED_REGION_ELEMENT_ID),g-I.width<11||A-I.height<11)this.hasBorderShaders=!1;else{var B=5,N=40;this.insertShaderBorders(C,N,B,-B,null,0,!0),this.insertShaderBorders(C,N,B,-B,null,0,!1),this.insertShaderBorders(C,N,B,null,-B,0,!0),this.insertShaderBorders(C,N,B,null,-B,0,!1),this.insertShaderBorders(C,B,N+B,-B,null,-B,!0),this.insertShaderBorders(C,B,N+B,null,-B,-B,!0),this.insertShaderBorders(C,B,N+B,-B,null,-B,!1),this.insertShaderBorders(C,B,N+B,null,-B,-B,!1),this.hasBorderShaders=!0}m.append(C)}},x.prototype.insertShaderBorders=function(m,g,A,I,C,O,P){var B=document.createElement("div");B.style.position="absolute",B.style.backgroundColor=qn.BORDER_SHADER_DEFAULT_COLOR,B.style.width="".concat(g,"px"),B.style.height="".concat(A,"px"),I!==null&&(B.style.top="".concat(I,"px")),C!==null&&(B.style.bottom="".concat(C,"px")),P?B.style.left="".concat(O,"px"):B.style.right="".concat(O,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(B),m.appendChild(B)},x.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},x.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},x.prototype.getTimeoutFps=function(m){return 1e3/m},x}(),V1;(function(x){x[x.STATUS_DEFAULT=0]="STATUS_DEFAULT",x[x.STATUS_SUCCESS=1]="STATUS_SUCCESS",x[x.STATUS_WARNING=2]="STATUS_WARNING",x[x.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(V1||(V1={}));function Vd(){const x=Ts(),[m,g]=ue.useState(""),[A,I]=ue.useState("trishool"),[C,O]=ue.useState("version one"),[P,B]=ue.useState(!1),[N,W]=ue.useState(""),[M,le]=ue.useState(!1),[xe,be]=ue.useState(!1),[ae,he]=ue.useState(!1),Me=ue.useRef(null),Te=Ce=>{if(g(Ce),Ce.trim()===""){B(!1),W("");return}ad(Ce)?(B(!0),W("")):(B(!1),W("Invalid IMEI format. Must be: deviceid-A2025001"))},re=async()=>{be(!0),he(!0);try{await new Promise(Ue=>setTimeout(Ue,100));const Ce=new Ud("qr-reader");Me.current=Ce;const $={fps:10,qrbox:{width:250,height:250},aspectRatio:1};await Ce.start({facingMode:"environment"},$,Ue=>{Te(Ue),Se()},Ue=>{console.log("QR scan error:",Ue)})}catch(Ce){console.error("QR Scanner error:",Ce),W("Failed to access camera. Please enable camera permissions."),be(!1),he(!1)}},Se=async()=>{if(Me.current)try{await Me.current.stop(),Me.current=null}catch(Ce){console.error("Error stopping scanner:",Ce)}be(!1),he(!1)},ct=async Ce=>{if(Ce.preventDefault(),!!P){le(!0);try{if(!(await Ol.registerDevice({deviceId:m.trim(),device_name:A,device_version:C,isLinked:!1,linkedAt:null,linkedToUser:null})).data)throw new Error("No data returned from registration");g(""),B(!1),W(""),x("/dashboard")}catch($){W(`Registration failed: ${$.message}`)}finally{le(!1)}}};return V.jsxs("div",{className:"min-h-screen bg-white",children:[V.jsx(wu,{showBackButton:!0}),V.jsxs("div",{className:"page-container",children:[V.jsxs("div",{className:"page-header",children:[V.jsx("h1",{className:"text-headline text-black",children:"Device Registration"}),V.jsx("p",{className:"text-body text-medium-gray mt-sm",children:"Register new TRISHOOL devices with validated IMEI format"})]}),V.jsx("div",{className:"form-container",children:V.jsxs("form",{onSubmit:ct,className:"space-y-lg",children:[V.jsxs("div",{className:"space-y-md",children:[V.jsx("h2",{className:"text-subhead text-black",children:"Device Information"}),V.jsxs("div",{children:[V.jsx("label",{htmlFor:"deviceId",className:"form-label required",children:"Device ID (IMEI)"}),V.jsxs("div",{className:"flex space-x-sm",children:[V.jsx("input",{type:"text",id:"deviceId",value:m,onChange:Ce=>Te(Ce.target.value),className:`input-field flex-1 ${P?"success":N?"error":""}`,placeholder:"deviceid-A2025001",required:!0,disabled:M}),V.jsx("button",{type:"button",onClick:re,className:"btn-secondary whitespace-nowrap px-lg",disabled:M||ae,children:"SCAN QR CODE"})]}),N&&V.jsx("div",{className:"validation-message error",children:N}),P&&!N&&V.jsx("div",{className:"validation-message success",children:"Valid IMEI format"})]}),V.jsxs("div",{children:[V.jsx("label",{htmlFor:"deviceName",className:"form-label required",children:"Device Name"}),V.jsx("select",{id:"deviceName",value:A,onChange:Ce=>I(Ce.target.value),className:"input-field w-full",disabled:M,required:!0,children:V.jsx("option",{value:"trishool",children:"trishool"})})]}),V.jsxs("div",{children:[V.jsx("label",{htmlFor:"deviceVersion",className:"form-label required",children:"Device Version"}),V.jsx("select",{id:"deviceVersion",value:C,onChange:Ce=>O(Ce.target.value),className:"input-field w-full",disabled:M,required:!0,children:V.jsx("option",{value:"version one",children:"version one"})})]})]}),V.jsxs("div",{className:"space-y-sm pt-lg border-t border-border-gray",children:[V.jsx("p",{className:"text-small text-medium-gray",children:"All fields are required. Device ID must follow the specified IMEI format."}),V.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:!P||M,children:M?"PROCESSING...":"REGISTER DEVICE"})]})]})})]}),xe&&V.jsx("div",{className:"qr-scanner-overlay",onClick:Se,children:V.jsx("div",{className:"qr-scanner-container",onClick:Ce=>Ce.stopPropagation(),children:V.jsxs("div",{className:"bg-white p-lg rounded-none max-w-sm mx-auto",children:[V.jsx("h3",{className:"text-subhead text-black text-center mb-md",children:"Scan QR Code"}),V.jsx("p",{className:"text-body text-medium-gray text-center mb-lg",children:"Position the QR code within the viewfinder"}),V.jsx("div",{id:"qr-reader",className:"w-full h-64 bg-black"}),V.jsx("div",{className:"text-center mt-lg",children:V.jsx("button",{onClick:Se,className:"btn-secondary w-full",children:"CANCEL"})})]})})})]})}function jd(){const x=Ts(),[m,g]=ue.useState(""),[A,I]=ue.useState([]),[C,O]=ue.useState([]),[P,B]=ue.useState(null),[N,W]=ue.useState(!1),[M,le]=ue.useState(!1),[xe,be]=ue.useState("");ue.useEffect(()=>{ae()},[]),ue.useEffect(()=>{const Se=setTimeout(async()=>{if(m.trim()===""){O([]),B(null);return}try{const ct=await Ol.searchDevices(m.trim());O(ct.data||[])}catch(ct){console.error("Search failed:",ct.message),O([])}},300);return()=>clearTimeout(Se)},[m]);const ae=async()=>{W(!0);try{const re=await Ol.getDevices();I(re.data||[])}catch(re){be(`Failed to load devices: ${re.message}`)}finally{W(!1)}},he=re=>{B(re),g(re.deviceId),O([]),be("")},Me=async()=>{if(P){le(!0),be("");try{const re=await Ol.deleteDevice(P.deviceId);B(null),g(""),I(A.filter(Se=>Se.deviceId!==P.deviceId)),x("/dashboard")}catch(re){be(`Deregistration failed: ${re.message}`)}finally{le(!1)}}},Te=re=>new Date(re).toLocaleString();return V.jsxs("div",{className:"min-h-screen bg-white",children:[V.jsx(wu,{showBackButton:!0}),V.jsxs("div",{className:"page-container",children:[V.jsxs("div",{className:"page-header",children:[V.jsx("h1",{className:"text-headline text-black",children:"Device Deregistration"}),V.jsx("p",{className:"text-body text-medium-gray mt-sm",children:"Search and remove devices from the active registry"})]}),V.jsxs("div",{className:"deregister-container",children:[V.jsxs("div",{className:"space-y-md mb-lg",children:[V.jsx("label",{htmlFor:"deviceSearch",className:"form-label required",children:"Search Device"}),V.jsx("input",{type:"text",id:"deviceSearch",value:m,onChange:re=>g(re.target.value),className:"input-field w-full",placeholder:"Search by device ID, name, or version",disabled:N})]}),C.length>0&&V.jsxs("div",{className:"mb-lg",children:[V.jsxs("p",{className:"text-small text-medium-gray mb-sm",children:[C.length," device",C.length!==1?"s":""," found"]}),V.jsx("div",{className:"space-y-xs max-h-64 overflow-y-auto border border-border-gray",children:C.map(re=>V.jsxs("div",{onClick:()=>he(re),className:"p-sm bg-white border border-border-gray cursor-pointer hover:bg-surface-gray transition-colors",children:[V.jsx("div",{className:"text-body font-mono text-dark-gray",children:re.deviceId}),V.jsxs("div",{className:"text-small text-medium-gray",children:[re.device_name," - ",re.device_version]})]},re.deviceId))})]}),P&&V.jsxs("div",{className:"card mb-lg",children:[V.jsx("h3",{className:"text-subhead text-black mb-md",children:"Device Details"}),V.jsxs("div",{className:"space-y-sm",children:[V.jsxs("div",{className:"flex",children:[V.jsx("span",{className:"text-small font-bold uppercase tracking-wide text-medium-gray w-32",children:"Device ID:"}),V.jsx("span",{className:"text-body font-mono text-dark-gray",children:P.deviceId})]}),V.jsxs("div",{className:"flex",children:[V.jsx("span",{className:"text-small font-bold uppercase tracking-wide text-medium-gray w-32",children:"Name:"}),V.jsx("span",{className:"text-body text-dark-gray",children:P.device_name})]}),V.jsxs("div",{className:"flex",children:[V.jsx("span",{className:"text-small font-bold uppercase tracking-wide text-medium-gray w-32",children:"Version:"}),V.jsx("span",{className:"text-body text-dark-gray",children:P.device_version})]}),V.jsxs("div",{className:"flex",children:[V.jsx("span",{className:"text-small font-bold uppercase tracking-wide text-medium-gray w-32",children:"Registered:"}),V.jsx("span",{className:"text-body text-dark-gray",children:Te(P.registeredAt)})]}),V.jsxs("div",{className:"flex",children:[V.jsx("span",{className:"text-small font-bold uppercase tracking-wide text-medium-gray w-32",children:"Linked Status:"}),V.jsx("span",{className:`text-body ${P.isLinked?"text-warning":"text-success"}`,children:P.isLinked?"Yes":"No"})]}),P.isLinked&&V.jsxs(V.Fragment,{children:[V.jsxs("div",{className:"flex",children:[V.jsx("span",{className:"text-small font-bold uppercase tracking-wide text-medium-gray w-32",children:"Linked Date:"}),V.jsx("span",{className:"text-body text-dark-gray",children:P.linkedAt?Te(P.linkedAt):"N/A"})]}),V.jsxs("div",{className:"flex",children:[V.jsx("span",{className:"text-small font-bold uppercase tracking-wide text-medium-gray w-32",children:"Linked User:"}),V.jsx("span",{className:"text-body text-dark-gray",children:P.linkedToUser||"N/A"})]})]})]})]}),P&&V.jsxs("div",{className:"space-y-sm",children:[V.jsxs("div",{className:"bg-surface-gray p-md border border-border-gray",children:[V.jsx("p",{className:"text-small text-error font-medium",children:"WARNING: This action cannot be undone"}),V.jsx("p",{className:"text-small text-medium-gray",children:"The device will be permanently removed from the registry."})]}),xe&&V.jsx("div",{className:"validation-message error",children:xe}),V.jsx("button",{onClick:Me,className:"btn-destructive w-full",disabled:M,children:M?"PROCESSING...":"DEREGISTER DEVICE"})]}),N&&V.jsx("div",{className:"text-center py-xl",children:V.jsx("p",{className:"text-body text-medium-gray",children:"Loading devices..."})}),!N&&A.length===0&&V.jsx("div",{className:"text-center py-xl",children:V.jsx("p",{className:"text-body text-medium-gray",children:"No devices found in the registry."})})]})]})]})}function zd(){return V.jsx(cd,{children:V.jsx(sd,{children:V.jsx("div",{className:"min-h-screen bg-white font-primary",children:V.jsxs(nd,{children:[V.jsx(Yi,{path:"/login",element:V.jsx(fd,{})}),V.jsx(Yi,{path:"/dashboard",element:V.jsx(cu,{children:V.jsx(dd,{})})}),V.jsx(Yi,{path:"/register",element:V.jsx(cu,{children:V.jsx(Vd,{})})}),V.jsx(Yi,{path:"/deregister",element:V.jsx(cu,{children:V.jsx(jd,{})})}),V.jsx(Yi,{path:"/",element:V.jsx(du,{to:"/dashboard",replace:!0})}),V.jsx(Yi,{path:"*",element:V.jsx(du,{to:"/dashboard",replace:!0})})]})})})})}cf.createRoot(document.getElementById("root")).render(V.jsx(ue.StrictMode,{children:V.jsx(df,{children:V.jsx(zd,{})})}));
